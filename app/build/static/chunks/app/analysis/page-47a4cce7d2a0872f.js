(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2490],{8058:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("ArrowDownToDot",[["path",{d:"M12 2v14",key:"jyx4ut"}],["path",{d:"m19 9-7 7-7-7",key:"1oe3oy"}],["circle",{cx:"12",cy:"21",r:"1",key:"o0uj5v"}]])},16195:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},83839:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Move3d",[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]])},21734:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},47826:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},65523:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},31517:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},51793:function(e,t,n){Promise.resolve().then(n.bind(n,98336)),Promise.resolve().then(n.bind(n,88192)),Promise.resolve().then(n.bind(n,56445))},81127:function(e,t,n){"use strict";n.d(t,{k:function(){return useGcodeCommand}});var r=n(39164),a=n(96886);let useGcodeCommand=()=>{let e=(0,a.xH)("printer.gcode.script");return(0,r.useCallback)(async function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];let o=[t[0]];r.forEach((e,n)=>{o.push(e.toString(),t[n+1])});let l=o.join("");console.log(l);let i=await e.mutateAsync({script:l});console.log(i)},[])}},98336:function(e,t,n){"use strict";n.r(t),n.d(t,{Analysis:function(){return Analysis}});var r=n(45489),a=n(72612),o=n(39164),l=n(81127),i=n(63278),s=n(90077),c=n(98130),d=n(77706),u=n(58818),m=n(80461),f=n(88192),p=n(29817),x=n(11054),h=n(30742),g=n(8832),b=n(96588),y=n(32342),v=n(94787),w=n(98948),j=n(96886),M=n(73371),S=n(39762),k=n(73790),_=n(34709),I=n(64929);let N={type:"spring",damping:40,stiffness:450},LiveGcodeResponse=e=>{var t;let{lastMessage:n}=(0,j.oK)({passThroughUpdateMethods:["notify_gcode_response"]}),[r,l]=(0,o.useState)([]);(0,o.useEffect)(()=>{n&&"method"in n&&"notify_gcode_response"===n.method&&l(t=>{var r;return t.concat(n.params).slice(-(null!==(r=e.lines)&&void 0!==r?r:1))})},[n,e.lines]);let s=r.map(e=>e.split("\n").length).reduce((e,t)=>e+t,0);return(0,a.jsx)(S.M,{children:0!==r.length&&(0,a.jsx)(k.E.div,{className:(0,I.cn)("flex max-h-96 max-w-md",e.className),initial:{width:0,opacity:0},animate:{opacity:1,width:"100%"},exit:{width:0,opacity:0},transition:N,children:(0,a.jsx)(f.Card,{className:"flex flex-1 flex-col",children:(0,a.jsxs)(M.aY,{className:"grid flex-1 gap-2 overflow-hidden p-0 @sm:p-0",children:[(0,a.jsx)(M.ll,{className:"px-4 pt-4",children:"Console Output"}),(0,a.jsx)(M.SZ,{className:(0,i.dV)("scrollable max-h-max overflow-hidden px-4 pb-4 @sm:px-4",s>(null!==(t=e.lines)&&void 0!==t?t:1)+2&&"overflow-y-scroll"),children:(0,a.jsx)(_.i,{transition:N,children:(0,a.jsx)(S.M,{children:r.map((e,t)=>{let n=e.replace(/^(\/\/ |echo: |!! )/gm,"");return(0,a.jsx)(k.E.div,{transition:N,className:(0,i.dV)("whitespace-pre-wrap font-mono text-sm",e.trim().startsWith("!!")&&"text-rose-500"),initial:{opacity:0,translateY:50,height:0},animate:{opacity:1,translateY:0,height:"auto"},exit:{opacity:0,translateY:-50,height:0},dangerouslySetInnerHTML:{__html:n}},e)})})})})]})},"container")})})};d.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useRealtimeAnalysisChart=function(e){var t,n,r,a,l,i,s,c,u,f,x,g,j;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let[M,S]=(0,o.useState)(!1),[k,_]=(0,o.useState)(!1),I=(0,m.YC)(),N=(0,b.sJ)(y.OS),A=null!=e?e:I[0].getYAccelerometerName(),R=null!==(u="controlboard"===A?null==N?void 0:N.name:"toolboard_t0"===A?null===(n=I[0])||void 0===n?void 0:null===(t=n.getToolboard())||void 0===t?void 0:t.name:"toolboard_t1"===A?null===(a=I[1])||void 0===a?void 0:null===(r=a.getToolboard())||void 0===r?void 0:r.name:"rpi"===A?"Raspberry Pi":"beacon"===A?"Beacon":"N/A")&&void 0!==u?u:"N/A",C=(0,p.ZA)(),D=(0,p.QR)("x"),E=(0,p.QR)("y"),z=(0,p.QR)("z"),Z=null!==(f=null===(l=D.data.current)||void 0===l?void 0:l.yAxis)&&void 0!==f?f:null,P=null!==(x=null===(i=E.data.current)||void 0===i?void 0:i.yAxis)&&void 0!==x?x:null,V=null!==(g=null===(s=z.data.current)||void 0===s?void 0:s.yAxis)&&void 0!==g?g:null,q=(0,o.useMemo)(()=>[Z,P,V],[Z,P,V]),T=(0,h.Tv)(q,new d.NumberRange(-5e3,5e3),1e3),O=null!==(j=null===(c=C.surface.current)||void 0===c?void 0:c.yAxes.getById(p.ck))&&void 0!==j?j:null,$=(0,h.Tv)(O,p.as),B=(0,o.useRef)(async e=>{}),L=(0,o.useCallback)(async e=>{var t,n,r,a,o,l,i,s,c,u,m,f,p,x,h,g,b,y,v,w,j;S(t=>(!1===t&&!0===e&&(F.current=performance.now()),e)),e||await B.current(e);let M=null!==(w=null===(t=D.data.current)||void 0===t?void 0:t.signalData.count())&&void 0!==w?w:0,k=null!==(j=null===(n=C.surface.current)||void 0===n?void 0:n.renderableSeries.getById("total").dataSeries.count())&&void 0!==j?j:0;null===(r=D.data.current)||void 0===r||r.signalData.clear(),null===(a=E.data.current)||void 0===a||a.signalData.clear(),null===(o=z.data.current)||void 0===o||o.signalData.clear(),null===(l=D.data.current)||void 0===l||l.historyData.clear(),null===(i=E.data.current)||void 0===i||i.historyData.clear(),null===(s=z.data.current)||void 0===s||s.historyData.clear(),null===(c=D.data.current)||void 0===c||c.signalData.appendRange(Array(M).fill(0).map((e,t)=>t),Array(M).fill(0)),null===(u=E.data.current)||void 0===u||u.signalData.appendRange(Array(M).fill(0).map((e,t)=>t),Array(M).fill(0)),null===(m=z.data.current)||void 0===m||m.signalData.appendRange(Array(M).fill(0).map((e,t)=>t),Array(M).fill(0)),null===(f=D.surface.current)||void 0===f||f.invalidateElement(),null===(p=E.surface.current)||void 0===p||p.invalidateElement(),null===(x=z.surface.current)||void 0===x||x.invalidateElement();let _=null===(h=C.data.current)||void 0===h?void 0:h.animationSeries;null!=_&&(_.x.clear(),_.y.clear(),_.z.clear(),_.total.clear(),_.x.appendRange(Array(k).fill(0).map((e,t)=>t*(200/k)),Array(k).fill(0)),_.y.appendRange(Array(k).fill(0).map((e,t)=>t*(200/k)),Array(k).fill(0)),_.z.appendRange(Array(k).fill(0).map((e,t)=>t*(200/k)),Array(k).fill(0)),_.total.appendRange(Array(k).fill(0).map((e,t)=>t*(200/k)),Array(k).fill(0)),null===(g=C.surface.current)||void 0===g||g.renderableSeries.getById("x").runAnimation(new d.LineAnimation({duration:200,ease:d.easing.inOutQuad,dataSeries:_.x})),null===(b=C.surface.current)||void 0===b||b.renderableSeries.getById("y").runAnimation(new d.LineAnimation({duration:200,ease:d.easing.inOutQuad,dataSeries:_.y})),null===(y=C.surface.current)||void 0===y||y.renderableSeries.getById("z").runAnimation(new d.LineAnimation({duration:200,ease:d.easing.inOutQuad,dataSeries:_.z})),null===(v=C.surface.current)||void 0===v||v.renderableSeries.getById("total").runAnimation(new d.MountainAnimation({duration:200,ease:d.easing.inOutQuad,dataSeries:_.total})),$(new d.NumberRange(0,0)),e&&await B.current(e))},[C.data,C.surface,$,D.data,D.surface,E.data,E.surface,z.data,z.surface]),F=(0,o.useRef)(performance.now()),Y=(0,o.useCallback)(e=>{var t;let n=C.surface.current;if(null==n)return;let r=performance.now()-F.current;if(F.current=performance.now(),200>e.total.frequencies.reduce((e,t)=>e+t,0))return;let a=null===(t=C.data.current)||void 0===t?void 0:t.animationSeries;if(null==a)throw Error("No animation data series");e.x.frequencies.length!==e.x.estimates.length&&(0,w.j)().warn("X estimates and frequencies are not the same length (".concat(e.x.estimates.length," vs ").concat(e.x.frequencies.length,")")),e.y.frequencies.length!==e.y.estimates.length&&(0,w.j)().warn("Y estimates and frequencies are not the same length (".concat(e.y.estimates.length," vs ").concat(e.y.frequencies.length,")")),e.z.frequencies.length!==e.z.estimates.length&&(0,w.j)().warn("Z estimates and frequencies are not the same length (".concat(e.z.estimates.length," vs ").concat(e.z.frequencies.length,")")),e.total.frequencies.length!==e.total.estimates.length&&(0,w.j)().warn("Total estimates and frequencies are not the same length  (".concat(e.total.estimates.length," vs ").concat(e.total.frequencies.length,")")),e.x.frequencies.length!==n.renderableSeries.getById("x").dataSeries.count()&&((0,w.j)().warn("X frequencies are not the same length as the data series (".concat(e.x.estimates.length," vs ").concat(n.renderableSeries.getById("x").dataSeries.count(),")")),n.renderableSeries.getById("x").dataSeries.clear(),n.renderableSeries.getById("y").dataSeries.clear(),n.renderableSeries.getById("z").dataSeries.clear(),n.renderableSeries.getById("total").dataSeries.clear(),n.renderableSeries.getById("x").dataSeries.appendRange(e.x.frequencies,Array(e.x.frequencies.length).fill(0)),n.renderableSeries.getById("y").dataSeries.appendRange(e.y.frequencies,Array(e.y.frequencies.length).fill(0)),n.renderableSeries.getById("z").dataSeries.appendRange(e.z.frequencies,Array(e.z.frequencies.length).fill(0)),n.renderableSeries.getById("total").dataSeries.appendRange(e.total.frequencies,Array(e.total.frequencies.length).fill(0))),a.x.clear(),a.y.clear(),a.z.clear(),a.total.clear(),a.x.appendRange(e.x.frequencies,e.x.estimates),a.y.appendRange(e.y.frequencies,e.y.estimates),a.z.appendRange(e.z.frequencies,e.z.estimates),a.total.appendRange(e.total.frequencies,e.total.estimates),n.renderableSeries.getById("x").runAnimation(new d.LineAnimation({duration:Math.max(r,100),ease:d.easing.inOutQuad,dataSeries:a.x})),n.renderableSeries.getById("y").runAnimation(new d.LineAnimation({duration:Math.max(r,100),ease:d.easing.inOutQuad,dataSeries:a.y})),n.renderableSeries.getById("z").runAnimation(new d.LineAnimation({duration:Math.max(r,100),ease:d.easing.inOutQuad,dataSeries:a.z})),n.renderableSeries.getById("total").runAnimation(new d.MountainAnimation({duration:Math.max(r,100),ease:d.easing.inOutQuad,dataSeries:a.total})),$(new d.NumberRange(e.total.powerRange.min,e.total.powerRange.max))},[C.data,C.surface,$]),U=(0,o.useCallback)(async e=>{var t,n,r,a,o,l;let[i,s,c,d]=e;null===(t=D.data.current)||void 0===t||t.signalData.appendRange(i,s),null===(n=E.data.current)||void 0===n||n.signalData.appendRange(i,c),null===(r=z.data.current)||void 0===r||r.signalData.appendRange(i,d),null===(a=D.data.current)||void 0===a||a.historyData.appendRange(i,s),null===(o=E.data.current)||void 0===o||o.historyData.appendRange(i,c),null===(l=z.data.current)||void 0===l||l.historyData.appendRange(i,d),T()},[T,D.data,E.data,z.data]),H=(0,o.useCallback)(e=>{L(!1),(0,w.j)().error(e),v.A.error("Error during accelerometer data streaming",{description:e.message})},[L]),{startAccumulation:X,stopAccumulation:K,streamStarted:Q,streamStopped:W}=(0,h.ck)(M,A,U,Y,H);return B.current=(0,o.useCallback)(async e=>(_(!0),!1===e)?W().finally(()=>{_(!1)}):Q().finally(()=>{_(!1)}),[Q,W]),(0,o.useMemo)(()=>({isChartEnabled:M,isLoading:k,setIsChartEnabled:L,streamStarted:Q,streamStopped:W,psds:{startAccumulation:X,stopAccumulation:K},currentAccelerometer:A,currentAccelerometerHardwareName:R,chartProps:{xSignalChart:D,ySignalChart:E,zSignalChart:z,psdChart:C}}),[M,k,L,Q,W,X,K,A,R,D,E,z,C])},A=o.memo(e=>{let{xSignalChart:t,ySignalChart:n,zSignalChart:r,psdChart:o}=e;return(0,a.jsxs)("div",{className:"flex max-h-full min-h-full flex-col space-y-4 @container",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 @screen-lg:grid-cols-3",children:[(0,a.jsxs)(f.Card,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.dV)("flex-none rounded-full bg-yellow-400/10 p-1 text-yellow-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"X Signal"})]}),(0,a.jsx)(x.iB,{...t.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(g.I,{className:"ml-[150px]"})})]}),(0,a.jsxs)(f.Card,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.dV)("flex-none rounded-full bg-sky-400/10 p-1 text-sky-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"Y Signal"})]}),(0,a.jsx)(x.iB,{...n.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(g.I,{className:"ml-[150px]"})})]}),(0,a.jsxs)(f.Card,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.dV)("flex-none rounded-full bg-rose-400/10 p-1 text-rose-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"Z Signal"})]}),(0,a.jsx)(x.iB,{...r.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(g.I,{className:"ml-[150px]"})})]})]}),(0,a.jsxs)(f.Card,{className:"relative flex flex-1 overflow-hidden",children:[(0,a.jsx)(x.iB,{...o.forwardProps,className:"flex-1",fallback:(0,a.jsx)(g.I,{className:"ml-[150px]"})}),(0,a.jsx)(LiveGcodeResponse,{className:"absolute right-4 top-4"})]})]})});var R=n(82157),C=n.n(R),D=n(79293),E=n(71576),z=n(25374),Z=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let P=(0,Z.Z)("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]),V=(0,Z.Z)("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);var q=n(83839),T=n(65523),O=n(16195),$=n(8058),B=n(31517),L=n(21734);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let F=(0,Z.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Y=(0,Z.Z)("PencilRuler",[["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m2 22 5.5-1.5L21.17 6.83a2.82 2.82 0 0 0-4-4L3.5 16.5Z",key:"hes763"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}]]),U=(0,Z.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),H=(0,Z.Z)("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]),X=(0,Z.Z)("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}]]),K=(0,Z.Z)("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),Q=(0,Z.Z)("MoveDiagonal",[["polyline",{points:"13 5 19 5 19 11",key:"11219e"}],["polyline",{points:"11 19 5 19 5 13",key:"sfq3wq"}],["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}]]),W=(0,Z.Z)("MoveDiagonal2",[["polyline",{points:"5 11 5 5 11 5",key:"ncfzxk"}],["polyline",{points:"19 13 19 19 13 19",key:"1mk7hk"}],["line",{x1:"5",x2:"19",y1:"5",y2:"19",key:"mcyte3"}]]);var G=n(47826),J=n(64107);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ee=(0,Z.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),et=(0,Z.Z)("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]),en=(0,Z.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var er=n(36577),ea=n(54456),eo=n(91036),el=n(50320),ei=n(74706),es=n(34952),ec=n(69770),ed=n(76843),eu=n(25800),em=n(32558),ef=n(44910);let ep=["PageUp","PageDown"],ex=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eh={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},eg="Slider",[eb,ey,ev]=(0,ef.B)(eg),[ew,ej]=(0,ei.b)(eg,[ev]),[eM,eS]=ew(eg),ek=(0,o.forwardRef)((e,t)=>{let{name:n,min:r=0,max:a=100,step:l=1,orientation:i="horizontal",disabled:s=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:u,onValueChange:m=()=>{},onValueCommit:f=()=>{},inverted:p=!1,...x}=e,[h,g]=(0,o.useState)(null),b=(0,el.e)(t,e=>g(e)),y=(0,o.useRef)(new Set),v=(0,o.useRef)(0),w=!h||!!h.closest("form"),j="horizontal"===i?eN:eA,[M=[],S]=(0,es.T)({prop:u,defaultProp:d,onChange:e=>{var t;let n=[...y.current];null===(t=n[v.current])||void 0===t||t.focus(),m(e)}}),k=(0,o.useRef)(M);function updateValues(e,t,{commit:n}={commit:!1}){let o=(String(l).split(".")[1]||"").length,i=function(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-r)/l)*l+r,o),s=(0,ea.u)(i,[r,a]);S((e=[])=>{let r=function(e=[],t,n){let r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,s,t);if(!function(e,t){if(t>0){let n=e.slice(0,-1).map((t,n)=>e[n+1]-t);return Math.min(...n)>=t}return!0}(r,c*l))return e;{v.current=r.indexOf(s);let t=String(r)!==String(e);return t&&n&&f(r),t?r:e}})}return(0,o.createElement)(eM,{scope:e.__scopeSlider,disabled:s,min:r,max:a,valueIndexToChangeRef:v,thumbs:y.current,values:M,orientation:i},(0,o.createElement)(eb.Provider,{scope:e.__scopeSlider},(0,o.createElement)(eb.Slot,{scope:e.__scopeSlider},(0,o.createElement)(j,(0,er.Z)({"aria-disabled":s,"data-disabled":s?"":void 0},x,{ref:b,onPointerDown:(0,eo.M)(x.onPointerDown,()=>{s||(k.current=M)}),min:r,max:a,inverted:p,onSlideStart:s?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(M,e);updateValues(e,t)},onSlideMove:s?void 0:function(e){updateValues(e,v.current)},onSlideEnd:s?void 0:function(){let e=k.current[v.current],t=M[v.current];t!==e&&f(M)},onHomeKeyDown:()=>!s&&updateValues(r,0,{commit:!0}),onEndKeyDown:()=>!s&&updateValues(a,M.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!s){let n=ep.includes(e.key),r=n||e.shiftKey&&ex.includes(e.key),a=v.current,o=M[a],i=l*(r?10:1)*t;updateValues(o+i,a,{commit:!0})}}})))),w&&M.map((e,t)=>(0,o.createElement)($faa2e61a3361514f$var$BubbleInput,{key:t,name:n?n+(M.length>1?"[]":""):void 0,value:e})))}),[e_,eI]=ew(eg,{startEdge:"left",endEdge:"right",size:"width",direction:1}),eN=(0,o.forwardRef)((e,t)=>{let{min:n,max:r,dir:a,inverted:l,onSlideStart:i,onSlideMove:s,onSlideEnd:c,onStepKeyDown:d,...u}=e,[m,f]=(0,o.useState)(null),p=(0,el.e)(t,e=>f(e)),x=(0,o.useRef)(),h=(0,ec.gm)(a),g="ltr"===h,b=g&&!l||!g&&l;function getValueFromPointer(e){let t=x.current||m.getBoundingClientRect(),a=[0,t.width],o=$faa2e61a3361514f$var$linearScale(a,b?[n,r]:[r,n]);return x.current=t,o(e-t.left)}return(0,o.createElement)(e_,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width"},(0,o.createElement)(eR,(0,er.Z)({dir:h,"data-orientation":"horizontal"},u,{ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=getValueFromPointer(e.clientX);null==i||i(t)},onSlideMove:e=>{let t=getValueFromPointer(e.clientX);null==s||s(t)},onSlideEnd:()=>{x.current=void 0,null==c||c()},onStepKeyDown:e=>{let t=eh[b?"from-left":"from-right"].includes(e.key);null==d||d({event:e,direction:t?-1:1})}})))}),eA=(0,o.forwardRef)((e,t)=>{let{min:n,max:r,inverted:a,onSlideStart:l,onSlideMove:i,onSlideEnd:s,onStepKeyDown:c,...d}=e,u=(0,o.useRef)(null),m=(0,el.e)(t,u),f=(0,o.useRef)(),p=!a;function getValueFromPointer(e){let t=f.current||u.current.getBoundingClientRect(),a=[0,t.height],o=$faa2e61a3361514f$var$linearScale(a,p?[r,n]:[n,r]);return f.current=t,o(e-t.top)}return(0,o.createElement)(e_,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1},(0,o.createElement)(eR,(0,er.Z)({"data-orientation":"vertical"},d,{ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=getValueFromPointer(e.clientY);null==l||l(t)},onSlideMove:e=>{let t=getValueFromPointer(e.clientY);null==i||i(t)},onSlideEnd:()=>{f.current=void 0,null==s||s()},onStepKeyDown:e=>{let t=eh[p?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})))}),eR=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:i,onEndKeyDown:s,onStepKeyDown:c,...d}=e,u=eS(eg,n);return(0,o.createElement)(em.WV.span,(0,er.Z)({},d,{ref:t,onKeyDown:(0,eo.M)(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(s(e),e.preventDefault()):ep.concat(ex).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,eo.M)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():r(e)}),onPointerMove:(0,eo.M)(e.onPointerMove,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:(0,eo.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),l(e))})}))}),eC=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,...r}=e,a=eS("SliderTrack",n);return(0,o.createElement)(em.WV.span,(0,er.Z)({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},r,{ref:t}))}),eD="SliderRange",eE=(0,o.forwardRef)((e,t)=>{let{__scopeSlider:n,...r}=e,a=eS(eD,n),l=eI(eD,n),i=(0,o.useRef)(null),s=(0,el.e)(t,i),c=a.values.length,d=a.values.map(e=>$faa2e61a3361514f$var$convertValueToPercentage(e,a.min,a.max));return(0,o.createElement)(em.WV.span,(0,er.Z)({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},r,{ref:s,style:{...e.style,[l.startEdge]:(c>1?Math.min(...d):0)+"%",[l.endEdge]:100-Math.max(...d)+"%"}}))}),ez="SliderThumb",eZ=(0,o.forwardRef)((e,t)=>{let n=ey(e.__scopeSlider),[r,a]=(0,o.useState)(null),l=(0,el.e)(t,e=>a(e)),i=(0,o.useMemo)(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return(0,o.createElement)(eP,(0,er.Z)({},e,{ref:l,index:i}))}),eP=(0,o.forwardRef)((e,t)=>{var n;let{__scopeSlider:r,index:a,...l}=e,i=eS(ez,r),s=eI(ez,r),[c,d]=(0,o.useState)(null),u=(0,el.e)(t,e=>d(e)),m=(0,eu.t)(c),f=i.values[a],p=void 0===f?0:$faa2e61a3361514f$var$convertValueToPercentage(f,i.min,i.max),x=(n=i.values.length)>2?`Value ${a+1} of ${n}`:2===n?["Minimum","Maximum"][a]:void 0,h=null==m?void 0:m[s.size],g=h?function(e,t,n){let r=e/2,a=$faa2e61a3361514f$var$linearScale([0,50],[0,r]);return(r-a(t)*n)*n}(h,p,s.direction):0;return(0,o.useEffect)(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),(0,o.createElement)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${p}% + ${g}px)`}},(0,o.createElement)(eb.ItemSlot,{scope:e.__scopeSlider},(0,o.createElement)(em.WV.span,(0,er.Z)({role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":f,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0},l,{ref:u,style:void 0===f?{display:"none"}:e.style,onFocus:(0,eo.M)(e.onFocus,()=>{i.valueIndexToChangeRef.current=a})}))))}),$faa2e61a3361514f$var$BubbleInput=e=>{let{value:t,...n}=e,r=(0,o.useRef)(null),a=(0,ed.D)(t);return(0,o.useEffect)(()=>{let e=r.current,n=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(n,"value"),l=o.set;if(a!==t&&l){let n=new Event("input",{bubbles:!0});l.call(e,t),e.dispatchEvent(n)}},[a,t]),(0,o.createElement)("input",(0,er.Z)({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function $faa2e61a3361514f$var$convertValueToPercentage(e,t,n){return(0,ea.u)(100/(n-t)*(e-t),[0,100])}function $faa2e61a3361514f$var$linearScale(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}let eV=o.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsxs)(ek,{ref:t,className:(0,I.cn)("relative flex w-full touch-none select-none items-center",n),...r,children:[(0,a.jsx)(eC,{className:(0,I.cn)("relative h-1.5 w-full grow rounded-full bg-zinc-400/10","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[0px_-1px_0px_0px_hsl(var(--zinc-400)_/_15%)_inset,_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]"),children:(0,a.jsx)(eE,{className:(0,I.cn)("absolute h-full rounded-full bg-brand-400/80","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[inset_0px_-1px_0px_0px_hsl(var(--brand-200)_/_20%),_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]")})}),(0,a.jsx)(eZ,{className:(0,I.cn)("block h-4 w-4 rounded-full border border-zinc-700 bg-zinc-700 shadow transition-colors","focus-visible:outline-none focus-visible:ring-0 disabled:pointer-events-none disabled:opacity-50","shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.03)]","dark:before:inset-px dark:before:rounded-full","dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_hsl(var(--zinc-900)),_0px_1px_0px_0px_hsl(var(--zinc-400)_/_20%)_inset]")})]})});(0,I.h)(eV,ek.displayName);var eq=n(69047),eT=n(81446);function _templateObject(){let e=(0,r._)(["\n			OSCILLATE FREQ="," TIME="," AXIS=","\n			"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n						","\n						M400\n					"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["MAYBE_HOME"]);return _templateObject2=function(){return e},e}d.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useOscillator=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,r]=(0,o.useState)(0),a=(0,o.useRef)(n);a.current=n;let[l,i]=(0,o.useState)("x"),s=(0,o.useRef)(l);s.current=l;let c=(0,o.useRef)(!1),d=(0,o.useRef)(t);d.current=t;let u=(0,o.useCallback)(async()=>{if(a.current<=0||c.current)return;let t=500/a.current,n=Math.floor(Math.max(250,500-500%t)),r="a"===s.current?"1,1":"b"===s.current?"1,-1":s.current,o=performance.now();try{if(!d.current){c.current=!1;return}c.current=!0,await e(_templateObject(),a.current,n/1e3,r),c.current=!1;let t=performance.now()-o;a.current>0&&t>n?setTimeout(()=>{u()},1):setTimeout(()=>{u()},n-t)}catch(e){c.current=!1,(0,w.j)().error(e,"Failed to oscillate"),v.A.error("Failed to oscillate",{description:'\n					<div>\n						<p>An error occurred while trying to oscillate the printer:</p>\n						<pre class="text-wrap mt-4 text-rose-400 font-medium whitespace-pre-wrap">'.concat(e instanceof Error?e.message:e instanceof String?e:"Unknown error","</pre>\n					</div>\n				")})}},[e]);return(0,o.useEffect)(()=>{n>0&&!c.current&&t&&u()},[u,n,t]),{frequency:n,setFrequency:r,axis:l,setAxis:i}},eO={onError(e,t){(0,w.j)().error("Failed to save macro sequence recording",{error:e,variables:{...t,psd:"removed from log.."}})}},Analysis=()=>{let[e]=D.SX.analysis.getMacros.useSuspenseQuery({limit:10}),t=(0,z.useRouter)(),n=(0,m.YC)(),r=(0,o.useMemo)(()=>n.some(e=>"beacon"===e.getYAccelerometerName()||"beacon"===e.getXAccelerometerName()),[n]),[d,f]=(0,o.useState)(n[0].getYAccelerometerName()),{isChartEnabled:p,isLoading:x,setIsChartEnabled:h,streamStarted:g,streamStopped:b,chartProps:y,psds:j,currentAccelerometer:M,currentAccelerometerHardwareName:S}=useRealtimeAnalysisChart(d),{mutateAsync:k}=D.SX.analysis.saveRecording.useMutation(eO),_=(0,o.useRef)(p);_.current=p;let[I,N]=(0,o.useState)(!1),[R,Z]=(0,o.useState)(!1),er=(0,o.useRef)(null),ea=(0,l.k)(),{frequency:eo,setFrequency:el,axis:ei,setAxis:es}=useOscillator(ea,p&&!R),ec=(0,o.useRef)(new AbortController),ed=(0,o.useCallback)(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return async()=>{ec.current=new AbortController;let t=_.current;el(0),Z(!0);try{await e(ec.current.signal,...n)}catch(e){ec.current.signal.aborted||e instanceof DOMException&&"AbortError"===e.name?((0,w.j)().info(e,"Macro run aborted"),v.A.info("Macro run aborted",{description:"The macro run was aborted"})):((0,w.j)().error("Macro run failed",e),v.A.error("Macro failed",{description:e instanceof Error?e.message:e instanceof String?e:"An unknown error occurred while running the macro"}))}finally{Z(!1),N(!1),t?h(!0):h(!1),er.current=null}}},[el,h]),eu=(0,o.useMemo)(()=>I?(0,a.jsx)(s.jXb,{className:"h-4 w-4 scale-150 text-red-400"}):R?(0,a.jsx)(c.$,{noMargin:!0,className:"h-4 w-4 group-data-[state=open]:text-white"}):(0,a.jsx)(P,{className:"h-5 w-5 text-white group-data-[state=open]:text-white lg:text-white/60"}),[R,I]),em=(0,o.useCallback)(e=>ed(async n=>{er.current=e;let r=E.Z(),a=[],o=e.sequences.map(t=>async()=>{var o,l,i,s,c,d;if(n.aborted)throw new DOMException("Macro run aborted by user","AbortError");let u=new Date().getTime();if(f(null===(o=t.recording)||void 0===o?void 0:o.accelerometer),await h(!0),(null===(l=t.recording)||void 0===l?void 0:l.capturePSD)&&((0,w.j)().info("Starting PSD accumulation"),await j.startAccumulation(),N(!0)),n.aborted)throw await j.stopAccumulation(),N(!1),new DOMException("Macro run aborted by user","AbortError");if(await ea(_templateObject1(),t.gcode),null===(i=t.recording)||void 0===i?void 0:i.capturePSD){let o;(0,w.j)().info("Stopping PSD accumulation");let l=await j.stopAccumulation();if(N(!1),n.aborted)throw new DOMException("Macro run aborted by user","AbortError");let i=await fetch("http://".concat((0,eT.X)(),"/printer/objects/query?toolhead=square_corner_velocity"));if(i.ok){let e=await i.json();(null==e?void 0:null===(d=e.result)||void 0===d?void 0:null===(c=d.status)||void 0===c?void 0:null===(s=c.toolhead)||void 0===s?void 0:s.square_corner_velocity)!=null?o=e.result.status.toolhead.square_corner_velocity:(0,w.j)().warn(e,"Failed to get square corner velocity from moonraker")}a.push(k({recording:{id:E.Z(),macroRecordingRunId:r,macroId:e.id,sequenceId:t.id,startTimeStamp:u,scv:o,endTimeStamp:new Date().getTime(),psd:l,name:t.name,accelerometer:M,recordingHardwareName:S}}))}await h(!1)});if(await o.reduce((e,t)=>e.then(t),Promise.resolve()),n.aborted)throw new DOMException("Macro run aborted by user","AbortError");let l=v.A.loading("Saving recordings...",{description:"Please wait for recordings to be saved."});try{await Promise.all(a),v.A.success("Macro run completed",{id:l,description:'Macro "'.concat(e.name,'" completed successfully'),action:{label:"View Result",onClick:()=>t.push("/analysis/macros/".concat(e.id,"/recordings/").concat(r))}})}catch(t){v.A.error("Macro run failed",{id:l,description:'An error occurred while saving macro result data for "'.concat(e.name,'"')})}}),[ed,h,ea,j,k,M,S,t]);return(0,u.Ty)("analysis",(0,o.useCallback)(t=>{var o,l;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.MenubarMenu,{children:[(0,a.jsxs)(t.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[x?(0,a.jsx)(c.$,{noMargin:!0,className:"size-4 text-white transition-colors group-data-[state=open]:text-white lg:text-white/60"}):(0,a.jsx)(t.MenubarIcon,{Icon:V,className:(0,i.dV)(p&&"text-brand-400 lg:text-brand-400")})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Stream"})]}),(0,a.jsxs)(t.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsxs)(t.MenubarSub,{children:[(0,a.jsxs)(t.MenubarSubTrigger,{children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:q.Z})," Accelerometer"]}),(0,a.jsx)(t.MenubarSubContent,{children:(0,a.jsxs)(t.MenubarRadioGroup,{value:d,onValueChange:e=>f(e),children:[(0,a.jsxs)(t.MenubarRadioItem,{value:"rpi",className:(0,i.dV)("rpi"===d&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:T.Z}),"Host"]}),(0,a.jsxs)(t.MenubarRadioItem,{value:"controlboard",className:(0,i.dV)("controlboard"===d&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:O.Z}),"Control Board"]}),n[0].hasToolboard()&&(0,a.jsxs)(t.MenubarRadioItem,{value:"toolboard_t0",className:(0,i.dV)("toolboard_t0"===d&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:$.Z}),"Toolboard T0"]}),n.length>1&&n[1].hasToolboard()&&(0,a.jsxs)(t.MenubarRadioItem,{value:"toolboard_t1",className:(0,i.dV)("toolboard_t1"===d&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:$.Z}),"Toolboard T1"]}),r&&(0,a.jsxs)(t.MenubarRadioItem,{value:"beacon",className:(0,i.dV)("beacon"===d&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:B.Z}),"Beacon"]})]})})]}),(0,a.jsx)(t.MenubarSeparator,{}),(0,a.jsxs)(t.MenubarItem,{disabled:p||R,onClick:async()=>{h(!0)},children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:L.Z})," Start"]}),(0,a.jsxs)(t.MenubarItem,{disabled:!p||R,onClick:async()=>{h(!1)},children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:F})," Stop"]})]})]}),(0,a.jsxs)(t.MenubarMenu,{children:[(0,a.jsxs)(t.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[(0,a.jsx)(t.MenubarIcon,{Icon:Y})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Tools"})]}),(0,a.jsxs)(t.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsxs)(t.MenubarItem,{disabled:R,onSelect:ed(async()=>{await ea(_templateObject2())}),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:U}),"Home Printer"]}),(0,a.jsx)(t.MenubarSeparator,{}),(0,a.jsxs)(t.MenubarSub,{children:[(0,a.jsxs)(t.MenubarSubTrigger,{children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:H})," Toolhead Oscillator"]}),(0,a.jsxs)(t.MenubarSubContent,{children:[(0,a.jsx)(t.MenubarLabel,{children:"Oscillation Direction"}),(0,a.jsxs)(t.MenubarRadioGroup,{value:ei,onValueChange:e=>es(e),children:[(0,a.jsxs)(t.MenubarRadioItem,{value:"x",className:(0,i.dV)("x"===ei&&eo>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:X})," ",(0,a.jsxs)("div",{children:["Oscillate X",(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This isolates the X belt on bedslingers."})]})]}),(0,a.jsxs)(t.MenubarRadioItem,{value:"y",className:(0,i.dV)("y"===ei&&eo>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:K})," ",(0,a.jsxs)("div",{children:["Oscillate Y",(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This isolates the Y belt on bedslingers."})]})]}),(0,a.jsxs)(t.MenubarRadioItem,{value:"a",className:(0,i.dV)("a"===ei&&eo>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:Q})," ",(0,a.jsxs)("div",{children:["Oscillate X+Y",(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This isolates the A belt on CoreXY."})]})]}),(0,a.jsxs)(t.MenubarRadioItem,{value:"b",className:(0,i.dV)("b"===ei&&eo>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:W})," ",(0,a.jsxs)("div",{children:["Oscillate X-Y",(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This isolates the B belt on CoreXY."})]})]})]}),(0,a.jsx)(t.MenubarSeparator,{}),(0,a.jsx)(t.MenubarLabel,{children:"Oscillation Frequency"}),(0,a.jsxs)("div",{className:"min-w-48 p-4",children:[(0,a.jsxs)("h3",{className:"-mt-2 text-center text-2xl font-medium tracking-tight",children:[(0,a.jsx)(eq.I,{type:"number",size:1,max:200,min:0,onKeyUp:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),className:"m-0 inline min-w-0 border-none bg-transparent p-0 text-right font-mono text-3xl font-medium tracking-tight",value:eo.toFixed(1),style:{width:eo.toFixed(1).length+"rem"},onChange:e=>el(parseFloat(e.target.value))}),"Hz"]}),(0,a.jsx)(eV,{min:0,className:"mt-4",max:200,value:[eo],onValueChange:e=>el(e[0]),step:.1})]})]})]})]})]}),(0,a.jsxs)(t.MenubarMenu,{children:[(0,a.jsxs)(t.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[eu," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Macros"})]}),(0,a.jsxs)(t.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsx)(t.MenubarItem,{disabled:R,asChild:!0,className:"pr-8",children:(0,a.jsxs)(C(),{href:"/analysis/macros/new",children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:G.Z})," New Macro",(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})]})}),(0,a.jsx)(t.MenubarItem,{disabled:R,asChild:!0,className:"pr-8",children:(0,a.jsxs)(C(),{href:"/analysis/macros",children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:ee})," Macro Overview",(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})]})}),(0,a.jsx)(t.MenubarSeparator,{}),(0,a.jsxs)(t.MenubarSub,{children:[(0,a.jsxs)(t.MenubarSubTrigger,{children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:L.Z})," Execute Macro"]}),(0,a.jsx)(t.MenubarSubContent,{className:"max-w-80",children:null===(o=e.result)||void 0===o?void 0:o.map(e=>{var n,r;return(0,a.jsxs)(t.MenubarItem,{disabled:R,onSelect:em(e),className:(0,i.dV)((null===(n=er.current)||void 0===n?void 0:n.id)===e.id&&"text-brand-400 opacity-100 lg:text-brand-400"),children:[(null===(r=er.current)||void 0===r?void 0:r.id)===e.id?eu:(0,a.jsx)(t.MenubarContentIcon,{Icon:et}),(0,a.jsxs)("div",{children:[e.name,(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.id)})})]}),(0,a.jsxs)(t.MenubarItem,{disabled:!R,onClick:()=>ec.current.abort(),children:[(0,a.jsx)(t.MenubarContentIcon,{Icon:en,className:(0,i.dV)(R&&"text-red-400")}),"Abort ",(null===(l=er.current)||void 0===l?void 0:l.name)||"Macro"]})]})]})]})},[x,p,d,n,r,R,ed,ei,eo,eu,e.result,h,ea,es,el,em])),(0,a.jsx)(A,{...y})}},73371:function(e,t,n){"use strict";n.d(t,{Ol:function(){return l},SZ:function(){return s},aY:function(){return c},eW:function(){return d},ll:function(){return i}});var r=n(72612),a=n(39164),o=n(64929);let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-4 @sm:p-6",n),...a})});l.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,o.cn)("font-semibold leading-none tracking-tight",n),...a})});i.displayName="CardTitle";let s=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...a})});s.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("p-4 pt-0 @sm:p-6",n),...a})});c.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-4 pt-0 @sm:p-6",n),...a})});d.displayName="CardFooter"},69047:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var r=n(72612),a=n(39164),o=n(64929),l=n(73918),i=n(63278);let s=(0,l.j)((0,i.dV)("flex w-full rounded-md border bg-transparent px-3 py-1.5 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground","border-zinc-300 text-zinc-900 placeholder-zinc-300 ring-brand-600 dark:border-zinc-100/20 dark:text-zinc-100 dark:placeholder-zinc-100/30 dark:focus:ring-brand-400 ","focus:ring-offset-zinc-900 block w-full rounded-md border text-left shadow-sm ring-inset ring-offset-zinc-900 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2","active:translate-y-px active:scale-[99%] active:outline-none active:ring-2 active:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50"),{variants:{variant:{plain:"shadow-none bg-transparent text-zinc-700 dark:text-zinc-300 dark:bg-transparent",default:"dark:bg-zinc-800 bg-white",error:"border-red-300 text-red-900 placeholder-red-300 ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700"}},defaultVariants:{variant:"plain"}}),c=a.forwardRef((e,t)=>{let{className:n,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,o.cn)(s(l),n),ref:t,...l})});(0,o.h)(c,"Input")},25374:function(e,t,n){e.exports=n(64839)},71576:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return esm_browser_v4}});let a="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var o={randomUUID:a};let l=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));var esm_browser_v4=function(e,t,n){if(o.randomUUID&&!t&&!e)return o.randomUUID();e=e||{};let a=e.random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(l)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}(a)}},54456:function(e,t,n){"use strict";function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(e,[t,n]){return Math.min(n,Math.max(t,e))}n.d(t,{u:function(){return $ae6933e535247d3d$export$7d15b64cf5a3a4c4}})},76843:function(e,t,n){"use strict";n.d(t,{D:function(){return $010c2913dbd2fe3d$export$5cae361ad82dce8b}});var r=n(39164);function $010c2913dbd2fe3d$export$5cae361ad82dce8b(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},45489:function(e,t,n){"use strict";function _tagged_template_literal(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return _tagged_template_literal}})}},function(e){e.O(0,[6545,9996,5809,8602,2401,966,8965,5360,3790,453,2705,9754,3150,5591,6645,1778,1563,1880,9583,7163,3127,4595,7652,6375,8888,2003,9321,8458,1744],function(){return e(e.s=51793)}),_N_E=e.O()}]);
//# sourceMappingURL=page-47a4cce7d2a0872f.js.map