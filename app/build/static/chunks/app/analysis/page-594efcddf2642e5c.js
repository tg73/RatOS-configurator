(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2490],{8058:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("ArrowDownToDot",[["path",{d:"M12 2v14",key:"jyx4ut"}],["path",{d:"m19 9-7 7-7-7",key:"1oe3oy"}],["circle",{cx:"12",cy:"21",r:"1",key:"o0uj5v"}]])},16195:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},83839:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Move3d",[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]])},21734:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},47826:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},65523:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},31517:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},51793:function(e,t,n){Promise.resolve().then(n.bind(n,98336)),Promise.resolve().then(n.bind(n,88192)),Promise.resolve().then(n.bind(n,56445))},81127:function(e,t,n){"use strict";n.d(t,{k:function(){return useGcodeCommand}});var r=n(39164),a=n(96886);let useGcodeCommand=()=>{let e=(0,a.xH)("printer.gcode.script");return(0,r.useCallback)(async function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];let l=[t[0]];r.forEach((e,n)=>{l.push(e.toString(),t[n+1])});let o=l.join("");console.log(o);let i=await e.mutateAsync({script:o});console.log(i)},[])}},98336:function(e,t,n){"use strict";n.r(t),n.d(t,{Analysis:function(){return Analysis}});var r=n(45489),a=n(72612),l=n(39164),o=n(81127),i=n(63278),s=n(90077),d=n(98130),c=n(48101),u=n(58818),m=n(80461),f=n(88192),p=n(29817),x=n(57603),h=n(30742),v=n(8832),g=n(96588),b=n(32342),y=n(94787),w=n(98948),j=n(96886),M=n(73371),S=n(39762),k=n(73790),_=n(34709),I=n(64929);let N={type:"spring",damping:40,stiffness:450},LiveGcodeResponse=e=>{var t;let{lastMessage:n}=(0,j.oK)({passThroughUpdateMethods:["notify_gcode_response"]}),[r,o]=(0,l.useState)([]);(0,l.useEffect)(()=>{n&&"method"in n&&"notify_gcode_response"===n.method&&o(t=>{var r;return t.concat(n.params).slice(-(null!==(r=e.lines)&&void 0!==r?r:1))})},[n,e.lines]);let s=r.map(e=>e.split("\n").length).reduce((e,t)=>e+t,0);return(0,a.jsx)(S.M,{children:0!==r.length&&(0,a.jsx)(k.E.div,{className:(0,I.cn)("flex max-h-96 max-w-md",e.className),initial:{width:0,opacity:0},animate:{opacity:1,width:"100%"},exit:{width:0,opacity:0},transition:N,children:(0,a.jsx)(f.Card,{className:"flex flex-1 flex-col",children:(0,a.jsxs)(M.aY,{className:"grid flex-1 gap-2 overflow-hidden p-0 @sm:p-0",children:[(0,a.jsx)(M.ll,{className:"px-4 pt-4",children:"Console Output"}),(0,a.jsx)(M.SZ,{className:(0,i.dV)("scrollable max-h-max overflow-hidden px-4 pb-4 @sm:px-4",s>(null!==(t=e.lines)&&void 0!==t?t:1)+2&&"overflow-y-scroll"),children:(0,a.jsx)(_.i,{transition:N,children:(0,a.jsx)(S.M,{children:r.map((e,t)=>{let n=e.replace(/^(\/\/ |echo: |!! )/gm,"");return(0,a.jsx)(k.E.div,{transition:N,className:(0,i.dV)("whitespace-pre-wrap font-mono text-sm",e.trim().startsWith("!!")&&"text-rose-500"),initial:{opacity:0,translateY:50,height:0},animate:{opacity:1,translateY:0,height:"auto"},exit:{opacity:0,translateY:-50,height:0},dangerouslySetInnerHTML:{__html:n}},e)})})})})]})},"container")})})};c.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useRealtimeAnalysisChart=function(e){var t,n,r,a,o,i,s,d,u,f,x,v,j,M;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let[S,k]=(0,l.useState)(!1),[_,I]=(0,l.useState)(!1),N=(0,m.YC)(),A=(0,g.sJ)(b.OS),R=null!==(u=null!=e?e:N[0].getYAccelerometerName())&&void 0!==u?u:"controlboard",C=null!==(f="controlboard"===R?null==A?void 0:A.name:"toolboard_t0"===R?null===(n=N[0])||void 0===n?void 0:null===(t=n.getToolboard())||void 0===t?void 0:t.name:"toolboard_t1"===R?null===(a=N[1])||void 0===a?void 0:null===(r=a.getToolboard())||void 0===r?void 0:r.name:"rpi"===R?"Raspberry Pi":"beacon"===R?"Beacon":"N/A")&&void 0!==f?f:"N/A",D=(0,p.ZA)(),E=(0,p.QR)("x"),z=(0,p.QR)("y"),Z=(0,p.QR)("z"),P=null!==(x=null===(o=E.data.current)||void 0===o?void 0:o.yAxis)&&void 0!==x?x:null,V=null!==(v=null===(i=z.data.current)||void 0===i?void 0:i.yAxis)&&void 0!==v?v:null,q=null!==(j=null===(s=Z.data.current)||void 0===s?void 0:s.yAxis)&&void 0!==j?j:null,T=(0,l.useMemo)(()=>[P,V,q],[P,V,q]),O=(0,h.Tv)(T,new c.NumberRange(-5e3,5e3),1e3),$=null!==(M=null===(d=D.surface.current)||void 0===d?void 0:d.yAxes.getById(p.ck))&&void 0!==M?M:null,B=(0,h.Tv)($,p.as),L=(0,l.useRef)(async e=>{}),F=(0,l.useCallback)(async e=>{var t,n,r,a,l,o,i,s,d,u,m,f,p,x,h,v,g,b,y,w,j,M,S,_,I,N;k(t=>(!1===t&&!0===e&&(Y.current=performance.now()),e)),e||await L.current(e);let A=null!==(I=null===(t=E.data.current)||void 0===t?void 0:t.signalData.count())&&void 0!==I?I:0,R=null!==(N=null===(r=D.surface.current)||void 0===r?void 0:null===(n=r.renderableSeries.getById("total"))||void 0===n?void 0:n.dataSeries.count())&&void 0!==N?N:0;null===(a=E.data.current)||void 0===a||a.signalData.clear(),null===(l=z.data.current)||void 0===l||l.signalData.clear(),null===(o=Z.data.current)||void 0===o||o.signalData.clear(),null===(i=E.data.current)||void 0===i||i.historyData.clear(),null===(s=z.data.current)||void 0===s||s.historyData.clear(),null===(d=Z.data.current)||void 0===d||d.historyData.clear(),null===(u=E.data.current)||void 0===u||u.signalData.appendRange(Array(A).fill(0).map((e,t)=>t),Array(A).fill(0)),null===(m=z.data.current)||void 0===m||m.signalData.appendRange(Array(A).fill(0).map((e,t)=>t),Array(A).fill(0)),null===(f=Z.data.current)||void 0===f||f.signalData.appendRange(Array(A).fill(0).map((e,t)=>t),Array(A).fill(0)),null===(p=E.surface.current)||void 0===p||p.invalidateElement(),null===(x=z.surface.current)||void 0===x||x.invalidateElement(),null===(h=Z.surface.current)||void 0===h||h.invalidateElement();let C=null===(v=D.data.current)||void 0===v?void 0:v.animationSeries;null!=C&&(C.x.clear(),C.y.clear(),C.z.clear(),C.total.clear(),C.x.appendRange(Array(R).fill(0).map((e,t)=>t*(200/R)),Array(R).fill(0)),C.y.appendRange(Array(R).fill(0).map((e,t)=>t*(200/R)),Array(R).fill(0)),C.z.appendRange(Array(R).fill(0).map((e,t)=>t*(200/R)),Array(R).fill(0)),C.total.appendRange(Array(R).fill(0).map((e,t)=>t*(200/R)),Array(R).fill(0)),null===(b=D.surface.current)||void 0===b||null===(g=b.renderableSeries.getById("x"))||void 0===g||g.runAnimation(new c.LineAnimation({duration:200,ease:c.easing.inOutQuad,dataSeries:C.x})),null===(w=D.surface.current)||void 0===w||null===(y=w.renderableSeries.getById("y"))||void 0===y||y.runAnimation(new c.LineAnimation({duration:200,ease:c.easing.inOutQuad,dataSeries:C.y})),null===(M=D.surface.current)||void 0===M||null===(j=M.renderableSeries.getById("z"))||void 0===j||j.runAnimation(new c.LineAnimation({duration:200,ease:c.easing.inOutQuad,dataSeries:C.z})),null===(_=D.surface.current)||void 0===_||null===(S=_.renderableSeries.getById("total"))||void 0===S||S.runAnimation(new c.MountainAnimation({duration:200,ease:c.easing.inOutQuad,dataSeries:C.total})),B(new c.NumberRange(0,0)),e&&await L.current(e))},[D.data,D.surface,B,E.data,E.surface,z.data,z.surface,Z.data,Z.surface]),Y=(0,l.useRef)(performance.now()),U=(0,l.useCallback)(e=>{var t,n,r,a,l,o,i,s,d,u,m,f,p,x,h,v,g,b,y;let j=D.surface.current;if(null==j)return;let M=performance.now()-Y.current;if(Y.current=performance.now(),200>e.total.frequencies.reduce((e,t)=>e+t,0))return;let S=null===(t=D.data.current)||void 0===t?void 0:t.animationSeries;if(null==S)throw Error("No animation data series");e.x.frequencies.length!==e.x.estimates.length&&(0,w.j)().warn("X estimates and frequencies are not the same length (".concat(e.x.estimates.length," vs ").concat(e.x.frequencies.length,")")),e.y.frequencies.length!==e.y.estimates.length&&(0,w.j)().warn("Y estimates and frequencies are not the same length (".concat(e.y.estimates.length," vs ").concat(e.y.frequencies.length,")")),e.z.frequencies.length!==e.z.estimates.length&&(0,w.j)().warn("Z estimates and frequencies are not the same length (".concat(e.z.estimates.length," vs ").concat(e.z.frequencies.length,")")),e.total.frequencies.length!==e.total.estimates.length&&(0,w.j)().warn("Total estimates and frequencies are not the same length  (".concat(e.total.estimates.length," vs ").concat(e.total.frequencies.length,")")),e.x.frequencies.length!==(null===(n=j.renderableSeries.getById("x"))||void 0===n?void 0:n.dataSeries.count())&&((0,w.j)().warn("X frequencies are not the same length as the data series (".concat(e.x.estimates.length," vs ").concat(null===(i=j.renderableSeries.getById("x"))||void 0===i?void 0:i.dataSeries.count(),")")),null===(s=j.renderableSeries.getById("x"))||void 0===s||s.dataSeries.clear(),null===(d=j.renderableSeries.getById("y"))||void 0===d||d.dataSeries.clear(),null===(u=j.renderableSeries.getById("z"))||void 0===u||u.dataSeries.clear(),null===(m=j.renderableSeries.getById("total"))||void 0===m||m.dataSeries.clear(),null===(f=null===(p=j.renderableSeries.getById("x"))||void 0===p?void 0:p.dataSeries)||void 0===f||f.appendRange(e.x.frequencies,Array(e.x.frequencies.length).fill(0)),null===(x=null===(h=j.renderableSeries.getById("y"))||void 0===h?void 0:h.dataSeries)||void 0===x||x.appendRange(e.y.frequencies,Array(e.y.frequencies.length).fill(0)),null===(v=null===(g=j.renderableSeries.getById("z"))||void 0===g?void 0:g.dataSeries)||void 0===v||v.appendRange(e.z.frequencies,Array(e.z.frequencies.length).fill(0)),null===(b=null===(y=j.renderableSeries.getById("total"))||void 0===y?void 0:y.dataSeries)||void 0===b||b.appendRange(e.total.frequencies,Array(e.total.frequencies.length).fill(0))),S.x.clear(),S.y.clear(),S.z.clear(),S.total.clear(),S.x.appendRange(e.x.frequencies,e.x.estimates),S.y.appendRange(e.y.frequencies,e.y.estimates),S.z.appendRange(e.z.frequencies,e.z.estimates),S.total.appendRange(e.total.frequencies,e.total.estimates),null===(r=j.renderableSeries.getById("x"))||void 0===r||r.runAnimation(new c.LineAnimation({duration:Math.max(M,100),ease:c.easing.inOutQuad,dataSeries:S.x})),null===(a=j.renderableSeries.getById("y"))||void 0===a||a.runAnimation(new c.LineAnimation({duration:Math.max(M,100),ease:c.easing.inOutQuad,dataSeries:S.y})),null===(l=j.renderableSeries.getById("z"))||void 0===l||l.runAnimation(new c.LineAnimation({duration:Math.max(M,100),ease:c.easing.inOutQuad,dataSeries:S.z})),null===(o=j.renderableSeries.getById("total"))||void 0===o||o.runAnimation(new c.MountainAnimation({duration:Math.max(M,100),ease:c.easing.inOutQuad,dataSeries:S.total})),B(new c.NumberRange(e.total.powerRange.min,e.total.powerRange.max))},[D.data,D.surface,B]),H=(0,l.useCallback)(async e=>{var t,n,r,a,l,o;let[i,s,d,c]=e;null===(t=E.data.current)||void 0===t||t.signalData.appendRange(i,s),null===(n=z.data.current)||void 0===n||n.signalData.appendRange(i,d),null===(r=Z.data.current)||void 0===r||r.signalData.appendRange(i,c),null===(a=E.data.current)||void 0===a||a.historyData.appendRange(i,s),null===(l=z.data.current)||void 0===l||l.historyData.appendRange(i,d),null===(o=Z.data.current)||void 0===o||o.historyData.appendRange(i,c),O()},[O,E.data,z.data,Z.data]),X=(0,l.useCallback)(e=>{F(!1),(0,w.j)().error(e),y.A.error("Error during accelerometer data streaming",{description:e.message})},[F]),{startAccumulation:K,stopAccumulation:Q,streamStarted:W,streamStopped:G}=(0,h.ck)(S,R,H,U,X);return L.current=(0,l.useCallback)(async e=>(I(!0),!1===e)?G().finally(()=>{I(!1)}):W().finally(()=>{I(!1)}),[W,G]),(0,l.useMemo)(()=>({isChartEnabled:S,isLoading:_,setIsChartEnabled:F,streamStarted:W,streamStopped:G,psds:{startAccumulation:K,stopAccumulation:Q},currentAccelerometer:R,currentAccelerometerHardwareName:C,chartProps:{xSignalChart:E,ySignalChart:z,zSignalChart:Z,psdChart:D}}),[S,_,F,W,G,K,Q,R,C,E,z,Z,D])},A=l.memo(e=>{let{xSignalChart:t,ySignalChart:n,zSignalChart:r,psdChart:l}=e;return(0,a.jsxs)("div",{className:"flex max-h-full min-h-full flex-col space-y-4 @container",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 @screen-lg:grid-cols-3",children:[(0,a.jsxs)(f.Card,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.dV)("flex-none rounded-full bg-yellow-400/10 p-1 text-yellow-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"X Signal"})]}),(0,a.jsx)(x.iB,{...t.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(v.I,{className:"ml-[150px]"})})]}),(0,a.jsxs)(f.Card,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.dV)("flex-none rounded-full bg-sky-400/10 p-1 text-sky-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"Y Signal"})]}),(0,a.jsx)(x.iB,{...n.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(v.I,{className:"ml-[150px]"})})]}),(0,a.jsxs)(f.Card,{className:"flex max-h-32 min-h-32 overflow-hidden @screen-lg:max-h-72 @screen-lg:min-h-72",children:[(0,a.jsxs)("h3",{className:"text-md absolute left-0 right-0 top-0 flex items-center space-x-2 p-4 font-semibold",children:[(0,a.jsx)("div",{className:(0,i.dV)("flex-none rounded-full bg-rose-400/10 p-1 text-rose-400"),children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,a.jsx)("span",{className:"text-zinc-100",children:"Z Signal"})]}),(0,a.jsx)(x.iB,{...r.forwardProps,className:"flex-1 rounded-lg",fallback:(0,a.jsx)(v.I,{className:"ml-[150px]"})})]})]}),(0,a.jsxs)(f.Card,{className:"relative flex flex-1 overflow-hidden",children:[(0,a.jsx)(x.iB,{...l.forwardProps,className:"flex-1",fallback:(0,a.jsx)(v.I,{className:"ml-[150px]"})}),(0,a.jsx)(LiveGcodeResponse,{className:"absolute right-4 top-4"})]})]})});var R=n(82157),C=n.n(R),D=n(79293),E=n(71576),z=n(25374),Z=n(24360);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let P=(0,Z.Z)("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]),V=(0,Z.Z)("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);var q=n(83839),T=n(65523),O=n(16195),$=n(8058),B=n(31517),L=n(21734);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let F=(0,Z.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Y=(0,Z.Z)("PencilRuler",[["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m2 22 5.5-1.5L21.17 6.83a2.82 2.82 0 0 0-4-4L3.5 16.5Z",key:"hes763"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}]]),U=(0,Z.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),H=(0,Z.Z)("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]),X=(0,Z.Z)("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}]]),K=(0,Z.Z)("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),Q=(0,Z.Z)("MoveDiagonal",[["polyline",{points:"13 5 19 5 19 11",key:"11219e"}],["polyline",{points:"11 19 5 19 5 13",key:"sfq3wq"}],["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}]]),W=(0,Z.Z)("MoveDiagonal2",[["polyline",{points:"5 11 5 5 11 5",key:"ncfzxk"}],["polyline",{points:"19 13 19 19 13 19",key:"1mk7hk"}],["line",{x1:"5",x2:"19",y1:"5",y2:"19",key:"mcyte3"}]]);var G=n(47826),J=n(64107);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ee=(0,Z.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),et=(0,Z.Z)("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]),en=(0,Z.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var er=n(36577),ea=n(54456),el=n(91036),eo=n(50320),ei=n(74706),es=n(34952),ed=n(69770),ec=n(76843),eu=n(25800),em=n(32558),ef=n(44910);let ep=["PageUp","PageDown"],ex=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eh={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ev="Slider",[eg,eb,ey]=(0,ef.B)(ev),[ew,ej]=(0,ei.b)(ev,[ey]),[eM,eS]=ew(ev),ek=(0,l.forwardRef)((e,t)=>{let{name:n,min:r=0,max:a=100,step:o=1,orientation:i="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:c=[r],value:u,onValueChange:m=()=>{},onValueCommit:f=()=>{},inverted:p=!1,...x}=e,[h,v]=(0,l.useState)(null),g=(0,eo.e)(t,e=>v(e)),b=(0,l.useRef)(new Set),y=(0,l.useRef)(0),w=!h||!!h.closest("form"),j="horizontal"===i?eN:eA,[M=[],S]=(0,es.T)({prop:u,defaultProp:c,onChange:e=>{var t;let n=[...b.current];null===(t=n[y.current])||void 0===t||t.focus(),m(e)}}),k=(0,l.useRef)(M);function updateValues(e,t,{commit:n}={commit:!1}){let l=(String(o).split(".")[1]||"").length,i=function(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-r)/o)*o+r,l),s=(0,ea.u)(i,[r,a]);S((e=[])=>{let r=function(e=[],t,n){let r=[...e];return r[n]=t,r.sort((e,t)=>e-t)}(e,s,t);if(!function(e,t){if(t>0){let n=e.slice(0,-1).map((t,n)=>e[n+1]-t);return Math.min(...n)>=t}return!0}(r,d*o))return e;{y.current=r.indexOf(s);let t=String(r)!==String(e);return t&&n&&f(r),t?r:e}})}return(0,l.createElement)(eM,{scope:e.__scopeSlider,disabled:s,min:r,max:a,valueIndexToChangeRef:y,thumbs:b.current,values:M,orientation:i},(0,l.createElement)(eg.Provider,{scope:e.__scopeSlider},(0,l.createElement)(eg.Slot,{scope:e.__scopeSlider},(0,l.createElement)(j,(0,er.Z)({"aria-disabled":s,"data-disabled":s?"":void 0},x,{ref:g,onPointerDown:(0,el.M)(x.onPointerDown,()=>{s||(k.current=M)}),min:r,max:a,inverted:p,onSlideStart:s?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let n=e.map(e=>Math.abs(e-t)),r=Math.min(...n);return n.indexOf(r)}(M,e);updateValues(e,t)},onSlideMove:s?void 0:function(e){updateValues(e,y.current)},onSlideEnd:s?void 0:function(){let e=k.current[y.current],t=M[y.current];t!==e&&f(M)},onHomeKeyDown:()=>!s&&updateValues(r,0,{commit:!0}),onEndKeyDown:()=>!s&&updateValues(a,M.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!s){let n=ep.includes(e.key),r=n||e.shiftKey&&ex.includes(e.key),a=y.current,l=M[a],i=o*(r?10:1)*t;updateValues(l+i,a,{commit:!0})}}})))),w&&M.map((e,t)=>(0,l.createElement)($faa2e61a3361514f$var$BubbleInput,{key:t,name:n?n+(M.length>1?"[]":""):void 0,value:e})))}),[e_,eI]=ew(ev,{startEdge:"left",endEdge:"right",size:"width",direction:1}),eN=(0,l.forwardRef)((e,t)=>{let{min:n,max:r,dir:a,inverted:o,onSlideStart:i,onSlideMove:s,onSlideEnd:d,onStepKeyDown:c,...u}=e,[m,f]=(0,l.useState)(null),p=(0,eo.e)(t,e=>f(e)),x=(0,l.useRef)(),h=(0,ed.gm)(a),v="ltr"===h,g=v&&!o||!v&&o;function getValueFromPointer(e){let t=x.current||m.getBoundingClientRect(),a=[0,t.width],l=$faa2e61a3361514f$var$linearScale(a,g?[n,r]:[r,n]);return x.current=t,l(e-t.left)}return(0,l.createElement)(e_,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width"},(0,l.createElement)(eR,(0,er.Z)({dir:h,"data-orientation":"horizontal"},u,{ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=getValueFromPointer(e.clientX);null==i||i(t)},onSlideMove:e=>{let t=getValueFromPointer(e.clientX);null==s||s(t)},onSlideEnd:()=>{x.current=void 0,null==d||d()},onStepKeyDown:e=>{let t=eh[g?"from-left":"from-right"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})))}),eA=(0,l.forwardRef)((e,t)=>{let{min:n,max:r,inverted:a,onSlideStart:o,onSlideMove:i,onSlideEnd:s,onStepKeyDown:d,...c}=e,u=(0,l.useRef)(null),m=(0,eo.e)(t,u),f=(0,l.useRef)(),p=!a;function getValueFromPointer(e){let t=f.current||u.current.getBoundingClientRect(),a=[0,t.height],l=$faa2e61a3361514f$var$linearScale(a,p?[r,n]:[n,r]);return f.current=t,l(e-t.top)}return(0,l.createElement)(e_,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1},(0,l.createElement)(eR,(0,er.Z)({"data-orientation":"vertical"},c,{ref:m,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=getValueFromPointer(e.clientY);null==o||o(t)},onSlideMove:e=>{let t=getValueFromPointer(e.clientY);null==i||i(t)},onSlideEnd:()=>{f.current=void 0,null==s||s()},onStepKeyDown:e=>{let t=eh[p?"from-bottom":"from-top"].includes(e.key);null==d||d({event:e,direction:t?-1:1})}})))}),eR=(0,l.forwardRef)((e,t)=>{let{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:s,onStepKeyDown:d,...c}=e,u=eS(ev,n);return(0,l.createElement)(em.WV.span,(0,er.Z)({},c,{ref:t,onKeyDown:(0,el.M)(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(s(e),e.preventDefault()):ep.concat(ex).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,el.M)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():r(e)}),onPointerMove:(0,el.M)(e.onPointerMove,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:(0,el.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))})}))}),eC=(0,l.forwardRef)((e,t)=>{let{__scopeSlider:n,...r}=e,a=eS("SliderTrack",n);return(0,l.createElement)(em.WV.span,(0,er.Z)({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},r,{ref:t}))}),eD="SliderRange",eE=(0,l.forwardRef)((e,t)=>{let{__scopeSlider:n,...r}=e,a=eS(eD,n),o=eI(eD,n),i=(0,l.useRef)(null),s=(0,eo.e)(t,i),d=a.values.length,c=a.values.map(e=>$faa2e61a3361514f$var$convertValueToPercentage(e,a.min,a.max));return(0,l.createElement)(em.WV.span,(0,er.Z)({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},r,{ref:s,style:{...e.style,[o.startEdge]:(d>1?Math.min(...c):0)+"%",[o.endEdge]:100-Math.max(...c)+"%"}}))}),ez="SliderThumb",eZ=(0,l.forwardRef)((e,t)=>{let n=eb(e.__scopeSlider),[r,a]=(0,l.useState)(null),o=(0,eo.e)(t,e=>a(e)),i=(0,l.useMemo)(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return(0,l.createElement)(eP,(0,er.Z)({},e,{ref:o,index:i}))}),eP=(0,l.forwardRef)((e,t)=>{var n;let{__scopeSlider:r,index:a,...o}=e,i=eS(ez,r),s=eI(ez,r),[d,c]=(0,l.useState)(null),u=(0,eo.e)(t,e=>c(e)),m=(0,eu.t)(d),f=i.values[a],p=void 0===f?0:$faa2e61a3361514f$var$convertValueToPercentage(f,i.min,i.max),x=(n=i.values.length)>2?`Value ${a+1} of ${n}`:2===n?["Minimum","Maximum"][a]:void 0,h=null==m?void 0:m[s.size],v=h?function(e,t,n){let r=e/2,a=$faa2e61a3361514f$var$linearScale([0,50],[0,r]);return(r-a(t)*n)*n}(h,p,s.direction):0;return(0,l.useEffect)(()=>{if(d)return i.thumbs.add(d),()=>{i.thumbs.delete(d)}},[d,i.thumbs]),(0,l.createElement)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${p}% + ${v}px)`}},(0,l.createElement)(eg.ItemSlot,{scope:e.__scopeSlider},(0,l.createElement)(em.WV.span,(0,er.Z)({role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":i.min,"aria-valuenow":f,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0},o,{ref:u,style:void 0===f?{display:"none"}:e.style,onFocus:(0,el.M)(e.onFocus,()=>{i.valueIndexToChangeRef.current=a})}))))}),$faa2e61a3361514f$var$BubbleInput=e=>{let{value:t,...n}=e,r=(0,l.useRef)(null),a=(0,ec.D)(t);return(0,l.useEffect)(()=>{let e=r.current,n=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(n,"value"),o=l.set;if(a!==t&&o){let n=new Event("input",{bubbles:!0});o.call(e,t),e.dispatchEvent(n)}},[a,t]),(0,l.createElement)("input",(0,er.Z)({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function $faa2e61a3361514f$var$convertValueToPercentage(e,t,n){return(0,ea.u)(100/(n-t)*(e-t),[0,100])}function $faa2e61a3361514f$var$linearScale(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}let eV=l.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsxs)(ek,{ref:t,className:(0,I.cn)("relative flex w-full touch-none select-none items-center",n),...r,children:[(0,a.jsx)(eC,{className:(0,I.cn)("relative h-1.5 w-full grow rounded-full bg-zinc-400/10","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[0px_-1px_0px_0px_hsl(var(--zinc-400)_/_15%)_inset,_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]"),children:(0,a.jsx)(eE,{className:(0,I.cn)("absolute h-full rounded-full bg-brand-400/80","dark:before:pointer-events-none dark:before:absolute dark:before:-inset-[1px] dark:before:rounded-full dark:before:transition-all","dark:before:shadow-[inset_0px_-1px_0px_0px_hsl(var(--brand-200)_/_20%),_inset_0px_1px_2px_0px_rgba(0,0,0,0.55)]")})}),(0,a.jsx)(eZ,{className:(0,I.cn)("block h-4 w-4 rounded-full border border-zinc-700 bg-zinc-700 shadow transition-colors","focus-visible:outline-none focus-visible:ring-0 disabled:pointer-events-none disabled:opacity-50","shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.03)]","dark:before:inset-px dark:before:rounded-full","dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_hsl(var(--zinc-900)),_0px_1px_0px_0px_hsl(var(--zinc-400)_/_20%)_inset]")})]})});(0,I.h)(eV,ek.displayName);var eq=n(69047),eT=n(81446);function _templateObject(){let e=(0,r._)(["\n			OSCILLATE FREQ="," TIME="," AXIS=","\n			"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n						","\n						M400\n					"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,r._)(["MAYBE_HOME"]);return _templateObject2=function(){return e},e}c.SciChartSurface.configure({wasmUrl:"/configure/scichart2d.wasm",dataUrl:"/configure/scichart2d.data"});let useOscillator=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,r]=(0,l.useState)(0),a=(0,l.useRef)(n);a.current=n;let[o,i]=(0,l.useState)("x"),s=(0,l.useRef)(o);s.current=o;let d=(0,l.useRef)(!1),c=(0,l.useRef)(t);c.current=t;let u=(0,l.useCallback)(async()=>{if(a.current<=0||d.current)return;let t=500/a.current,n=Math.floor(Math.max(250,500-500%t)),r="a"===s.current?"1,1":"b"===s.current?"1,-1":s.current,l=performance.now();try{if(!c.current){d.current=!1;return}d.current=!0,await e(_templateObject(),a.current,n/1e3,r),d.current=!1;let t=performance.now()-l;a.current>0&&t>n?setTimeout(()=>{u()},1):setTimeout(()=>{u()},n-t)}catch(e){d.current=!1,(0,w.j)().error(e,"Failed to oscillate"),y.A.error("Failed to oscillate",{description:'\n					<div>\n						<p>An error occurred while trying to oscillate the printer:</p>\n						<pre class="text-wrap mt-4 text-rose-400 font-medium whitespace-pre-wrap">'.concat(e instanceof Error?e.message:e instanceof String?e:"Unknown error","</pre>\n					</div>\n				")})}},[e]);return(0,l.useEffect)(()=>{n>0&&!d.current&&t&&u()},[u,n,t]),{frequency:n,setFrequency:r,axis:o,setAxis:i}},eO={onError(e,t){(0,w.j)().error("Failed to save macro sequence recording",{error:e,variables:{...t,psd:"removed from log.."}})}},Analysis=()=>{var e;let[t]=D.SX.analysis.getMacros.useSuspenseQuery({limit:10}),n=(0,z.useRouter)(),r=(0,m.YC)(),c=(0,l.useMemo)(()=>r.some(e=>"beacon"===e.getYAccelerometerName()||"beacon"===e.getXAccelerometerName()),[r]),[f,p]=(0,l.useState)(null!==(e=r[0].getYAccelerometerName())&&void 0!==e?e:"controlboard"),{isChartEnabled:x,isLoading:h,setIsChartEnabled:v,streamStarted:g,streamStopped:b,chartProps:j,psds:M,currentAccelerometer:S,currentAccelerometerHardwareName:k}=useRealtimeAnalysisChart(f),{mutateAsync:_}=D.SX.analysis.saveRecording.useMutation(eO),I=(0,l.useRef)(x);I.current=x;let[N,R]=(0,l.useState)(!1),[Z,er]=(0,l.useState)(!1),ea=(0,l.useRef)(null),el=(0,o.k)(),{frequency:eo,setFrequency:ei,axis:es,setAxis:ed}=useOscillator(el,x&&!Z),ec=(0,l.useRef)(new AbortController),eu=(0,l.useCallback)(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return async()=>{ec.current=new AbortController;let t=I.current;ei(0),er(!0);try{await e(ec.current.signal,...n)}catch(e){ec.current.signal.aborted||e instanceof DOMException&&"AbortError"===e.name?((0,w.j)().info(e,"Macro run aborted"),y.A.info("Macro run aborted",{description:"The macro run was aborted"})):((0,w.j)().error("Macro run failed",e),y.A.error("Macro failed",{description:e instanceof Error?e.message:e instanceof String?e:"An unknown error occurred while running the macro"}))}finally{er(!1),R(!1),t?v(!0):v(!1),ea.current=null}}},[ei,v]),em=(0,l.useMemo)(()=>N?(0,a.jsx)(s.jXb,{className:"h-4 w-4 scale-150 text-red-400"}):Z?(0,a.jsx)(d.$,{noMargin:!0,className:"h-4 w-4 group-data-[state=open]:text-white"}):(0,a.jsx)(P,{className:"h-5 w-5 text-white group-data-[state=open]:text-white lg:text-white/60"}),[Z,N]),ef=(0,l.useCallback)(e=>eu(async t=>{ea.current=e;let r=E.Z(),a=[],l=e.sequences.map(n=>async()=>{var l,o,i,s,d,c;if(t.aborted)throw new DOMException("Macro run aborted by user","AbortError");let u=new Date().getTime();if(p(null===(l=n.recording)||void 0===l?void 0:l.accelerometer),await v(!0),(null===(o=n.recording)||void 0===o?void 0:o.capturePSD)&&((0,w.j)().info("Starting PSD accumulation"),await M.startAccumulation(),R(!0)),t.aborted)throw await M.stopAccumulation(),R(!1),new DOMException("Macro run aborted by user","AbortError");if(await el(_templateObject1(),n.gcode),null===(i=n.recording)||void 0===i?void 0:i.capturePSD){let l;(0,w.j)().info("Stopping PSD accumulation");let o=await M.stopAccumulation();if(R(!1),t.aborted)throw new DOMException("Macro run aborted by user","AbortError");let i=await fetch("http://".concat((0,eT.X)(),"/printer/objects/query?toolhead=square_corner_velocity"));if(i.ok){let e=await i.json();(null==e?void 0:null===(c=e.result)||void 0===c?void 0:null===(d=c.status)||void 0===d?void 0:null===(s=d.toolhead)||void 0===s?void 0:s.square_corner_velocity)!=null?l=e.result.status.toolhead.square_corner_velocity:(0,w.j)().warn(e,"Failed to get square corner velocity from moonraker")}a.push(_({recording:{id:E.Z(),macroRecordingRunId:r,macroId:e.id,sequenceId:n.id,startTimeStamp:u,scv:l,endTimeStamp:new Date().getTime(),psd:o,name:n.name,accelerometer:S,recordingHardwareName:k}}))}await v(!1)});if(await l.reduce((e,t)=>e.then(t),Promise.resolve()),t.aborted)throw new DOMException("Macro run aborted by user","AbortError");let o=y.A.loading("Saving recordings...",{description:"Please wait for recordings to be saved."});try{await Promise.all(a),y.A.success("Macro run completed",{id:o,description:'Macro "'.concat(e.name,'" completed successfully'),action:{label:"View Result",onClick:()=>n.push("/analysis/macros/".concat(e.id,"/recordings/").concat(r))}})}catch(t){y.A.error("Macro run failed",{id:o,description:'An error occurred while saving macro result data for "'.concat(e.name,'"')})}}),[eu,v,el,M,_,S,k,n]);return(0,u.Ty)("analysis",(0,l.useCallback)(e=>{var n,l;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[h?(0,a.jsx)(d.$,{noMargin:!0,className:"size-4 text-white transition-colors group-data-[state=open]:text-white lg:text-white/60"}):(0,a.jsx)(e.MenubarIcon,{Icon:V,className:(0,i.dV)(x&&"text-brand-400 lg:text-brand-400")})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Stream"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsxs)(e.MenubarSub,{children:[(0,a.jsxs)(e.MenubarSubTrigger,{children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:q.Z})," Accelerometer"]}),(0,a.jsx)(e.MenubarSubContent,{children:(0,a.jsxs)(e.MenubarRadioGroup,{value:f,onValueChange:e=>p(e),children:[(0,a.jsxs)(e.MenubarRadioItem,{value:"rpi",className:(0,i.dV)("rpi"===f&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:T.Z}),"Host"]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"controlboard",className:(0,i.dV)("controlboard"===f&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:O.Z}),"Control Board"]}),r[0].hasToolboard()&&(0,a.jsxs)(e.MenubarRadioItem,{value:"toolboard_t0",className:(0,i.dV)("toolboard_t0"===f&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:$.Z}),"Toolboard T0"]}),r.length>1&&r[1].hasToolboard()&&(0,a.jsxs)(e.MenubarRadioItem,{value:"toolboard_t1",className:(0,i.dV)("toolboard_t1"===f&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:$.Z}),"Toolboard T1"]}),c&&(0,a.jsxs)(e.MenubarRadioItem,{value:"beacon",className:(0,i.dV)("beacon"===f&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:B.Z}),"Beacon"]})]})})]}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarItem,{disabled:x||Z,onClick:async()=>{v(!0)},children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:L.Z})," Start"]}),(0,a.jsxs)(e.MenubarItem,{disabled:!x||Z,onClick:async()=>{v(!1)},children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:F})," Stop"]})]})]}),(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[(0,a.jsx)(e.MenubarIcon,{Icon:Y})," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Tools"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsxs)(e.MenubarItem,{disabled:Z,onSelect:eu(async()=>{await el(_templateObject2())}),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:U}),"Home Printer"]}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarSub,{children:[(0,a.jsxs)(e.MenubarSubTrigger,{children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:H})," Toolhead Oscillator"]}),(0,a.jsxs)(e.MenubarSubContent,{children:[(0,a.jsx)(e.MenubarLabel,{children:"Oscillation Direction"}),(0,a.jsxs)(e.MenubarRadioGroup,{value:es,onValueChange:e=>ed(e),children:[(0,a.jsxs)(e.MenubarRadioItem,{value:"x",className:(0,i.dV)("x"===es&&eo>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:X})," ",(0,a.jsxs)("div",{children:["Oscillate X",(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This isolates the X belt on bedslingers."})]})]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"y",className:(0,i.dV)("y"===es&&eo>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:K})," ",(0,a.jsxs)("div",{children:["Oscillate Y",(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This isolates the Y belt on bedslingers."})]})]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"a",className:(0,i.dV)("a"===es&&eo>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:Q})," ",(0,a.jsxs)("div",{children:["Oscillate X+Y",(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This isolates the A belt on CoreXY."})]})]}),(0,a.jsxs)(e.MenubarRadioItem,{value:"b",className:(0,i.dV)("b"===es&&eo>0&&"font-semibold text-brand-400"),onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:W})," ",(0,a.jsxs)("div",{children:["Oscillate X-Y",(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This isolates the B belt on CoreXY."})]})]})]}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsx)(e.MenubarLabel,{children:"Oscillation Frequency"}),(0,a.jsxs)("div",{className:"min-w-48 p-4",children:[(0,a.jsxs)("h3",{className:"-mt-2 text-center text-2xl font-medium tracking-tight",children:[(0,a.jsx)(eq.I,{type:"number",size:1,max:200,min:0,onKeyUp:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),className:"m-0 inline min-w-0 border-none bg-transparent p-0 text-right font-mono text-3xl font-medium tracking-tight",value:eo.toFixed(1),style:{width:eo.toFixed(1).length+"rem"},onChange:e=>ei(parseFloat(e.target.value))}),"Hz"]}),(0,a.jsx)(eV,{min:0,className:"mt-4",max:200,value:[eo],onValueChange:e=>ei(e[0]),step:.1})]})]})]})]})]}),(0,a.jsxs)(e.MenubarMenu,{children:[(0,a.jsxs)(e.MenubarTrigger,{className:"flex-nowrap whitespace-nowrap text-nowrap",children:[em," ",(0,a.jsx)("span",{className:"hidden lg:inline",children:"Macros"})]}),(0,a.jsxs)(e.MenubarContent,{onCloseAutoFocus:e=>e.preventDefault(),children:[(0,a.jsx)(e.MenubarItem,{disabled:Z,asChild:!0,className:"pr-8",children:(0,a.jsxs)(C(),{href:"/analysis/macros/new",children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:G.Z})," New Macro",(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})]})}),(0,a.jsx)(e.MenubarItem,{disabled:Z,asChild:!0,className:"pr-8",children:(0,a.jsxs)(C(),{href:"/analysis/macros",children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:ee})," Macro Overview",(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(J.Z,{className:"h-4 w-4"})})]})}),(0,a.jsx)(e.MenubarSeparator,{}),(0,a.jsxs)(e.MenubarSub,{children:[(0,a.jsxs)(e.MenubarSubTrigger,{children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:L.Z})," Execute Macro"]}),(0,a.jsx)(e.MenubarSubContent,{className:"max-w-80",children:null===(n=t.result)||void 0===n?void 0:n.map(t=>{var n,r;return(0,a.jsxs)(e.MenubarItem,{disabled:Z,onSelect:ef(t),className:(0,i.dV)((null===(n=ea.current)||void 0===n?void 0:n.id)===t.id&&"text-brand-400 opacity-100 lg:text-brand-400"),children:[(null===(r=ea.current)||void 0===r?void 0:r.id)===t.id?em:(0,a.jsx)(e.MenubarContentIcon,{Icon:et}),(0,a.jsxs)("div",{children:[t.name,(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.id)})})]}),(0,a.jsxs)(e.MenubarItem,{disabled:!Z,onClick:()=>ec.current.abort(),children:[(0,a.jsx)(e.MenubarContentIcon,{Icon:en,className:(0,i.dV)(Z&&"text-red-400")}),"Abort ",(null===(l=ea.current)||void 0===l?void 0:l.name)||"Macro"]})]})]})]})},[h,x,f,r,c,Z,eu,es,eo,em,t.result,v,el,ed,ei,ef])),(0,a.jsx)(A,{...j})}},73371:function(e,t,n){"use strict";n.d(t,{Ol:function(){return o},SZ:function(){return s},aY:function(){return d},eW:function(){return c},ll:function(){return i}});var r=n(72612),a=n(39164),l=n(64929);let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-4 @sm:p-6",n),...a})});o.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",n),...a})});i.displayName="CardTitle";let s=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...a})});s.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-4 pt-0 @sm:p-6",n),...a})});d.displayName="CardContent";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-4 pt-0 @sm:p-6",n),...a})});c.displayName="CardFooter"},69047:function(e,t,n){"use strict";n.d(t,{I:function(){return d}});var r=n(72612),a=n(39164),l=n(64929),o=n(73918),i=n(63278);let s=(0,o.j)((0,i.dV)("flex w-full rounded-md border bg-transparent px-3 py-1.5 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground","border-zinc-300 text-zinc-900 placeholder-zinc-300 ring-brand-600 dark:border-zinc-100/20 dark:text-zinc-100 dark:placeholder-zinc-100/30 dark:focus:ring-brand-400 ","focus:ring-offset-zinc-900 block w-full rounded-md border text-left shadow-sm ring-inset ring-offset-zinc-900 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2","active:translate-y-px active:scale-[99%] active:outline-none active:ring-2 active:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50"),{variants:{variant:{plain:"shadow-none bg-transparent text-zinc-700 dark:text-zinc-300 dark:bg-transparent",default:"dark:bg-zinc-800 bg-white",error:"border-red-300 text-red-900 placeholder-red-300 ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700"}},defaultVariants:{variant:"plain"}}),d=a.forwardRef((e,t)=>{let{className:n,type:a,...o}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)(s(o),n),ref:t,...o})});(0,l.h)(d,"Input")},25374:function(e,t,n){e.exports=n(64839)},71576:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return esm_browser_v4}});let a="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var l={randomUUID:a};let o=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));var esm_browser_v4=function(e,t,n){if(l.randomUUID&&!t&&!e)return l.randomUUID();e=e||{};let a=e.random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}(a)}},54456:function(e,t,n){"use strict";function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(e,[t,n]){return Math.min(n,Math.max(t,e))}n.d(t,{u:function(){return $ae6933e535247d3d$export$7d15b64cf5a3a4c4}})},76843:function(e,t,n){"use strict";n.d(t,{D:function(){return $010c2913dbd2fe3d$export$5cae361ad82dce8b}});var r=n(39164);function $010c2913dbd2fe3d$export$5cae361ad82dce8b(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},45489:function(e,t,n){"use strict";function _tagged_template_literal(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return _tagged_template_literal}})}},function(e){e.O(0,[6545,9996,3881,215,4370,966,8965,5360,3790,453,2705,9754,3150,5591,6645,1778,1563,1880,8869,7163,2211,4595,7652,6375,8888,2003,9321,8458,1744],function(){return e(e.s=51793)}),_N_E=e.O()}]);
//# sourceMappingURL=page-594efcddf2642e5c.js.map