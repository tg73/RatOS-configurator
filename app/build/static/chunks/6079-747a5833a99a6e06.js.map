{"version":3,"file":"static/chunks/6079-747a5833a99a6e06.js","mappings":"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","sources":["webpack://_N_E/./components/common/card.tsx","webpack://_N_E/./components/forms/dropdown.tsx","webpack://_N_E/./components/forms/text-input.tsx","webpack://_N_E/./components/ui/card.tsx","webpack://_N_E/./components/ui/command.tsx","webpack://_N_E/./components/ui/input.tsx","webpack://_N_E/./components/ui/label.tsx","webpack://_N_E/./components/ui/popover.tsx","webpack://_N_E/./data/endstops.ts","webpack://_N_E/./hooks/isClient.tsx","webpack://_N_E/./hooks/useToolheadConfiguration.tsx","webpack://_N_E/<anon>"],"sourcesContent":["'use client';\nimport { cva } from 'class-variance-authority';\nimport React from 'react';\nimport { type MotionProps, motion } from 'framer-motion';\nimport { twMerge } from 'tailwind-merge';\n\nconst cardVariants = cva([\n\t'relative rounded-lg bg-white dark:bg-zinc-900/60 @container',\n\t'shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.05)]',\n\t'dark:before:-inset-px dark:before:rounded-xl',\n\t'dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_rgba(0,_0,_0,_0.20),_0px_1px_0px_0px_rgba(255,_255,_255,_0.07)_inset]',\n]);\n\ntype CardProps = React.PropsWithChildren<\n\t{\n\t\tclassName?: string;\n\t} & MotionProps\n>;\n\nexport const Card: React.FC<CardProps> = (props) => {\n\treturn (\n\t\t<motion.div {...props} className={twMerge(cardVariants(), props.className)}>\n\t\t\t{props.children}\n\t\t</motion.div>\n\t);\n};\n","import React, { Fragment, useCallback, useEffect, useState } from 'react';\nimport { Listbox, Transition } from '@headlessui/react';\nimport { CheckIcon, ChevronUpDownIcon } from '@heroicons/react/20/solid';\nimport { twJoin, twMerge } from 'tailwind-merge';\nimport { Badge, BadgeProps } from '@/components/common/badge';\nimport { DropdownQuery, DropdownQueryInput, DropdownQueryKeys, DropdownQueryOutput, trpc } from '@/utils/trpc';\nimport { Spinner } from '@/components/common/spinner';\nimport { useSerializedPrinterConfiguration } from '@/hooks/usePrinterConfiguration';\nimport { useAutoAnimate } from '@formkit/auto-animate/react';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { CaretSortIcon } from '@radix-ui/react-icons';\nimport { Button } from '@/components/common/button';\nimport { Label } from '@/components/ui/label';\nimport { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList } from '@/components/ui/command';\nimport { cn } from '@/helpers/utils';\nimport { CommandLoading } from 'cmdk';\nimport { PopoverAnchor } from '@radix-ui/react-popover';\nimport { AnimatedContainer } from '@/components/common/animated-container';\nimport { AnimatePresence } from 'framer-motion';\nimport deepEqual from 'deep-equal';\nimport { X } from 'lucide-react';\n\ntype Option = {\n\tid: number | string;\n\ttitle: string;\n\tdisabled?: boolean;\n\tbadge?: BadgeProps | BadgeProps[];\n};\n\ninterface DropdownProps<DropdownOption extends Option = Option, CanClear extends boolean = false> {\n\toptions: DropdownOption[];\n\tvalue: DropdownOption | null | undefined;\n\thelp?: React.ReactNode;\n\tonSelect?: (option: CanClear extends true ? DropdownOption | null : DropdownOption) => void;\n\tisFetching?: boolean;\n\tlabel: string;\n\terror?: string;\n\tsort?: boolean;\n\tcanClear?: CanClear;\n\tdisabled?: boolean;\n\tbadge?: BadgeProps | BadgeProps[];\n\tonShown?: () => void;\n}\n\nexport const OnDropdownOpened: React.FC<{ open: boolean; onShown: () => void }> = ({ open, onShown }) => {\n\tuseEffect(() => {\n\t\tif (open) {\n\t\t\tonShown();\n\t\t}\n\t}, [open, onShown]);\n\treturn null;\n};\n\nexport const useDropdownPrinterQueryState = <T extends DropdownQueryKeys = DropdownQueryKeys>(\n\tquery: T,\n\tvars?: DropdownQueryInput<T>,\n\tserializedPrinterConfiguration?: string,\n\tfetchImmediately?: boolean,\n) => {\n\tconst [isShown, setIsShown] = useState(false);\n\tconst serializedConfig = useSerializedPrinterConfiguration();\n\t// Gigantic hack to avoid suspense in parent components from killing our atom updates.\n\tconst variables: any = vars ?? (serializedPrinterConfiguration ? {} : undefined);\n\tif (variables && serializedPrinterConfiguration != null) {\n\t\tvariables[serializedPrinterConfiguration] = serializedConfig;\n\t}\n\tconst data = (trpc.printer[query] as DropdownQuery<T>).useQuery(variables, {\n\t\tenabled: isShown || fetchImmediately,\n\t\tkeepPreviousData: true,\n\t});\n\treturn {\n\t\toptions: (data.data ?? []) as DropdownQueryOutput<T>,\n\t\tonShown: () => setIsShown(true),\n\t\tisFetching: data.isFetching,\n\t};\n};\n\nexport const DropdownWithPrinterQuery = <\n\tT extends DropdownQueryKeys = DropdownQueryKeys,\n\tCanClear extends boolean = false,\n>(\n\tprops: Omit<DropdownProps<DropdownQueryOutput<T>[number], CanClear>, 'options' | 'onShown'> & {\n\t\tquery: T;\n\t\tvars?: DropdownQueryInput<T>;\n\t\tserializedPrinterConfiguration?: string;\n\t},\n) => {\n\tconst { query, vars, serializedPrinterConfiguration, ...rest } = props;\n\tconst { value } = rest as unknown as { value: Option; onSelect: (option: Option) => void };\n\t// Query the server for the options to refresh the value in case a badge contains stale hardware titles.\n\tconst fetchImmediately = value?.badge != null;\n\tconst queryProps = useDropdownPrinterQueryState<T>(query, vars, serializedPrinterConfiguration, fetchImmediately);\n\tconst selectedOption = (queryProps.options as Option[]).find((o) => o.id === value?.id);\n\tconst correctedValue = selectedOption ?? value;\n\treturn (\n\t\t<React.Suspense>\n\t\t\t<Dropdown {...rest} {...queryProps} value={correctedValue as DropdownQueryOutput<T>[number]} />\n\t\t</React.Suspense>\n\t);\n};\n\nconst badgeDescription = (badge: Option['badge']) => {\n\tif (!badge) return '';\n\tif (Array.isArray(badge)) {\n\t\treturn badge.map((b) => b.children).join(', ');\n\t}\n\treturn badge.children;\n};\n\nexport const Dropdown = <DropdownOption extends Option = Option, CanClear extends boolean = false>(\n\tprops: DropdownProps<DropdownOption, CanClear>,\n) => {\n\tconst { onSelect, value } = props;\n\tconst [open, setOpen] = React.useState(false);\n\n\tconst onSelected = useCallback(\n\t\t(newSelection: DropdownOption['id']) => {\n\t\t\tconst option = props.options.find((o) => o.id === newSelection);\n\t\t\tif (option) {\n\t\t\t\tonSelect?.(option);\n\t\t\t}\n\t\t},\n\t\t[onSelect, props.options],\n\t);\n\n\tconst options =\n\t\tprops.sort == false ? props.options : props.options.slice(0).sort((a, b) => a.title.localeCompare(b.title));\n\n\tconst inputClass = twJoin(\n\t\tprops.error && 'ring-red-500 ring-2 text-red-900 placeholder-red-300 dark:text-red-400 dark:placeholder-red-700',\n\t);\n\n\tconst [animate] = useAutoAnimate();\n\n\tconst valueBadges = (Array.isArray(value?.badge) ? value.badge : value?.badge ? [value.badge] : []).concat(\n\t\tArray.isArray(props.badge) ? props.badge : props.badge ? [props.badge] : [],\n\t);\n\n\tconst help = props.help ? (\n\t\t<div className=\"mb-2 whitespace-pre-line text-sm text-sky-200/50 opacity-70\" id=\"email-description\">\n\t\t\t{props.help}\n\t\t</div>\n\t) : null;\n\treturn (\n\t\t<Popover open={open} onOpenChange={setOpen}>\n\t\t\t<Label\n\t\t\t\tclassName={twMerge(\n\t\t\t\t\t'block text-sm font-semibold leading-6 text-zinc-700 dark:text-zinc-300',\n\t\t\t\t\tprops.error && 'text-red-600 dark:text-red-400',\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{props.label}\n\t\t\t</Label>\n\t\t\t{help}\n\t\t\t{props.onShown && <OnDropdownOpened open={open} onShown={props.onShown} />}\n\t\t\t<PopoverTrigger asChild disabled={props.disabled}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\tdisabled={props.disabled}\n\t\t\t\t\taria-expanded={open}\n\t\t\t\t\tclassName={twJoin('w-full justify-between bg-zinc-800 px-2', inputClass)}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"flex min-w-0 flex-1 items-center justify-start gap-2 text-left\">\n\t\t\t\t\t\t<span className=\"min-w-0 flex-1 items-center truncate\">{value?.title ?? 'Pick from the list...'}</span>\n\t\t\t\t\t\t{props.canClear && !props.disabled && (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\tif (props.canClear === true) {\n\t\t\t\t\t\t\t\t\t\tonSelect?.(null as CanClear extends true ? DropdownOption | null : DropdownOption);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\t\t\t\tvalueBadges == null || valueBadges.length === 0 ? '-mr-3' : 'mr-0',\n\t\t\t\t\t\t\t\t\t'flex h-4 w-4 items-center space-x-1 text-zinc-400',\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<X />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span className={twJoin('flex items-center space-x-1', !props.disabled && '-mr-2')}>\n\t\t\t\t\t\t\t{valueBadges &&\n\t\t\t\t\t\t\t\tvalueBadges.map((badge, i) => (\n\t\t\t\t\t\t\t\t\t<Badge {...badge} key={i} color={badge.color ?? (props.disabled ? 'plain' : badge.color)} size=\"sm\" />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t{!props.disabled && <CaretSortIcon className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />}\n\t\t\t\t</Button>\n\t\t\t</PopoverTrigger>\n\t\t\t<div ref={animate}>\n\t\t\t\t{props.error && <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">{props.error}</p>}\n\t\t\t</div>\n\n\t\t\t<PopoverContent className=\"min-w-[var(--radix-popover-trigger-width)] p-0\">\n\t\t\t\t<Command>\n\t\t\t\t\t<CommandInput placeholder=\"Search for option...\" className=\"h-9\" />\n\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t<CommandEmpty>No option found.</CommandEmpty>\n\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t{options.map((option) => (\n\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\tkey={option.id}\n\t\t\t\t\t\t\t\t\tvalue={option.title + badgeDescription(option.badge) + option.id}\n\t\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\t\tonSelected(option.id);\n\t\t\t\t\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={twJoin(\n\t\t\t\t\t\t\t\t\t\t'gap-2',\n\t\t\t\t\t\t\t\t\t\tvalue?.id === option.id && 'text-brand-400 aria-selected:text-brand-400 hover:text-brand-400',\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{option.badge &&\n\t\t\t\t\t\t\t\t\t\t(Array.isArray(option.badge) ? (\n\t\t\t\t\t\t\t\t\t\t\toption.badge.map((b, i) => <Badge {...b} color={b.color} size=\"sm\" key={i} />)\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Badge {...option.badge} color={option.badge.color} size=\"sm\" />\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t{option.title}\n\t\t\t\t\t\t\t\t\t<CheckIcon\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t'ml-auto h-4 w-4 text-brand-400',\n\t\t\t\t\t\t\t\t\t\t\tvalue?.id === option.id ? 'opacity-100' : 'opacity-0',\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t\t<AnimatedContainer>\n\t\t\t\t\t{props.isFetching && (\n\t\t\t\t\t\t<CommandLoading className=\"flex justify-center px-3 py-2 text-sm text-zinc-400 dark:text-zinc-500\">\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</CommandLoading>\n\t\t\t\t\t)}\n\t\t\t\t</AnimatedContainer>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n};\n","import { EyeIcon, EyeSlashIcon } from '@heroicons/react/24/outline';\nimport { ExclamationCircleIcon } from '@heroicons/react/24/solid';\nimport { Label } from '@radix-ui/react-label';\nimport objectHash from 'object-hash';\nimport React, { ChangeEvent, useCallback, useRef, useState } from 'react';\nimport { twJoin } from 'tailwind-merge';\nimport { Input } from '@/components/ui/input';\n\ninterface TextInputProps<T extends string | number>\n\textends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n\terror?: string;\n\tlabel: string;\n\thelp?: string;\n\tvalue?: T;\n\tonChange?: (val: T) => void;\n}\n\nexport const TextInput = <T extends string | number>(props: TextInputProps<T>) => {\n\tconst fieldId = useRef(objectHash(props));\n\tconst { onChange: _onChange } = props;\n\tconst [isPasswordVisible, setIsPasswordVisible] = useState(false);\n\n\tlet iconClass = twJoin('h-5 w-5', props.error ? 'text-red-500' : 'text-red-500');\n\n\tconst icon = props.error ? (\n\t\t<div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3\">\n\t\t\t<ExclamationCircleIcon className=\"h-5 w-5 text-red-500\" aria-hidden=\"true\" />\n\t\t</div>\n\t) : null;\n\n\tconst inputClass = twJoin(\n\t\tprops.error &&\n\t\t\t'border-red-300 text-red-900 placeholder-red-300 ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700',\n\t);\n\n\tconst error = props.error ? (\n\t\t<p className=\"mt-2 text-sm text-red-600 dark:text-red-400\" id={fieldId.current + '-error'}>\n\t\t\t{props.error}\n\t\t</p>\n\t) : null;\n\n\tconst help = props.help ? (\n\t\t<p className=\"mt-2 text-sm text-zinc-500\" id=\"email-description\">\n\t\t\t{props.help}\n\t\t</p>\n\t) : null;\n\n\tconst onChange = useCallback(\n\t\t(e: ChangeEvent<HTMLInputElement>) => {\n\t\t\t_onChange?.(props.type === 'number' ? (parseFloat(e.currentTarget.value) as T) : (e.currentTarget.value as T));\n\t\t},\n\t\t[_onChange, props.type],\n\t);\n\n\tconst togglePasswordVisibility = useCallback(() => {\n\t\tsetIsPasswordVisible((b) => !b);\n\t}, []);\n\n\tconst iconRight = icon != null ? 'right-6' : 'right-0';\n\tconst visibility =\n\t\tprops.type === 'password' ? (\n\t\t\t<div\n\t\t\t\tonClick={togglePasswordVisibility}\n\t\t\t\tclassName={`absolute inset-y-0 ${iconRight} flex cursor-pointer items-center pr-3`}\n\t\t\t>\n\t\t\t\t{isPasswordVisible ? (\n\t\t\t\t\t<EyeSlashIcon className=\"h-5 w-5 text-zinc-400\" />\n\t\t\t\t) : (\n\t\t\t\t\t<EyeIcon className=\"h-5 w-5 text-zinc-400\" />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t) : null;\n\n\treturn (\n\t\t<div>\n\t\t\t<Label className=\"block text-sm font-semibold leading-6 text-zinc-700 dark:text-zinc-300\">{props.label}</Label>\n\t\t\t<div className=\"relative rounded-md shadow-sm\">\n\t\t\t\t<Input\n\t\t\t\t\t{...props}\n\t\t\t\t\ttype={isPasswordVisible ? 'text' : props.type}\n\t\t\t\t\tclassName={inputClass}\n\t\t\t\t\tplaceholder={props.placeholder}\n\t\t\t\t\tdefaultValue={props.defaultValue}\n\t\t\t\t\tvalue={props.value}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tvariant={props.error ? 'error' : 'default'}\n\t\t\t\t\taria-invalid={!!props.error}\n\t\t\t\t\taria-describedby={props.error ? fieldId.current + '-error' : undefined}\n\t\t\t\t/>\n\t\t\t\t{icon}\n\t\t\t\t{visibility}\n\t\t\t</div>\n\t\t\t{error ?? help}\n\t\t</div>\n\t);\n};\n","import * as React from 'react';\n\nimport { cn } from '@/helpers/utils';\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n\t({ className, ...props }, ref) => (\n\t\t<div ref={ref} className={cn('flex flex-col space-y-1.5 p-4 @sm:p-6', className)} {...props} />\n\t),\n);\n(CardHeader as React.FC).displayName = 'CardHeader';\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n\t({ className, ...props }, ref) => (\n\t\t<h3 ref={ref} className={cn('font-semibold leading-none tracking-tight', className)} {...props} />\n\t),\n);\n(CardTitle as React.FC).displayName = 'CardTitle';\n\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n\t({ className, ...props }, ref) => (\n\t\t<div ref={ref} className={cn('text-sm text-muted-foreground', className)} {...props} />\n\t),\n);\n(CardDescription as React.FC).displayName = 'CardDescription';\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n\t({ className, ...props }, ref) => <div ref={ref} className={cn('p-4 pt-0 @sm:p-6', className)} {...props} />,\n);\n(CardContent as React.FC).displayName = 'CardContent';\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n\t({ className, ...props }, ref) => (\n\t\t<div ref={ref} className={cn('flex items-center p-4 pt-0 @sm:p-6', className)} {...props} />\n\t),\n);\n(CardFooter as React.FC).displayName = 'CardFooter';\n\nexport { CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","'use client';\n\nimport * as React from 'react';\nimport { type DialogProps } from '@radix-ui/react-dialog';\nimport { MagnifyingGlassIcon } from '@radix-ui/react-icons';\nimport { Command as CommandPrimitive } from 'cmdk';\n\nimport { cn, setDisplayName } from '@/helpers/utils';\nimport { Dialog, DialogContent } from '@/components/ui/dialog';\nimport { Input } from '@/components/ui/input';\n\nconst Command = React.forwardRef<\n\tReact.ElementRef<typeof CommandPrimitive>,\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n\t<CommandPrimitive\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t'flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground',\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\nsetDisplayName(Command, CommandPrimitive.displayName);\n\ninterface CommandDialogProps extends DialogProps {}\n\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\n\treturn (\n\t\t<Dialog {...props}>\n\t\t\t<DialogContent className=\"overflow-hidden p-0\">\n\t\t\t\t<Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n\t\t\t\t\t{children}\n\t\t\t\t</Command>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nconst CommandInput = React.forwardRef<\n\tReact.ElementRef<typeof CommandPrimitive.Input>,\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n\t<div className=\"flex items-center rounded-t-md border-b pl-3\" cmdk-input-wrapper=\"\">\n\t\t<MagnifyingGlassIcon className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n\t\t<CommandPrimitive.Input\n\t\t\tref={ref}\n\t\t\tasChild\n\t\t\tclassName={cn(\n\t\t\t\t'flex w-full rounded-md bg-transparent text-sm shadow-none outline-none placeholder:text-muted-foreground focus:ring-inset focus:ring-transparent disabled:cursor-not-allowed disabled:opacity-50 dark:border-transparent dark:focus:border-transparent dark:focus:ring-transparent dark:focus:ring-offset-0 dark:focus:ring-offset-transparent',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t<Input variant=\"plain\" />\n\t\t</CommandPrimitive.Input>\n\t</div>\n));\n\nsetDisplayName(CommandInput, CommandPrimitive.Input.displayName);\n\nconst CommandList = React.forwardRef<\n\tReact.ElementRef<typeof CommandPrimitive.List>,\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n\t<CommandPrimitive.List\n\t\tref={ref}\n\t\tclassName={cn('scrollable max-h-[300px] overflow-y-auto overflow-x-hidden', className)}\n\t\t{...props}\n\t/>\n));\n\nsetDisplayName(CommandList, CommandPrimitive.List.displayName);\n\nconst CommandEmpty = React.forwardRef<\n\tReact.ElementRef<typeof CommandPrimitive.Empty>,\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => <CommandPrimitive.Empty ref={ref} className=\"py-6 text-center text-sm\" {...props} />);\n\nsetDisplayName(CommandEmpty, CommandPrimitive.Empty.displayName);\n\nconst CommandGroup = React.forwardRef<\n\tReact.ElementRef<typeof CommandPrimitive.Group>,\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n\t<CommandPrimitive.Group\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t'overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground',\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\n\nsetDisplayName(CommandGroup, CommandPrimitive.Group.displayName);\n\nconst CommandSeparator = React.forwardRef<\n\tReact.ElementRef<typeof CommandPrimitive.Separator>,\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n\t<CommandPrimitive.Separator ref={ref} className={cn('-mx-1 h-px bg-border', className)} {...props} />\n));\nsetDisplayName(CommandSeparator, CommandPrimitive.Separator.displayName);\n\nconst CommandItem = React.forwardRef<\n\tReact.ElementRef<typeof CommandPrimitive.Item>,\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Item> & { value?: string | number }\n>(({ className, ...props }, ref) => (\n\t<CommandPrimitive.Item\n\t\tref={ref}\n\t\tclassName={cn(\n\t\t\t'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=\"true\"]:pointer-events-none data-[disabled=\"true\"]:opacity-50',\n\t\t\tclassName,\n\t\t)}\n\t\t{...props}\n\t/>\n));\n\nsetDisplayName(CommandItem, CommandPrimitive.Item.displayName);\n\nconst CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n\treturn <span className={cn('ml-auto text-xs tracking-widest text-muted-foreground', className)} {...props} />;\n};\nCommandShortcut.displayName = 'CommandShortcut';\n\nexport {\n\tCommand,\n\tCommandDialog,\n\tCommandInput,\n\tCommandList,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandItem,\n\tCommandShortcut,\n\tCommandSeparator,\n};\n","import * as React from 'react';\n\nimport { cn, setDisplayName } from '@/helpers/utils';\nimport { VariantProps, cva } from 'class-variance-authority';\nimport { twJoin } from 'tailwind-merge';\n\nconst InputVariants = cva(\n\ttwJoin(\n\t\t'flex w-full rounded-md border bg-transparent px-3 py-1.5 text-sm shadow-sm transition-colors',\n\t\t'file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground',\n\t\t'border-zinc-300 text-zinc-900 placeholder-zinc-300 ring-brand-600 dark:border-zinc-100/20 dark:text-zinc-100 dark:placeholder-zinc-100/30 dark:focus:ring-brand-400 ',\n\t\t'focus:ring-offset-zinc-900 block w-full rounded-md border text-left shadow-sm ring-inset ring-offset-zinc-900 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2',\n\t\t'active:translate-y-px active:scale-[99%] active:outline-none active:ring-2 active:ring-offset-2',\n\t\t'disabled:cursor-not-allowed disabled:opacity-50',\n\t),\n\t{\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tplain: 'shadow-none bg-transparent text-zinc-700 dark:text-zinc-300 dark:bg-transparent',\n\t\t\t\tdefault: 'dark:bg-zinc-800 bg-white',\n\t\t\t\terror:\n\t\t\t\t\t'border-red-300 text-red-900 placeholder-red-300 ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700',\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: 'plain',\n\t\t},\n\t},\n);\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement>, VariantProps<typeof InputVariants> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(({ className, type, ...props }, ref) => {\n\treturn <input type={type} className={cn(InputVariants(props), className)} ref={ref} {...props} />;\n});\nsetDisplayName(Input, 'Input');\n\nexport { Input };\n","'use client';\n\nimport * as React from 'react';\nimport * as LabelPrimitive from '@radix-ui/react-label';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn, setDisplayName } from '@/helpers/utils';\n\nconst labelVariants = cva('text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70');\n\nconst Label = React.forwardRef<\n\tReact.ElementRef<typeof LabelPrimitive.Root>,\n\tReact.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n\t<LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n));\nsetDisplayName(Label, LabelPrimitive.Root.displayName);\n\nexport { Label };\n","'use client';\n\nimport * as React from 'react';\nimport * as PopoverPrimitive from '@radix-ui/react-popover';\n\nimport { cn, setDisplayName } from '@/helpers/utils';\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverAnchor = PopoverPrimitive.Anchor;\n\nconst PopoverContent = React.forwardRef<\n\tReact.ElementRef<typeof PopoverPrimitive.Content>,\n\tReact.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (\n\t<PopoverPrimitive.Portal>\n\t\t<PopoverPrimitive.Content\n\t\t\tref={ref}\n\t\t\talign={align}\n\t\t\tsideOffset={sideOffset}\n\t\t\tclassName={cn(\n\t\t\t\t'z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t</PopoverPrimitive.Portal>\n));\nsetDisplayName(PopoverContent, PopoverPrimitive.Content.displayName);\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };\n","import { z } from 'zod';\nimport { Endstop } from '@/zods/hardware';\nimport { PrinterAxis } from '@/zods/motion';\nimport { PartialToolheadConfiguration } from '@/zods/toolhead';\nimport { PartialPrinterConfiguration } from '@/zods/printer-configuration';\n\nexport const xEndstopOptions = (\n\tconfig?: PartialPrinterConfiguration | null,\n\ttoolheadConfig?: (PartialToolheadConfiguration & { axis: null | PrinterAxis }) | null,\n): z.infer<typeof Endstop>[] => {\n\tconst endstops: z.infer<typeof Endstop>[] = [];\n\tif (toolheadConfig?.toolboard != null) {\n\t\tendstops.push({\n\t\t\tid: 'endstop-toolboard' as const,\n\t\t\ttitle: 'Physical Endstop',\n\t\t\tbadge: [\n\t\t\t\t{\n\t\t\t\t\tcolor: 'sky',\n\t\t\t\t\tchildren: `${toolheadConfig.toolboard.name}${toolheadConfig.toolNumber != null && ` T${toolheadConfig.toolNumber}`}`,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\tif (toolheadConfig?.axis === PrinterAxis.x) {\n\t\tendstops.push({\n\t\t\tid: 'endstop' as const,\n\t\t\ttitle: 'Physical Endstop',\n\t\t\tbadge: [{ color: 'purple', children: config?.controlboard?.name ?? 'Control Board' }],\n\t\t});\n\t\tendstops.push({\n\t\t\tid: 'sensorless' as const,\n\t\t\ttitle: 'Sensorless Homing',\n\t\t\tbadge: [{ color: 'purple', children: config?.controlboard?.name ?? 'Control Board' }],\n\t\t});\n\t}\n\treturn endstops;\n};\n\nexport const defaultXEndstop = {\n\tid: 'endstop' as const,\n\ttitle: 'Physical Endstop',\n\tbadge: [{ color: 'purple' as const, children: 'Control Board' }],\n};\n\nexport const yEndstopOptions = (\n\tconfig?: PartialPrinterConfiguration | null,\n\ttoolheadConfig?: (PartialToolheadConfiguration & { axis: null | PrinterAxis }) | null,\n): z.infer<typeof Endstop>[] => [\n\t{\n\t\tid: 'endstop' as const,\n\t\ttitle: 'Physical Endstop',\n\t\tbadge: [{ color: 'purple', children: config?.controlboard?.name ?? 'Control Board' }],\n\t},\n\t{\n\t\tid: 'sensorless' as const,\n\t\ttitle: 'Sensorless Homing',\n\t\tbadge: [{ color: 'purple', children: config?.controlboard?.name ?? 'Control Board' }],\n\t},\n];\n","'use client';\nimport { useEffect, useState } from 'react';\n\nexport const useIsClient = () => {\n\tconst [isClient, setIsClient] = useState(false);\n\tuseEffect(() => {\n\t\tif (typeof window !== 'undefined') {\n\t\t\tsetIsClient(true);\n\t\t}\n\t}, []);\n\treturn isClient;\n};\n","import { ToolheadHelper } from '@/helpers/toolhead';\nimport { deserializeStepper } from '@/utils/serialization';\nimport { useRecoilCallback, useRecoilValue } from 'recoil';\nimport { useMemo, useRef, useState } from 'react';\nimport { PrinterRailState } from '@/recoil/printer';\nimport { PrinterAxis } from '@/zods/motion';\nimport { LoadablePrinterToolheadsState, PrinterToolheadState, PrinterToolheadsState } from '@/recoil/toolhead';\nimport { BaseToolheadConfiguration, ToolheadConfiguration, ToolNumber, ToolOrAxis } from '@/zods/toolhead';\nimport { defaultXEndstop } from '@/data/endstops';\nimport { hotendFanOptions, partFanOptions } from '@/data/fans';\n\nexport const useToolhead = (toolOrAxis: ToolOrAxis | PrinterAxis | undefined) => {\n\tconst toolheadConfigs = useRecoilValue(PrinterToolheadsState);\n\tconst toolhead = useMemo(() => {\n\t\tif (toolOrAxis == null) {\n\t\t\treturn null;\n\t\t}\n\t\tconst toolheads = toolheadConfigs?.filter(Boolean).map((th) => new ToolheadHelper(th));\n\t\tconst th = toolheads?.find(\n\t\t\t(th) => th.getTool() === toolOrAxis || th.getMotionAxis() === toolOrAxis || th.getExtruderAxis() === toolOrAxis,\n\t\t);\n\t\treturn th;\n\t}, [toolOrAxis, toolheadConfigs]);\n\treturn toolhead;\n};\n\nexport const useToolheads = () => {\n\tconst toolheadConfigs = useRecoilValue(PrinterToolheadsState);\n\tconst toolheads = useMemo(() => {\n\t\treturn toolheadConfigs?.filter(Boolean).map((th) => new ToolheadHelper(th));\n\t}, [toolheadConfigs]);\n\treturn toolheads;\n};\n\ntype MaybeToolhead<T extends boolean> = T extends true ? ToolheadHelper<any> : ToolheadHelper<any> | null;\n\nexport const useToolheadConfiguration = <T extends boolean = true>(\n\ttoolOrAxis: ToolOrAxis | PrinterAxis | undefined,\n\terrorIfNotExist: T = true as T,\n) => {\n\tconst toolheadConfigs = useRecoilValue(LoadablePrinterToolheadsState);\n\tconst toolheadConfigsRef = useRef(toolheadConfigs);\n\tif (toolheadConfigsRef.current !== toolheadConfigs && toolheadConfigs.length > 0) {\n\t\ttoolheadConfigsRef.current = toolheadConfigs.slice();\n\t}\n\tconst toolhead = useMemo(() => {\n\t\tconst toolheads = toolheadConfigsRef.current?.filter(Boolean).map((th) => new ToolheadHelper(th));\n\t\tconst th = toolheads?.find(\n\t\t\t(th) => th.getTool() === toolOrAxis || th.getMotionAxis() === toolOrAxis || th.getExtruderAxis() === toolOrAxis,\n\t\t);\n\t\tif (th == null && errorIfNotExist) {\n\t\t\tthrow new Error(`Toolhead with number or axis ${toolOrAxis} not found`);\n\t\t}\n\t\treturn th ?? null;\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [errorIfNotExist, toolOrAxis, toolheadConfigsRef.current]);\n\tconst [hasManuallySelectedThermistor, setHasManuallySelectedThermistor] = useState(false);\n\n\tconst setToolhead = useRecoilCallback(\n\t\t({ set, snapshot }) =>\n\t\t\tasync (th: ToolheadConfiguration<any>) => {\n\t\t\t\tconst helper = new ToolheadHelper(th);\n\t\t\t\tconst currentConfig = await snapshot.getPromise(PrinterToolheadState(helper.getTool()));\n\t\t\t\tif (currentConfig == null) {\n\t\t\t\t\tthrow new Error(`Toolhead ${helper.getToolCommand()} not found`);\n\t\t\t\t}\n\t\t\t\tconst current = new ToolheadHelper(currentConfig);\n\t\t\t\tif (th.extruder.id != current.getExtruder().id) {\n\t\t\t\t\tif (th.extruder.stepper != null) {\n\t\t\t\t\t\tconst stepper = deserializeStepper(th.extruder.stepper);\n\t\t\t\t\t\tif (stepper != null) {\n\t\t\t\t\t\t\tset(PrinterRailState(helper.getExtruderAxis()), (rail) => {\n\t\t\t\t\t\t\t\treturn rail == null\n\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\t...rail,\n\t\t\t\t\t\t\t\t\t\t\tstepper: stepper.id,\n\t\t\t\t\t\t\t\t\t\t\tcurrent: th.extruder.current ?? stepper.maxPeakCurrent * 0.71,\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (th.toolboard?.id !== current.getToolboard()?.id) {\n\t\t\t\t\t// Reset toolboard dependent options\n\t\t\t\t\tif (th.toolboard == null && th.xEndstop.id === 'endstop-toolboard') {\n\t\t\t\t\t\tth.xEndstop = defaultXEndstop;\n\t\t\t\t\t}\n\t\t\t\t\tif (th.partFan?.id.endsWith('-toolboard')) {\n\t\t\t\t\t\tconst newFan = partFanOptions(null, th).shift();\n\t\t\t\t\t\tif (newFan == null) {\n\t\t\t\t\t\t\tthrow new Error(`No part fan options available for current T${th.toolNumber} configuration`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tth.partFan = newFan;\n\t\t\t\t\t}\n\t\t\t\t\tif (th.hotendFan?.id.endsWith('-toolboard')) {\n\t\t\t\t\t\tconst newFan = hotendFanOptions(null, th).shift();\n\t\t\t\t\t\tif (newFan == null) {\n\t\t\t\t\t\t\tthrow new Error(`No hotend fan options available for current T${th.toolNumber} configuration`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tth.hotendFan = newFan;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (th.thermistor !== current.getThermistor() && th.thermistor !== th.hotend.thermistor) {\n\t\t\t\t\tsetHasManuallySelectedThermistor(true);\n\t\t\t\t} else if (th.hotend.id != current.getHotend().id && !hasManuallySelectedThermistor) {\n\t\t\t\t\tth.thermistor = th.hotend.thermistor;\n\t\t\t\t}\n\t\t\t\tconst val = BaseToolheadConfiguration.extend({ toolNumber: ToolNumber })\n\t\t\t\t\t.nullable()\n\t\t\t\t\t.safeParse({ ...th, toolNumber: current.getTool() });\n\t\t\t\tif (val.success) {\n\t\t\t\t\tset(PrinterToolheadState(current.getTool()), val.data);\n\t\t\t\t}\n\t\t\t\treturn val;\n\t\t\t},\n\t\t[hasManuallySelectedThermistor],\n\t);\n\treturn {\n\t\ttoolhead: toolhead as MaybeToolhead<T>,\n\t\tsetToolhead,\n\t};\n};\n"],"names":["cardVariants","cva","Card","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","motion","div","props","className","twMerge","children","OnDropdownOpened","open","onShown","param","useEffect","useDropdownPrinterQueryState","query","vars","serializedPrinterConfiguration","fetchImmediately","data","isShown","setIsShown","useState","serializedConfig","useSerializedPrinterConfiguration","variables","undefined","_utils_trpc__WEBPACK_IMPORTED_MODULE_3__","SX","printer","useQuery","enabled","keepPreviousData","options","isFetching","DropdownWithPrinterQuery","rest","value","badge","queryProps","selectedOption","find","o","id","correctedValue","React","Dropdown","badgeDescription","Array","isArray","map","b","join","onSelect","setOpen","onSelected","useCallback","option","newSelection","sort","slice","a","title","localeCompare","inputClass","twJoin","error","animate","useAutoAnimate","valueBadges","concat","help","jsxs","Popover","onOpenChange","Label","label","PopoverTrigger","asChild","disabled","Button","variant","role","aria-expanded","span","canClear","onClick","e","preventDefault","stopPropagation","length","X","i","react__WEBPACK_IMPORTED_MODULE_1__","createElement","Badge","key","color","size","CaretSortIcon","ref","p","PopoverContent","Command","CommandInput","placeholder","CommandList","CommandEmpty","CommandGroup","CommandItem","CheckIcon","cn","AnimatedContainer","CommandLoading","Spinner","TextInput","fieldId","useRef","objectHash","onChange","_onChange","isPasswordVisible","setIsPasswordVisible","icon","ExclamationCircleIcon","aria-hidden","current","type","parseFloat","currentTarget","togglePasswordVisibility","visibility","EyeSlashIcon","EyeIcon","Input","defaultValue","aria-invalid","aria-describedby","CardHeader","displayName","CardTitle","h3","CardDescription","CardContent","CardFooter","CommandPrimitive","setDisplayName","cmdk-input-wrapper","MagnifyingGlassIcon","List","Empty","Group","CommandSeparator","Separator","Item","InputVariants","variants","plain","default","defaultVariants","input","labelVariants","LabelPrimitive","PopoverPrimitive","align","sideOffset","xEndstopOptions","config","toolheadConfig","endstops","toolboard","push","name","toolNumber","axis","PrinterAxis","x","controlboard","defaultXEndstop","useIsClient","isClient","setIsClient","useToolheads","toolheadConfigs","useRecoilValue","PrinterToolheadsState","toolheads","useMemo","filter","Boolean","ToolheadHelper","th","useToolheadConfiguration","toolOrAxis","errorIfNotExist","LoadablePrinterToolheadsState","toolheadConfigsRef","toolhead","getTool","getMotionAxis","getExtruderAxis","hasManuallySelectedThermistor","setHasManuallySelectedThermistor","setToolhead","useRecoilCallback","set","snapshot","helper","currentConfig","getPromise","PrinterToolheadState","getToolCommand","extruder","getExtruder","stepper","deserializeStepper","PrinterRailState","rail","maxPeakCurrent","getToolboard","xEndstop","partFan","endsWith","newFan","partFanOptions","shift","hotendFan","hotendFanOptions","thermistor","getThermistor","hotend","getHotend","val","BaseToolheadConfiguration","extend","ToolNumber","nullable","safeParse","success"],"sourceRoot":""}