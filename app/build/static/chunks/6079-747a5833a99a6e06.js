"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6079],{88192:function(e,r,t){t.r(r),t.d(r,{Card:function(){return Card}});var n=t(72612),o=t(73918);t(39164);var a=t(73790),l=t(63278);let d=(0,o.j)(["relative rounded-lg bg-white dark:bg-zinc-900/60 @container","shadow-[0px_0px_0px_1px_rgba(9,9,11,0.07),0px_2px_2px_0px_rgba(9,9,11,0.05)] dark:shadow-[0px_0px_0px_1px_rgba(255,255,255,0.05)]","dark:before:-inset-px dark:before:rounded-xl","dark:before:pointer-events-none dark:before:absolute dark:before:shadow-[0px_2px_8px_0px_rgba(0,_0,_0,_0.20),_0px_1px_0px_0px_rgba(255,_255,_255,_0.07)_inset]"]),Card=e=>(0,n.jsx)(a.E.div,{...e,className:(0,l.m6)(d(),e.className),children:e.children})},34640:function(e,r,t){t.d(r,{LV:function(){return DropdownWithPrinterQuery},Lt:function(){return Dropdown}});var n=t(72612),o=t(39164),a=t(53614),l=t(63278),d=t(39634),i=t(79293),s=t(98130),u=t(37652),c=t(88116),p=t(81455),f=t(90077),m=t(94809),x=t(89610),h=t(66940),b=t(64929),g=t(59291),v=t(34709),w=t(84481);let OnDropdownOpened=e=>{let{open:r,onShown:t}=e;return(0,o.useEffect)(()=>{r&&t()},[r,t]),null},useDropdownPrinterQueryState=(e,r,t,n)=>{var a;let[l,d]=(0,o.useState)(!1),s=(0,u.useSerializedPrinterConfiguration)(),c=null!=r?r:t?{}:void 0;c&&null!=t&&(c[t]=s);let p=i.SX.printer[e].useQuery(c,{enabled:l||n,keepPreviousData:!0});return{options:null!==(a=p.data)&&void 0!==a?a:[],onShown:()=>d(!0),isFetching:p.isFetching}},DropdownWithPrinterQuery=e=>{let{query:r,vars:t,serializedPrinterConfiguration:a,...l}=e,{value:d}=l,i=(null==d?void 0:d.badge)!=null,s=useDropdownPrinterQueryState(r,t,a,i),u=s.options.find(e=>e.id===(null==d?void 0:d.id)),c=null!=u?u:d;return(0,n.jsx)(o.Suspense,{children:(0,n.jsx)(Dropdown,{...l,...s,value:c})})},badgeDescription=e=>e?Array.isArray(e)?e.map(e=>e.children).join(", "):e.children:"",Dropdown=e=>{var r;let{onSelect:t,value:i}=e,[u,y]=o.useState(!1),N=(0,o.useCallback)(r=>{let n=e.options.find(e=>e.id===r);n&&(null==t||t(n))},[t,e.options]),j=!1==e.sort?e.options:e.options.slice(0).sort((e,r)=>e.title.localeCompare(r.title)),k=(0,l.dV)(e.error&&"ring-red-500 ring-2 text-red-900 placeholder-red-300 dark:text-red-400 dark:placeholder-red-700"),[_]=(0,c.u)(),C=(Array.isArray(null==i?void 0:i.badge)?i.badge:(null==i?void 0:i.badge)?[i.badge]:[]).concat(Array.isArray(e.badge)?e.badge:e.badge?[e.badge]:[]),z=e.help?(0,n.jsx)("div",{className:"mb-2 whitespace-pre-line text-sm text-sky-200/50 opacity-70",id:"email-description",children:e.help}):null;return(0,n.jsxs)(p.J2,{open:u,onOpenChange:y,children:[(0,n.jsx)(x._,{className:(0,l.m6)("block text-sm font-semibold leading-6 text-zinc-700 dark:text-zinc-300",e.error&&"text-red-600 dark:text-red-400"),children:e.label}),z,e.onShown&&(0,n.jsx)(OnDropdownOpened,{open:u,onShown:e.onShown}),(0,n.jsx)(p.xo,{asChild:!0,disabled:e.disabled,children:(0,n.jsxs)(m.z,{variant:"outline",role:"combobox",disabled:e.disabled,"aria-expanded":u,className:(0,l.dV)("w-full justify-between bg-zinc-800 px-2",k),children:[(0,n.jsxs)("span",{className:"flex min-w-0 flex-1 items-center justify-start gap-2 text-left",children:[(0,n.jsx)("span",{className:"min-w-0 flex-1 items-center truncate",children:null!==(r=null==i?void 0:i.title)&&void 0!==r?r:"Pick from the list..."}),e.canClear&&!e.disabled&&(0,n.jsx)("span",{onClick:r=>{r.preventDefault(),r.stopPropagation(),!0===e.canClear&&(null==t||t(null))},className:(0,l.dV)(null==C||0===C.length?"-mr-3":"mr-0","flex h-4 w-4 items-center space-x-1 text-zinc-400"),children:(0,n.jsx)(w.Z,{})}),(0,n.jsx)("span",{className:(0,l.dV)("flex items-center space-x-1",!e.disabled&&"-mr-2"),children:C&&C.map((r,t)=>{var n;return(0,o.createElement)(d.Ct,{...r,key:t,color:null!==(n=r.color)&&void 0!==n?n:e.disabled?"plain":r.color,size:"sm"})})})]}),!e.disabled&&(0,n.jsx)(f.jnn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,n.jsx)("div",{ref:_,children:e.error&&(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:e.error})}),(0,n.jsxs)(p.yk,{className:"min-w-[var(--radix-popover-trigger-width)] p-0",children:[(0,n.jsxs)(h.mY,{children:[(0,n.jsx)(h.sZ,{placeholder:"Search for option...",className:"h-9"}),(0,n.jsxs)(h.e8,{children:[(0,n.jsx)(h.rb,{children:"No option found."}),(0,n.jsx)(h.fu,{children:j.map(e=>(0,n.jsxs)(h.di,{value:e.title+badgeDescription(e.badge)+e.id,onSelect:()=>{N(e.id),y(!1)},className:(0,l.dV)("gap-2",(null==i?void 0:i.id)===e.id&&"text-brand-400 aria-selected:text-brand-400 hover:text-brand-400"),children:[e.badge&&(Array.isArray(e.badge)?e.badge.map((e,r)=>(0,o.createElement)(d.Ct,{...e,color:e.color,size:"sm",key:r})):(0,n.jsx)(d.Ct,{...e.badge,color:e.badge.color,size:"sm"})),e.title,(0,n.jsx)(a,{className:(0,b.cn)("ml-auto h-4 w-4 text-brand-400",(null==i?void 0:i.id)===e.id?"opacity-100":"opacity-0")})]},e.id))})]})]}),(0,n.jsx)(v.i,{children:e.isFetching&&(0,n.jsx)(g.U5,{className:"flex justify-center px-3 py-2 text-sm text-zinc-400 dark:text-zinc-500",children:(0,n.jsx)(s.$,{})})})]})]})}},57137:function(e,r,t){t.d(r,{o:function(){return TextInput}});var n=t(72612),o=t(96148),a=t(6181),l=t(33964),d=t(53093),i=t(32836),s=t.n(i),u=t(39164),c=t(63278),p=t(69047);let TextInput=e=>{let r=(0,u.useRef)(s()(e)),{onChange:t}=e,[i,f]=(0,u.useState)(!1);(0,c.dV)("h-5 w-5",(e.error,"text-red-500"));let m=e.error?(0,n.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,n.jsx)(l,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}):null,x=(0,c.dV)(e.error&&"border-red-300 text-red-900 placeholder-red-300 ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700"),h=e.error?(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",id:r.current+"-error",children:e.error}):null,b=e.help?(0,n.jsx)("p",{className:"mt-2 text-sm text-zinc-500",id:"email-description",children:e.help}):null,g=(0,u.useCallback)(r=>{null==t||t("number"===e.type?parseFloat(r.currentTarget.value):r.currentTarget.value)},[t,e.type]),v=(0,u.useCallback)(()=>{f(e=>!e)},[]),w="password"===e.type?(0,n.jsx)("div",{onClick:v,className:"absolute inset-y-0 ".concat(null!=m?"right-6":"right-0"," flex cursor-pointer items-center pr-3"),children:i?(0,n.jsx)(o,{className:"h-5 w-5 text-zinc-400"}):(0,n.jsx)(a,{className:"h-5 w-5 text-zinc-400"})}):null;return(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"block text-sm font-semibold leading-6 text-zinc-700 dark:text-zinc-300",children:e.label}),(0,n.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,n.jsx)(p.I,{...e,type:i?"text":e.type,className:x,placeholder:e.placeholder,defaultValue:e.defaultValue,value:e.value,onChange:g,variant:e.error?"error":"default","aria-invalid":!!e.error,"aria-describedby":e.error?r.current+"-error":void 0}),m,w]}),null!=h?h:b]})}},73371:function(e,r,t){t.d(r,{Ol:function(){return l},SZ:function(){return i},aY:function(){return s},eW:function(){return u},ll:function(){return d}});var n=t(72612),o=t(39164),a=t(64929);let l=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-4 @sm:p-6",t),...o})});l.displayName="CardHeader";let d=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("h3",{ref:r,className:(0,a.cn)("font-semibold leading-none tracking-tight",t),...o})});d.displayName="CardTitle";let i=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...o})});i.displayName="CardDescription";let s=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("p-4 pt-0 @sm:p-6",t),...o})});s.displayName="CardContent";let u=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-4 pt-0 @sm:p-6",t),...o})});u.displayName="CardFooter"},66940:function(e,r,t){t.d(r,{di:function(){return x},e8:function(){return c},fu:function(){return f},mY:function(){return s},rb:function(){return p},sZ:function(){return u},zz:function(){return m}});var n=t(72612),o=t(39164),a=t(90077),l=t(59291),d=t(64929);t(66751);var i=t(69047);let s=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)(l.mY,{ref:r,className:(0,d.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...o})});(0,d.h)(s,l.mY.displayName);let u=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsxs)("div",{className:"flex items-center rounded-t-md border-b pl-3","cmdk-input-wrapper":"",children:[(0,n.jsx)(a._Ve,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,n.jsx)(l.mY.Input,{ref:r,asChild:!0,className:(0,d.cn)("flex w-full rounded-md bg-transparent text-sm shadow-none outline-none placeholder:text-muted-foreground focus:ring-inset focus:ring-transparent disabled:cursor-not-allowed disabled:opacity-50 dark:border-transparent dark:focus:border-transparent dark:focus:ring-transparent dark:focus:ring-offset-0 dark:focus:ring-offset-transparent",t),...o,children:(0,n.jsx)(i.I,{variant:"plain"})})]})});(0,d.h)(u,l.mY.Input.displayName);let c=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)(l.mY.List,{ref:r,className:(0,d.cn)("scrollable max-h-[300px] overflow-y-auto overflow-x-hidden",t),...o})});(0,d.h)(c,l.mY.List.displayName);let p=o.forwardRef((e,r)=>(0,n.jsx)(l.mY.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));(0,d.h)(p,l.mY.Empty.displayName);let f=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)(l.mY.Group,{ref:r,className:(0,d.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...o})});(0,d.h)(f,l.mY.Group.displayName);let m=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)(l.mY.Separator,{ref:r,className:(0,d.cn)("-mx-1 h-px bg-border",t),...o})});(0,d.h)(m,l.mY.Separator.displayName);let x=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)(l.mY.Item,{ref:r,className:(0,d.cn)('relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled="true"]:pointer-events-none data-[disabled="true"]:opacity-50',t),...o})});(0,d.h)(x,l.mY.Item.displayName)},69047:function(e,r,t){t.d(r,{I:function(){return s}});var n=t(72612),o=t(39164),a=t(64929),l=t(73918),d=t(63278);let i=(0,l.j)((0,d.dV)("flex w-full rounded-md border bg-transparent px-3 py-1.5 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground","border-zinc-300 text-zinc-900 placeholder-zinc-300 ring-brand-600 dark:border-zinc-100/20 dark:text-zinc-100 dark:placeholder-zinc-100/30 dark:focus:ring-brand-400 ","focus:ring-offset-zinc-900 block w-full rounded-md border text-left shadow-sm ring-inset ring-offset-zinc-900 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2","active:translate-y-px active:scale-[99%] active:outline-none active:ring-2 active:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50"),{variants:{variant:{plain:"shadow-none bg-transparent text-zinc-700 dark:text-zinc-300 dark:bg-transparent",default:"dark:bg-zinc-800 bg-white",error:"border-red-300 text-red-900 placeholder-red-300 ring-red-500 dark:ring-red-500 dark:text-red-400 dark:placeholder-red-700"}},defaultVariants:{variant:"plain"}}),s=o.forwardRef((e,r)=>{let{className:t,type:o,...l}=e;return(0,n.jsx)("input",{type:o,className:(0,a.cn)(i(l),t),ref:r,...l})});(0,a.h)(s,"Input")},89610:function(e,r,t){t.d(r,{_:function(){return s}});var n=t(72612),o=t(39164),a=t(53093),l=t(73918),d=t(64929);let i=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),s=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)(a.f,{ref:r,className:(0,d.cn)(i(),t),...o})});(0,d.h)(s,a.f.displayName)},81455:function(e,r,t){t.d(r,{J2:function(){return d},xo:function(){return i},yk:function(){return s}});var n=t(72612),o=t(39164),a=t(88311),l=t(64929);let d=a.fC,i=a.xz;a.ee;let s=o.forwardRef((e,r)=>{let{className:t,align:o="center",sideOffset:d=4,...i}=e;return(0,n.jsx)(a.h_,{children:(0,n.jsx)(a.VY,{ref:r,align:o,sideOffset:d,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});(0,l.h)(s,a.VY.displayName)},61946:function(e,r,t){t.d(r,{Jt:function(){return o},uo:function(){return xEndstopOptions}});var n=t(1314);let xEndstopOptions=(e,r)=>{let t=[];if((null==r?void 0:r.toolboard)!=null&&t.push({id:"endstop-toolboard",title:"Physical Endstop",badge:[{color:"sky",children:"".concat(r.toolboard.name).concat(null!=r.toolNumber&&" T".concat(r.toolNumber))}]}),(null==r?void 0:r.axis)===n.po.x){var o,a,l,d;t.push({id:"endstop",title:"Physical Endstop",badge:[{color:"purple",children:null!==(l=null==e?void 0:null===(o=e.controlboard)||void 0===o?void 0:o.name)&&void 0!==l?l:"Control Board"}]}),t.push({id:"sensorless",title:"Sensorless Homing",badge:[{color:"purple",children:null!==(d=null==e?void 0:null===(a=e.controlboard)||void 0===a?void 0:a.name)&&void 0!==d?d:"Control Board"}]})}return t},o={id:"endstop",title:"Physical Endstop",badge:[{color:"purple",children:"Control Board"}]}},91302:function(e,r,t){t.d(r,{O:function(){return useIsClient}});var n=t(39164);let useIsClient=()=>{let[e,r]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{r(!0)},[]),e}},80461:function(e,r,t){t.d(r,{YC:function(){return useToolheads},yk:function(){return useToolheadConfiguration}});var n=t(11974),o=t(21264),a=t(96588),l=t(39164),d=t(32342),i=t(65667),s=t(22595),u=t(61946),c=t(4840);let useToolheads=()=>{let e=(0,a.sJ)(i.$T),r=(0,l.useMemo)(()=>null==e?void 0:e.filter(Boolean).map(e=>new n.D(e)),[e]);return r},useToolheadConfiguration=function(e){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=(0,a.sJ)(i.wm),p=(0,l.useRef)(t);p.current!==t&&t.length>0&&(p.current=t.slice());let f=(0,l.useMemo)(()=>{var t;let o=null===(t=p.current)||void 0===t?void 0:t.filter(Boolean).map(e=>new n.D(e)),a=null==o?void 0:o.find(r=>r.getTool()===e||r.getMotionAxis()===e||r.getExtruderAxis()===e);if(null==a&&r)throw Error("Toolhead with number or axis ".concat(e," not found"));return null!=a?a:null},[r,e,p.current]),[m,x]=(0,l.useState)(!1),h=(0,a._8)(e=>{let{set:r,snapshot:t}=e;return async e=>{var a,l,p,f;let h=new n.D(e),b=await t.getPromise((0,i.AF)(h.getTool()));if(null==b)throw Error("Toolhead ".concat(h.getToolCommand()," not found"));let g=new n.D(b);if(e.extruder.id!=g.getExtruder().id&&null!=e.extruder.stepper){let t=(0,o.WZ)(e.extruder.stepper);null!=t&&r((0,d.ew)(h.getExtruderAxis()),r=>{var n;return null==r?null:{...r,stepper:t.id,current:null!==(n=e.extruder.current)&&void 0!==n?n:.71*t.maxPeakCurrent}})}if((null===(a=e.toolboard)||void 0===a?void 0:a.id)!==(null===(l=g.getToolboard())||void 0===l?void 0:l.id)){if(null==e.toolboard&&"endstop-toolboard"===e.xEndstop.id&&(e.xEndstop=u.Jt),null===(p=e.partFan)||void 0===p?void 0:p.id.endsWith("-toolboard")){let r=(0,c.gL)(null,e).shift();if(null==r)throw Error("No part fan options available for current T".concat(e.toolNumber," configuration"));e.partFan=r}if(null===(f=e.hotendFan)||void 0===f?void 0:f.id.endsWith("-toolboard")){let r=(0,c.Yo)(null,e).shift();if(null==r)throw Error("No hotend fan options available for current T".concat(e.toolNumber," configuration"));e.hotendFan=r}}e.thermistor!==g.getThermistor()&&e.thermistor!==e.hotend.thermistor?x(!0):e.hotend.id==g.getHotend().id||m||(e.thermistor=e.hotend.thermistor);let v=s.PY.extend({toolNumber:s.Qr}).nullable().safeParse({...e,toolNumber:g.getTool()});return v.success&&r((0,i.AF)(g.getTool()),v.data),v}},[m]);return{toolhead:f,setToolhead:h}}}}]);
//# sourceMappingURL=6079-747a5833a99a6e06.js.map