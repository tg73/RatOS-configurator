"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2948],{45483:function(e,t,r){r.d(t,{B:function(){return ErrorMessage}});var n=r(72612),a=r(65826);r(39164);var l=r(63278),i=r(34471);let ErrorMessage=e=>(0,n.jsx)(i.j,{color:"red",Icon:a,title:e.title?"Error: "+e.title:"Error",className:(0,l.m6)(e.className,"whitespace-pre-wrap"),children:e.children})},8832:function(e,t,r){r.d(t,{I:function(){return FullLoadScreen}});var n=r(72612),a=r(98130),l=r(63278);let FullLoadScreen=e=>(0,n.jsx)("div",{className:(0,l.dV)("flex h-full w-full flex-1 items-center justify-center",e.className),children:(0,n.jsx)(a.$,{className:"h-8 w-8"})})},31374:function(e,t,r){r.d(t,{$:function(){return InfoMessage}});var n=r(72612),a=r(44553);r(39164);var l=r(34471);let InfoMessage=e=>(0,n.jsx)(l.j,{color:"blue",Icon:a,title:e.title?e.title:"Info",className:e.className,children:e.children})},10573:function(e,t,r){r.d(t,{u:function(){return Modal}});var n=r(72612),a=r(39164),l=r(93095),i=r(66751),s=r(47258),o=r(64929);let Drawer=e=>{let{shouldScaleBackground:t=!0,...r}=e;return(0,n.jsx)(s.d.Root,{shouldScaleBackground:t,...r})};Drawer.displayName="Drawer";let d=s.d.Trigger,c=s.d.Portal,u=s.d.Close,f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.d.Overlay,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80",r),...a})});(0,o.h)(f,s.d.Overlay.displayName);let x=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,n.jsxs)(c,{children:[(0,n.jsx)(f,{}),(0,n.jsxs)(s.d.Content,{ref:t,className:(0,o.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background outline-none focus:outline-none focus:ring-0 focus:ring-offset-0",r),...l,children:[(0,n.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),a]})]})});(0,o.h)(x,"DrawerContent");let DrawerHeader=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,o.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...r})};DrawerHeader.displayName="DrawerHeader";let DrawerFooter=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,o.cn)("mt-auto flex flex-col gap-2 p-4",t),...r})};DrawerFooter.displayName="DrawerFooter";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.d.Title,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});(0,o.h)(m,s.d.Title.displayName);let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.d.Description,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})});(0,o.h)(p,s.d.Description.displayName);var h=r(98130),g=r(95106),v=r(96455),j=r(63278),b=r(94787),w=r(34709);let ModalButton=e=>{let[t,r]=(0,a.useState)(!1),{hide:l}=e,{onClick:i,children:s}=e.button.props,o=(0,a.useCallback)(async()=>{let e=null==i?void 0:i();if(e instanceof Promise){r(1);try{await e,l()}catch(e){throw e instanceof Error&&b.A.error(e.message),e}finally{r(!1)}}else l()},[i,l]);return a.cloneElement(e.button,{onClick:o,style:{direction:"ltr"},children:(0,n.jsxs)(n.Fragment,{children:[s,1===t&&(0,n.jsx)(h.$,{className:"inline-block",noMargin:!0})]})})};function Modal(e){var t,r,s,o,c,f,b;let{onClick:k,onClose:y,onClosed:N,onClickSecondButton:C}=e,[S,R]=(0,a.useState)(null==e.children),D=(0,a.useCallback)(()=>{null==y||y(),R(!1),N&&setTimeout(()=>{N()},250)},[N,y]),z=(0,a.useCallback)(()=>{R(!0)},[]),M=e.isLoading?(0,n.jsx)("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-zinc-100 dark:bg-zinc-700",children:(0,n.jsx)(h.$,{className:"h-6 w-6",noMargin:!0,"aria-hidden":"true"})}):!0===e.success?(0,n.jsx)("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-lime-100 dark:bg-lime-700",children:(0,n.jsx)(g.Z,{className:"h-6 w-6 text-lime-600 dark:text-lime-100","aria-hidden":"true"})}):!1===e.success?(0,n.jsx)("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-rose-100 dark:bg-rose-700",children:(0,n.jsx)(v.Z,{className:"h-6 w-6 text-rose-600 dark:text-rose-100","aria-hidden":"true"})}):null,L=function(e){var t;let r=window.matchMedia(e),[n,l]=(0,a.useState)(null!==(t=null==r?void 0:r.matches)&&void 0!==t&&t);return(0,a.useEffect)(()=>{if(null==r)return;let handleChange=e=>{l(e.matches)};return r.addEventListener("change",handleChange),()=>{r.removeEventListener("change",handleChange)}},[r]),n}("(min-width: 768px)"),_=null!==(t=e.buttons)&&void 0!==t?t:[];return(e.buttonLabel&&k&&_.push((0,n.jsx)(l.z,{variant:null!==(r=e.buttonVariant)&&void 0!==r?r:"info",onClick:k,children:e.buttonLabel})),e.secondButtonLabel&&C&&_.push((0,n.jsx)(l.z,{variant:null!==(s=e.secondButtonVariant)&&void 0!==s?s:"indeterminate",onClick:C,children:e.secondButtonLabel})),L)?(0,n.jsxs)(i.Vq,{open:S,onOpenChange:e=>{e?z():D()},children:[e.children&&(0,n.jsx)(i.hg,{asChild:!0,children:e.children}),(0,n.jsxs)(i.cZ,{className:(0,j.dV)("screen"===e.wide?"max-w-screen-2xl":e.wide?"max-w-6xl":"max-w-[600px]","flex max-h-[90vh] flex-col"),noClose:e.noClose,children:[(0,n.jsxs)("div",{className:"flex flex-grow-0 items-center gap-4",children:[M,(0,n.jsxs)(i.fK,{className:"flex-1",children:[(0,n.jsxs)(i.$N,{className:"flex items-center",children:[(0,n.jsx)("div",{className:"flex-1",children:e.title}),e.titleActions&&(0,n.jsx)("div",{className:"shrink-0",children:e.titleActions})]}),(0,n.jsx)(i.Be,{children:e.body})]})]}),(0,n.jsx)(w.i,{containerClassName:"flex-1 flex",className:"scrollable -mr-4 grid flex-1 gap-2 overflow-hidden overflow-y-scroll pr-1.5",children:e.content}),(0,n.jsxs)("div",{style:{direction:"rtl"},className:(0,j.dV)("grid flex-grow-0 grid-flow-col justify-end gap-2",_.length>1||"screen"===e.wide?"grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":1===_.length?"grid-cols-2":"grid-cols-1"),children:[(0,n.jsx)(l.z,{variant:null!==(o=e.dismissVariant)&&void 0!==o?o:"outline",onClick:D,style:{direction:"revert"},children:null!==(c=e.dismissText)&&void 0!==c?c:"Cancel"}),_.map((e,t)=>(0,n.jsx)(ModalButton,{button:e,hide:D},t))]})]})]}):(0,n.jsxs)(Drawer,{open:S,onOpenChange:e=>{e?z():D()},children:[e.children&&(0,n.jsx)(d,{asChild:!0,children:e.children}),(0,n.jsxs)(x,{className:"flex max-h-[90vh] flex-col",children:[(0,n.jsxs)(DrawerHeader,{className:"flex flex-grow-0 items-center gap-4 text-left",children:[M,(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{children:e.title}),(0,n.jsx)(p,{children:e.body})]})]}),e.content&&(0,n.jsx)("div",{className:"scrollable col-span-2 -mr-4 grid flex-1 gap-2 overflow-hidden overflow-y-scroll px-4 pb-2",children:e.content}),(0,n.jsxs)(DrawerFooter,{className:"flex-grow-0 pt-2",children:[_.map((e,t)=>(0,n.jsx)(ModalButton,{button:e,hide:D},t)),(0,n.jsx)(u,{asChild:!0,children:(0,n.jsx)(l.z,{variant:null!==(f=e.dismissVariant)&&void 0!==f?f:"outline",onClick:D,children:null!==(b=e.dismissText)&&void 0!==b?b:"Cancel"})})]})]})]})}},56445:function(e,t,r){r.r(t),r.d(t,{NoSSR:function(){return NoSSR}});var n=r(72612),a=r(91302),l=r(39164),i=r(8832);let NoSSR=e=>{var t;let r=(0,a.O)();return r?(0,n.jsx)(s,{children:e.children}):null!==(t=e.fallback)&&void 0!==t?t:(0,n.jsx)(i.I,{})},s=(0,l.lazy)(()=>Promise.resolve({default:e=>(0,n.jsx)(n.Fragment,{children:e.children})}))},3050:function(e,t,r){r.d(t,{wq:function(){return PrinterConnectionHeader},Ch:function(){return PrinterStateHeader}});var n=r(72612),a=r(63278),l=r(91302),i=r(39634),s=r(2750),o=r(96886),d=r(39164);let useKlippyStateHandler=()=>{let{query:e,lastMessage:t}=(0,o.oK)({passThroughUpdateMethods:["notify_klippy_ready","notify_klippy_shutdown","notify_klippy_disconnected"]}),[r,n]=(0,d.useState)("unknown"),a=(0,d.useCallback)(async()=>{if(null!=e)try{let t=await e("server.info");if((null==t?void 0:t.klippy_state)==null)return;let r=t.klippy_state;n(r),"startup"===r&&setTimeout(()=>{a()},2e3)}catch(e){n("unknown")}},[e,n]);return(0,d.useEffect)(()=>{null!=e&&a()},[e,a]),(0,d.useEffect)(()=>{t&&"method"in t&&"notify_klippy_ready"===t.method&&n("ready"),t&&"method"in t&&"notify_klippy_shutdown"===t.method&&n("shutdown"),t&&"method"in t&&"notify_klippy_disconnected"===t.method&&(n("unknown"),a())},[t,a,n]),r},klipperStateToText=e=>{switch(e){case"error":return"Klipper State: Error";case"ready":return"Klipper State: Ready";case"shutdown":return"Klipper State: Shutdown";case"startup":return"Klipper State: Startup";default:return"Klipper State: Unknown"}},KlippyStateBadge=e=>{let t=useKlippyStateHandler(),r="orange";switch(t){case"error":r="red";break;case"ready":r="brand";break;case"shutdown":case"unknown":default:r="orange";break;case"startup":r="yellow"}return(0,n.jsxs)(i.Ct,{color:r,title:klipperStateToText(t),children:[(0,n.jsx)("svg",{className:(0,a.dV)((0,i._1)({color:r}),"h-2 w-2"),fill:"currentColor",viewBox:"0 0 8 8",children:(0,n.jsx)("circle",{cx:4,cy:4,r:3})}),"Klipper"]})},moonrakerStatusToText=e=>{switch(e){case"not-running":return"Moonraker State: Not Running";case"connected":return"Moonraker State: Connected";case"connecting":return"Moonraker State: Connecting";default:return"Moonraker State: Unknown"}},MoonrakerStateBadge=e=>{let{status:t}=(0,o.oK)(),r="orange";switch(t){case"not-running":r="red";break;case"connected":r="brand";break;case"connecting":r="yellow";break;default:r="orange"}return(0,n.jsxs)(i.Ct,{color:r,title:moonrakerStatusToText(t),children:[(0,n.jsx)("svg",{className:(0,a.dV)((0,i._1)({color:r}),"h-2 w-2"),fill:"currentColor",viewBox:"0 0 8 8",children:(0,n.jsx)("circle",{cx:4,cy:4,r:3})}),"Moonraker"]})};var c=r(32342),u=r(96588);let PrinterHeader=e=>{var t;return(0,n.jsxs)("div",{className:"mt-6 @container",children:[(0,n.jsx)("div",{className:"border-t border-white/10 bg-zinc-700/15 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"mx-auto flex max-w-7xl flex-row items-center justify-between gap-x-8 gap-y-4 px-4 py-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,n.jsx)("div",{className:(0,a.m6)("flex-none rounded-full bg-green-400/10 p-1 text-zinc-400",e.stateColorClass),children:(0,n.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})}),(0,n.jsx)("h1",{className:"flex gap-x-3 text-base leading-7",children:null===(t=e.breadcrumb)||void 0===t?void 0:t.map((t,r)=>{var a,l;return(0,n.jsxs)(d.Fragment,{children:[(0,n.jsx)("span",{className:"font-semibold text-white",children:t}),r<(null!==(l=null===(a=e.breadcrumb)||void 0===a?void 0:a.length)&&void 0!==l?l:0)-1&&(0,n.jsx)("span",{className:"text-zinc-400",children:"/"})]},r)})})]}),(0,n.jsx)("div",{className:"capitalize",children:e.badges})]})}),(0,n.jsx)("header",{className:"sticky top-14 z-10 flex flex-grow-0 items-center gap-1 border-y border-b-white/10 border-t-white/5 bg-zinc-700/10 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"mx-auto w-full max-w-7xl gap-x-8 px-4 py-4",children:[(0,n.jsx)("h3",{className:"dark:focus-ring-0 flex h-auto flex-1 border-none p-0 text-xl font-medium focus:ring-0 focus:ring-offset-0",children:e.title}),(0,n.jsx)("p",{className:"dark:focus-ring-0 flex h-auto flex-1 border-none p-0 text-base font-medium text-muted-foreground focus:ring-0 focus:ring-offset-0 dark:text-muted-foreground",children:e.description})]})})]})},PrinterStateHeader=e=>{var t,r,f,x,m;let p=(0,s.PF)("general.printername",{initialData:"Loading..."}),h=(0,u.sJ)(c.Xu),g=(0,o.DS)("server.info"),v=(0,o.hS)("print_stats"),j=null===(t=v.data)||void 0===t?void 0:t.print_stats.state,b=(0,d.useMemo)(()=>{var e;let t=[null!==(e=p.data)&&void 0!==e?e:"RatOS"];return g.isLoading?t.push("Loading..."):(null==h?void 0:h.name)&&t.push(h.name),t},[g.isLoading,p.data,null==h?void 0:h.name]),w=(0,l.O)();return w?(0,n.jsx)(PrinterHeader,{stateColorClass:(0,a.dV)((null===(r=g.data)||void 0===r?void 0:r.klippy_state)==="error"&&"bg-red-400/10 text-red-400",(null===(f=g.data)||void 0===f?void 0:f.klippy_state)==="startup"&&"bg-amber-400/10 text-amber-400",(null===(x=g.data)||void 0===x?void 0:x.klippy_state)==="ready"&&"bg-green-400/10 text-green-400",(null===(m=g.data)||void 0===m?void 0:m.klippy_state)==="shutdown"&&"bg-red-400/10 text-red-400"),breadcrumb:b,badges:(0,n.jsx)(i.Ct,{className:"order-first capitalize @screen-sm:order-none",color:void 0===j?"gray":"canceled"==j?"pink":"complete"==j?"green":"error"==j?"red":"paused"===j?"sky":"printing"===j?"yellow":"standby"===j?"brand":"gray",children:void 0===j?"Offline":null!=j?j:"Loading..."}),title:e.title,description:e.description}):(0,n.jsx)(PrinterStateLoadingHeader,{})},PrinterConnectionHeader=e=>{var t,r,i,f;let x=(0,s.PF)("general.printername",{initialData:"Loading..."}),m=(0,u.sJ)(c.Xu),p=(0,o.DS)("server.info"),h=(0,l.O)(),g=(0,d.useMemo)(()=>{var e;let t=[null!==(e=x.data)&&void 0!==e?e:"RatOS"];return p.isLoading?t.push("Loading..."):(null==m?void 0:m.name)&&t.push(m.name),t},[p.isLoading,x.data,null==m?void 0:m.name]);return h?(0,n.jsx)(PrinterHeader,{stateColorClass:(0,a.dV)((null===(t=p.data)||void 0===t?void 0:t.klippy_state)==="error"&&"bg-red-400/10 text-red-400",(null===(r=p.data)||void 0===r?void 0:r.klippy_state)==="startup"&&"bg-amber-400/10 text-amber-400",(null===(i=p.data)||void 0===i?void 0:i.klippy_state)==="ready"&&"bg-green-400/10 text-green-400",(null===(f=p.data)||void 0===f?void 0:f.klippy_state)==="shutdown"&&"bg-red-400/10 text-red-400"),breadcrumb:g,badges:(0,n.jsxs)("div",{className:"inline-flex space-x-1 sm:flex-row-reverse sm:justify-end sm:space-x-2 sm:space-y-0 md:flex-row",children:[(0,n.jsx)(KlippyStateBadge,{}),(0,n.jsx)(MoonrakerStateBadge,{})]}),title:e.title,description:e.description}):(0,n.jsx)(PrinterStateLoadingHeader,{})},PrinterStateLoadingHeader=()=>(0,n.jsx)(PrinterHeader,{stateColorClass:"bg-gray-400/10 text-gray-400",breadcrumb:["RatOS","Loading..."],title:"Loading printer state...",description:"Please wait while RatOS loads your printer state",badges:(0,n.jsxs)("div",{className:"flex space-x-1 sm:flex-row-reverse sm:justify-end sm:space-x-2 sm:space-y-0 md:flex-row",children:[(0,n.jsx)(KlippyStateBadge,{}),(0,n.jsx)(MoonrakerStateBadge,{})]})})},26751:function(e,t,r){r.d(t,{o:function(){return QueryStatus}});var n=r(72612),a=r(45483),l=r(98130),i=r(34709);let QueryStatus=e=>{let t=null;if(e.isError){var r;t=(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(a.B,{children:null===(r=e.error)||void 0===r?void 0:r.message})})}return e.isLoading&&(t=(0,n.jsx)("div",{className:"mb-4 flex items-center justify-center",children:(0,n.jsx)(l.$,{})})),(0,n.jsx)(i.i,{children:t})}},84923:function(e,t,r){r.d(t,{o:function(){return FileChanges}});var n=r(72612),a=r(39164),l=r(79293),i=r(9948),s=r(80849);r(85626);var o=r(63278),d=r(10573),c=r(28351),u=r(47826),f=r(84481),x=r(51204);let m={up:e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,o.dV)("lucide lucide-arrow-up-from-line",e.className),children:[(0,n.jsx)("path",{d:"m18 9-6-6-6 6"}),(0,n.jsx)("path",{d:"M12 3v14"}),(0,n.jsx)("path",{d:"M5 21h14",strokeDasharray:"2,4"})]}),down:e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,o.dV)("lucide lucide-arrow-up-from-line rotate-180",e.className),children:[(0,n.jsx)("path",{d:"m18 9-6-6-6 6"}),(0,n.jsx)("path",{d:"M12 3v14"}),(0,n.jsx)("path",{d:"M5 21h14",strokeDasharray:"2,4"})]}),none:x.Z};function Unfold(e){let{start:t,end:r,direction:l,onExpand:i,collapsedLines:o,floatUp:d,...c}=e,u=(0,a.useCallback)(()=>i(t,r),[i,t,r]),f=m[l];return(0,n.jsxs)(s.p,{...c,children:[(0,n.jsx)("div",{className:"flex cursor-pointer items-center justify-center gap-1 bg-sky-400/20 p-3 font-sans text-base font-medium text-slate-400 hover:bg-sky-400/50 hover:text-foreground",onClick:u,title:"Expand".concat("none"===l?"":" "+l),children:(0,n.jsx)(f,{className:"size-4"})}),(0,n.jsx)("div",{className:"flex h-full w-full items-center justify-center bg-sky-400/5 p-3 text-[1rem] font-normal leading-4 text-slate-600",children:null==o?(0,n.jsx)("span",{className:"inline-block h-4"}):(0,n.jsxs)("span",{className:d?"relative -top-1 -translate-y-full":void 0,children:["<--"," ",o," collapsed line",1===o?"":"s"," ","-->"]})})]})}function UnfoldCollapsed(e){let{previousHunk:t,currentHunk:r,linesCount:a,onExpand:l}=e;if(!r){let e=t.oldStart+t.oldLines,r=a-e+1;return r<=0?null:(0,n.jsx)(Unfold,{direction:"down",start:e,end:r>20?e+20:a+1,collapsedLines:r,onExpand:l})}let i=(0,s.sy)(t,r);if(!t){if(!i)return null;let e=Math.max(r.oldStart-20,1);return(0,n.jsx)(Unfold,{direction:"up",start:i>20?e:1,end:r.oldStart,collapsedLines:i,onExpand:l})}let o=t.oldStart+t.oldLines,d=r.oldStart;return i<20?(0,n.jsx)(Unfold,{direction:"none",start:o,end:d,onExpand:l,collapsedLines:i}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Unfold,{direction:"down",start:o,end:o+20,onExpand:l,collapsedLines:null}),(0,n.jsx)(Unfold,{direction:"up",start:d-20,end:d,onExpand:l,floatUp:!0,collapsedLines:i})]})}var p=r(31374);let h=new Worker(r.tu(new URL(r.p+r.u(9607),r.b))),TwoColumns=e=>(0,n.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:(0,o.m6)("h-6 w-6",e.className),children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M 12 4.5 L 12 19.5 M 4.125 19.5 L 19.875 19.5 C 20.496 19.5 21 18.996 21 18.375 L 21 5.625 C 21 5.004 20.496 4.5 19.875 4.5 L 4.125 4.5 C 3.504 4.5 3 5.004 3 5.625 L 3 18.375 C 3 18.996 3.504 19.5 4.125 19.5 Z"})}),SingleColumn=e=>(0,n.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:(0,o.m6)("h-6 w-6",e.className),children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M 4.125 19.5 L 19.875 19.5 C 20.496 19.5 21 18.996 21 18.375 L 21 5.625 C 21 5.004 20.496 4.5 19.875 4.5 L 4.125 4.5 C 3.504 4.5 3 5.004 3 5.625 L 3 18.375 C 3 18.996 3.504 19.5 4.125 19.5 Z"})}),DiffModal=e=>{var t;let{isOpen:r,setIsOpen:l}=e,[i,x]=(0,a.useState)("unified"),m=(0,a.useCallback)(()=>{l(!1)},[l]),g=(0,a.useMemo)(()=>(0,s.z2)(e.diff)[0],[e.diff]),v=e.source?e.source.split("\n").length:0,{tokens:j,expandRange:b,hunks:w}=function(e,t){let[r,n]=(0,s._8)(e,t),a=(0,s.RP)(0,r,t),{tokens:l}=(0,s.P2)(h,{oldSource:t,language:"properties",hunks:a});return{expandRange:n,tokens:l,hunks:a}}(g.hunks,null!==(t=e.source)&&void 0!==t?t:""),k=(0,a.useCallback)(e=>{let{change:t,side:r}=e,a="old"===r?(0,s.Hp)(t):(0,s.am)(t),l="delete"===t.type&&"old"===r?(0,n.jsx)(c.Z,{className:"h-4 w-4"}):"insert"===t.type&&"new"===r?(0,n.jsx)(u.Z,{className:"h-4 w-4"}):"";return(0,n.jsxs)("div",{className:"flex flex-1 items-center gap-1 text-left",children:[(0,n.jsx)("span",{className:"flex-1",children:-1===a?null:a}),l]})},[]),renderHunk=(t,r,a,l)=>{let i=t[t.length-1],o=e.source?(0,n.jsx)(UnfoldCollapsed,{previousHunk:i&&i.props.hunk,currentHunk:r,linesCount:v,onExpand:b},"decoration-".concat(r.content)):(0,n.jsx)(n.Fragment,{});t.push(o);let d=(0,n.jsx)(s.SC,{hunk:r},"hunk-".concat(r.content));if(t.push(d),a===l.length-1&&e.source){let e=(0,n.jsx)(UnfoldCollapsed,{previousHunk:r,linesCount:v,onExpand:b},"decoration-tail");t.push(e)}return t},y="changed"===e.state?"modify":"created"===e.state?"add":"delete";return r&&(0,n.jsx)(d.u,{title:"Changes to ".concat(e.fileName),onClosed:m,noClose:!0,wide:"screen",buttons:e.buttons,body:"RatOS wants to make the following changes to ".concat(e.fileName,". Do you want to accept these changes?"),dismissText:"Close",titleActions:(0,n.jsxs)("div",{className:"relative flex flex-nowrap items-center gap-2 text-muted-foreground",children:[(0,n.jsx)("button",{className:(0,o.dV)("unified"===i?"cursor-default text-sky-600 dark:text-sky-400":"hover:text-zinc-800 dark:hover:text-zinc-100"),onClick:()=>x("unified"),title:"Unified View",children:(0,n.jsx)(SingleColumn,{className:"h-6 w-6"})}),(0,n.jsx)("button",{className:(0,o.dV)("split"===i?"cursor-default text-sky-600 dark:text-sky-400":"hover:text-zinc-800 dark:hover:text-zinc-100"),onClick:()=>x("split"),title:"Split View",children:(0,n.jsx)(TwoColumns,{className:"h-6 w-6"})}),(0,n.jsx)("div",{className:"!ml-2 !mr-1 h-6 border-l border-l-zinc-200 dark:border-l-zinc-800"}),(0,n.jsx)("button",{className:"hover:text-zinc-800 dark:hover:text-zinc-100",onClick:m,children:(0,n.jsx)(f.Z,{className:"h-6 w-6"})})]}),content:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"git-diff flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-400 scrollbar-thumb-rounded-md dark:scrollbar-thumb-zinc-600",children:["printer.cfg"===e.fileName&&e.changedOnDisk&&(0,n.jsx)(p.$,{title:"You might not need these changes",className:"mb-4",children:"RatOS currently does not have the ability to port your customizations to generated code, and printer.cfg is usually only regenerated when printer limit defaults have changed or you swap hardware type. If you haven't changed hardware types, you can most likely ignore these changes."}),(0,n.jsx)(s.zI,{hunks:w,viewType:i,diffType:y,tokens:j,renderGutter:k,children:e=>e.reduce(renderHunk,[])})]})})})};var g=r(96722),v=r(73918);let j=(0,v.j)("flex-none rounded-full p-1 relative flex",{variants:{state:{success:"dark:text-green-400 text-green-500 bg-green-400/20",info:"dark:text-sky-400 text-sky-500 bg-sky-400/20",warning:"dark:text-yellow-400 text-yellow-500 bg-yellow-400/20",danger:"dark:text-rose-400 text-rose-500 bg-rose-400/20",indeterminate:"dark:text-zinc-400 text-zinc-500 bg-zinc-500/20",plain:"dark:text-zinc-400 text-zinc-500 bg-zinc-500/20",primary:"dark:text-brand-400 text-brand-500 bg-brand-500/20"}}}),StateCircle=e=>{var t;return(0,n.jsxs)("div",{className:j(e),children:[(0,n.jsx)("div",{title:e.title,className:(0,o.m6)("absolute inset-0 transition-all duration-700",e.ping?"opacity-100":"opacity-0",null!==(t=e.pingClassName)&&void 0!==t?t:"z-2"),children:(0,n.jsx)("div",{className:(0,o.m6)("absolute inset-0 inline-flex animate-ping rounded-full bg-current opacity-0 ease-out")})}),(0,n.jsx)("div",{className:"h-2 w-2 rounded-full bg-current"})]})};var b=r(39634),w=r(94809),k=r(66477),y=r(30461),N=r(26751),C=r(64827),S=r(96836),R=r(95106),D=r(36515),z=r(12551),M=r(88927);let ChangedFile=e=>{let{addFileToIgnore:t,addFileToOverwrite:r,file:l,removeFileToIgnore:i,removeFileToOverwrite:s,isMarkedIgnored:o,isMarkedOverwritten:d}=e,[c,f]=(0,a.useState)(!1),x=(0,a.useCallback)(e=>{f(!0)},[]),m="changed"===l.state&&(l.overwrite||d)||"created"===l.state||"removed"===l.state,p="changed"===l.state,h="created"===l.state||"removed"===l.state||"changed"===l.state,v=d||l.overwrite&&l.exists,j=h&&!o&&!v&&!m&&!0===l.changedFromConfig;l.state,l.state,l.state;let N=(0,a.useMemo)(()=>{if("RatOS.cfg"===l.fileName)return[];let e=null,n=null,a=null,c=null,f=null;return v&&!o?e={title:"Skip",intent:"indeterminate",icon:S.Z,action:d?s:t}:p&&(a={title:"Accept changes",intent:"warning",icon:R.Z,action:o?e=>{i(e),r(e)}:r}),!h||o||v?o&&("removed"===l.state?f={title:"Delete",intent:"danger",icon:z.Z,action:i}:h&&!p&&(c={title:"Write",icon:u.Z,intent:"success",action:i})):n={title:"Keep existing file",icon:D.Z,intent:j?"printer.cfg"===l.fileName?"info":"danger":"indeterminate",action:t},[e,n,a,c,f].filter(Boolean)},[t,r,l.fileName,l.state,h,o,o,d,p,v,j,i,s]),L=(0,a.useMemo)(()=>j?"danger":"changed"===l.state?o&&l.overwrite||v&&!l.overwrite?"warning":v?"success":"indeterminate":"created"===l.state?o?"danger":"success":"removed"!==l.state||o?"indeterminate":"warning",[l.overwrite,l.state,o,v,j]),[_]=(0,k.S)([L],4e3);return(0,n.jsxs)("li",{className:"flex items-center justify-between gap-x-6 py-5",children:[(null==l?void 0:l.diff)!=null&&(0,n.jsx)(DiffModal,{diff:l.diff,fileName:l.fileName,state:l.state,changedOnDisk:l.changedOnDisk,source:l.diskContent,setIsOpen:f,buttons:N.map(e=>(0,n.jsxs)(w.z,{onClick:()=>{e.action(l.fileName),f(!1)},variant:e.intent,children:[(0,n.jsx)(e.icon,{className:"h-4 w-4"}),e.title]},e.title)),isOpen:c}),(0,n.jsxs)("div",{className:"min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,n.jsx)(StateCircle,{state:L,ping:_}),(0,n.jsx)("p",{className:"text-sm font-medium leading-6 text-zinc-900 dark:text-zinc-100",children:l.fileName}),(0,n.jsx)(b.Ct,{size:"sm",color:"changed"===l.state?l.changedFromConfig?"yellow":"sky":"created"===l.state?"green":"removed"===l.state?"rose":"gray",children:"changed"===l.state?l.changedFromConfig?"Pending changes":"Changed on disk":"created"===l.state?"New file":"removed"===l.state?"Deleted":"No updates"}),l.changedOnDisk&&(0,n.jsx)(b.Ct,{size:"sm",color:"sky",children:"Changed on disk"})]}),(0,n.jsx)("div",{className:"mt-1 flex items-center gap-x-2 text-xs leading-5 text-zinc-500 dark:text-zinc-400",children:(0,n.jsxs)("p",{className:"",children:["changed"===l.state&&(v&&!o?"File will be backed up and overwritten."+("RatOS.cfg"!=l.fileName?" Any changes you've made can be recovered from the backup.":""):j?"Please review the changes and make a decision.":"File will be skipped."),"created"===l.state&&(o?"File will be skipped.":"File will be created."),"removed"===l.state&&(o?"File will remain untouched.":"File will be deleted."),"unchanged"===l.state&&(l.changedOnDisk?"File has user modifications.":"File remains untouched.")]})})]}),(0,n.jsxs)("div",{className:"flex flex-none items-center gap-x-4",children:[(0,n.jsx)("div",{className:"flex flex-none items-center",children:j?(0,n.jsx)(w.z,{variant:"info",onClick:()=>x(l),children:"Review changes"}):(0,n.jsx)(y,{className:"h-5 w-5 text-green-500 dark:text-brand-500","aria-hidden":"true"})}),(0,n.jsxs)(C.h_,{children:[(0,n.jsxs)(C.$F,{className:"-m-2.5 block p-2.5 text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100",children:[(0,n.jsx)("span",{className:"sr-only",children:"Open options"}),(0,n.jsx)(g,{className:"h-5 w-5","aria-hidden":"true"})]}),(0,n.jsxs)(C.AW,{children:[N.map(e=>(0,n.jsxs)(C.Xi,{onClick:()=>e.action(l.fileName),className:"gap-2",children:[(0,n.jsx)(e.icon,{className:"h-4 w-4 text-muted-foreground"}),e.title]},e.title)),(0,n.jsxs)(C.Xi,{disabled:null==l.diff,onClick:()=>x(l),className:"gap-2",children:[(0,n.jsx)(M.Z,{className:"h-4 w-4 text-muted-foreground"}),"View diff"]})]})]})]})]},l.fileName)},FileChanges=e=>{var t;let{serializedConfig:r,onFilesToIgnoreChange:s,onFilesToOverwriteChange:o}=e,[d,c]=(0,a.useState)([]),u=(0,a.useCallback)(e=>{c(t=>t.includes(e)?t:[...t,e])},[]),f=(0,a.useCallback)(e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):t)},[]),[x,m]=(0,a.useState)([]),p=(0,a.useCallback)(e=>{m(t=>t.includes(e)?t:[...t,e])},[]),h=(0,a.useCallback)(e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):t)},[]);(0,a.useEffect)(()=>{o(d)},[d,o]),(0,a.useEffect)(()=>{s(x)},[x,s]);let g=l.SX.useUtils().client,v=(0,i.a)({queryKey:["printer.filesToWrite",r],queryFn:async()=>{let e=await g.printer.getFilesToWrite.mutate({config:null!=r?r:{}});return e},enabled:null!=r});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("ul",{role:"list",className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:null===(t=v.data)||void 0===t?void 0:t.map(e=>(0,n.jsx)(ChangedFile,{file:e,isMarkedIgnored:x.includes(e.fileName),isMarkedOverwritten:d.includes(e.fileName),addFileToIgnore:p,addFileToOverwrite:u,removeFileToIgnore:h,removeFileToOverwrite:f},e.fileName))}),(0,n.jsx)(N.o,{...v})]})}},59672:function(e,t,r){r.d(t,{l:function(){return PrinterRailSettings}});var n=r(72612),a=r(34640),l=r(39164),i=r(37231),s=r(18311),o=r(39634),d=r(57137),c=r(34471),u=r(39662),f=r(69460),x=r(96588),m=r(31239),p=r(1314),h=r(21264),g=r(32342),v=r(80461),j=r(79293),b=r(63278),w=r(94594),k=r(39762),y=r(88192),N=r(73371);w.z.array(p.g6);let PrinterRailSettings=e=>{var t,r,w,C,S,R,D,z,M,L,_;let E=(0,v.YC)(),T=E.find(t=>t.getExtruderAxis()===e.printerRail.axis),F=E.every(e=>e.hasToolboard()),O=(null==T?void 0:T.getExtruderAxis())===e.printerRailDefault.axis&&(null==T?void 0:T.hasToolboard()),P=O?T.getToolboard():e.selectedBoard,[B,U]=(0,l.useState)(!!e.performanceMode),V=(0,x.Zl)((0,g.ew)(e.printerRail.axis)),H=(0,x.sJ)(g.q7),[A,I]=(0,l.useState)(e.printerRail.motorSlot&&(null===(r=e.selectedBoard)||void 0===r?void 0:null===(t=r.motorSlots)||void 0===t?void 0:t[e.printerRail.motorSlot])?e.printerRail.motorSlot:void 0),Z=(null==P?void 0:P.integratedDrivers)?null!==(R=P.integratedDrivers[null!=A?A:e.printerRail.axis.startsWith("extruder")?p.po.extruder:e.printerRail.axis])&&void 0!==R?R:P.integratedDrivers[e.printerRail.axis.startsWith("extruder")?p.po.extruder:e.printerRail.axis]:null,[W,K]=(0,l.useState)(null!=Z&&null!==(D=(0,h.Df)(Z))&&void 0!==D?D:e.printerRail.driver),[X,Y]=(0,l.useState)(e.printerRail.stepper),[$,Q]=(0,l.useState)(B&&null!==(z=null===(w=e.printerRailDefault.performanceMode)||void 0===w?void 0:w.homingSpeed)&&void 0!==z?z:e.printerRailDefault.homingSpeed),q=null==e.errors?0:Object.keys(e.errors).reduce((t,r)=>{var n;let a=null===(n=e.errors)||void 0===n?void 0:n[r];if(null==a)return t;let l=Array.isArray(a)?a.length:a._errors.length;return t+l},0),J=(0,l.useCallback)(t=>null!=t&&H.some(r=>{let n=E.find(e=>e.getExtruderAxis()===r.axis);return!(r.axis===e.printerRail.axis||(null==n?void 0:n.hasToolboard()))&&r.motorSlot===t}),[H,e.printerRail.axis,E]),G=j.SX.mcu.reversePinLookup.useQuery({axis:e.printerRail.axis,canUseExtruderlessConfigs:F,boardPath:null!==(M=null==P?void 0:P.path)&&void 0!==M?M:""},{enabled:!!P});(0,l.useEffect)(()=>{var e;G.data&&null==A&&(null==P?void 0:null===(e=P.motorSlots)||void 0===e?void 0:e[G.data])!=null&&(0,l.startTransition)(()=>{var e;if(I(G.data?G.data:void 0),G.data&&(null==P?void 0:null===(e=P.integratedDrivers)||void 0===e?void 0:e[G.data])!=null){let e=(0,h.Df)(P.integratedDrivers[G.data]);e&&K(e)}})},[P,G.data,A,e.printerRailDefault.axis]);let ee=(0,p.Wx)(P,W).map(e=>({...e,badge:null!=(0,s.a)(X,W,e.id,void 0,B)?{children:"Tuned Preset",color:"sky"}:void 0})),[et,er]=(0,l.useState)(null!==(_=null!==(L=ee.find(t=>t.id===e.printerRail.voltage))&&void 0!==L?L:ee.find(t=>{var r;return t.id===(B&&(null===(r=e.printerRailDefault.performanceMode)||void 0===r?void 0:r.voltage)?e.printerRailDefault.performanceMode.voltage:e.printerRailDefault.voltage)}))&&void 0!==_?_:ee[0]),[en,ea]=(0,l.useState)(e.printerRail.current),el=(0,l.useMemo)(()=>(0,s.a)(e.printerRailDefault.stepper,e.printerRailDefault.driver,e.printerRailDefault.voltage,e.printerRailDefault.current),[e.printerRailDefault]),ei=(0,l.useMemo)(()=>(0,s.a)(X,W,et.id,void 0,B),[X,W,et,B]),es=(0,l.useMemo)(()=>(0,s.a)(X,W,et.id,en,B),[X,W,et,B,en]),eo=i.N.filter(e=>"UART"===e.protocol||(null==P?void 0:P.stepperSPI)!=null).map(e=>({...e,badge:null!=(0,s.a)(X,e,et.id,void 0,B)?{children:"Tuned Preset",color:"sky"}:void 0})),ed=s.B.map(e=>({...e,badge:null!=(0,s.a)(e,W,et.id,void 0,B)?{children:"Tuned Preset",color:"sky"}:void 0}));(0,l.useEffect)(()=>{if((0,p.R_)(e.printerRail,e.printerRailDefault,!e.performanceMode)){var t,r,n;e.performanceMode&&e.printerRailDefault.performanceMode?(Q(null!==(t=e.printerRailDefault.performanceMode.homingSpeed)&&void 0!==t?t:e.printerRail.homingSpeed),null!=e.printerRailDefault.performanceMode.voltage&&er(null!==(r=ee.find(t=>{var r,n;return t.id===(null!==(n=null===(r=e.printerRailDefault.performanceMode)||void 0===r?void 0:r.voltage)&&void 0!==n?n:e.printerRailDefault.voltage)}))&&void 0!==r?r:ee[0]),null!=e.printerRailDefault.performanceMode.current&&ea(e.printerRailDefault.performanceMode.current)):(Q(e.printerRailDefault.homingSpeed),er(null!==(n=ee.find(t=>t.id===e.printerRailDefault.voltage))&&void 0!==n?n:ee[0]),ea(e.printerRailDefault.current))}U(!!e.performanceMode)},[e.performanceMode]),(0,l.useEffect)(()=>{let e=ee.find(e=>e.id===et.id);if(!e){var t;er(ei&&null!==(t=ee.find(e=>e.id===ei.voltage))&&void 0!==t?t:ee[0]),ei&&ea(ei.run_current)}},[ee,et,ei]),(0,l.useEffect)(()=>{let t={axis:e.printerRail.axis,axisDescription:e.printerRail.axisDescription,rotationDistance:e.printerRail.rotationDistance,homingSpeed:$,motorSlot:A,driver:W,voltage:et.id,stepper:X,current:en},r=(0,h.Yz)(t),n=(0,h.Yz)(e.printerRail),a=Object.keys(r).some(e=>r[e]!==n[e]);a&&(0,l.startTransition)(()=>{V(r)})},[en,W,e.printerRail,$,V,X,et.id,A]);let ec=ei&&ei.run_current===en,eu="extruder"===e.printerRail.axis?"Extruder T0":e.printerRail.axis===p.po.extruder1?"Extruder T1":"Stepper "+e.printerRail.axis.toLocaleUpperCase(),ef=(null==P?void 0:P.motorSlots)!=null&&Object.keys(P.motorSlots).length>0?Object.keys(P.motorSlots).map(t=>{var r,n,a,l;if((null===(r=P.motorSlots)||void 0===r?void 0:r[t].title)==null)return null;let i=(null===(n=P.motorSlots)||void 0===n?void 0:n[t].diag_pin)!=null,s=(null===(a=P.motorSlots)||void 0===a?void 0:a[t].endstop_pin)!=null,o=J(t),d=(e.printerRailDefault.axis.startsWith("x")||e.printerRailDefault.axis.startsWith("y"))&&!i;return{id:t,title:null===(l=P.motorSlots)||void 0===l?void 0:l[t].title,disabled:d,badge:[i?void 0:{children:"No diag pin",color:d?"red":"gray"},s?void 0:{children:"No endstop pin",color:"gray"},!0===o?{children:"In use",color:"orange"}:void 0].filter(Boolean)}}).filter(Boolean):null,ex=(0,l.useMemo)(()=>{var t,r;if(null==A||(null==P?void 0:null===(t=P.motorSlots)||void 0===t?void 0:t[A].title)==null)return;let n=(null===(r=P.motorSlots)||void 0===r?void 0:r[A].diag_pin)!=null,a=(e.printerRailDefault.axis.startsWith("x")||e.printerRailDefault.axis.startsWith("y"))&&!n;return!n&&a?{children:"No diag pin",color:"red"}:void 0},[P,A,e.printerRailDefault.axis]);return(0,n.jsx)(k.M,{children:e.isVisible&&(0,n.jsxs)(y.Card,{exit:{opacity:0,scale:.9,y:-40},initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},className:(0,b.m6)("break-inside-avoid-column",q>0&&(0,o.iA)({color:"red"}),q>0&&(0,o.xU)({color:"red"}),q>0&&"ring-1"),children:[(0,n.jsxs)(N.Ol,{className:"",children:[(0,n.jsx)(N.ll,{className:(0,b.m6)(q>0&&"text-red-900/80 dark:text-red-100"),children:eu}),(0,n.jsx)(N.SZ,{className:(0,b.m6)(q>0&&"text-red-800/80 dark:text-red-100/60"),children:e.printerRail.axisDescription})]}),(0,n.jsxs)(N.aY,{className:"grid grid-cols-1 gap-4 @2xs:grid-cols-2",children:[ef&&(0,n.jsx)("div",{className:"col-span-full",children:(0,n.jsx)(a.Lt,{label:"Motor Slot",options:ef,error:null===(S=e.errors)||void 0===S?void 0:null===(C=S.motorSlot)||void 0===C?void 0:C._errors.join("\n"),onSelect:e=>{var t,r;I(e.id),(null==P?void 0:null===(t=P.integratedDrivers)||void 0===t?void 0:t[e.id])!=null&&K(null!==(r=(0,h.Df)(P.integratedDrivers[e.id]))&&void 0!==r?r:W)},value:A?ef.find(e=>e.id===A):void 0,badge:ex})}),(0,n.jsx)("div",{className:"col-span-full",children:(0,n.jsx)(a.Lt,{label:"Driver",options:eo,onSelect:K,value:W,disabled:null!=Z,badge:[null!=Z?{children:"Integrated",color:"sky"}:void 0,O?{children:"Toolboard",color:"yellow"}:void 0].filter(Boolean)})}),(0,n.jsx)("div",{className:"col-span-full",children:(0,n.jsx)(a.Lt,{label:"Stepper",options:ed,onSelect:Y,value:X})}),(0,n.jsx)("div",{className:"col-span-1",children:(0,n.jsx)(a.Lt,{label:"Voltage",options:ee,onSelect:er,value:et})}),(0,n.jsx)("div",{className:"col-span-1",children:(0,n.jsx)(d.o,{type:"number",label:"Current",value:en,onChange:ea,inputMode:"decimal",step:"any",min:0,max:W.maxCurrent})}),X.maxPeakCurrent/1.41<en&&(0,n.jsxs)(c.j,{Icon:m,color:"yellow",title:"Stepper overcurrent!",className:"col-span-full",children:["Your stepper motor is rated for ",Math.floor(100*X.maxPeakCurrent/1.41)/100,"A RMS, but you are using ",en,"A."]}),null!=es&&(0,n.jsx)(c.j,{Icon:u,color:"brand",title:"Driver tuning applied!",className:"col-span-full",children:"RatOS preset applied automatically."}),(null==es?void 0:es.run_current)!==(null==el?void 0:el.run_current)&&ei&&!ec&&(0,n.jsxs)(c.j,{Icon:f,color:"sky",title:"Recommended tuning preset available at different current",className:"col-span-full",children:["RatOS has a recommended preset for your current settings at ",ei.run_current,"A. You can"," ",(0,n.jsxs)("span",{className:"cursor-pointer font-bold underline hover:no-underline",onClick:()=>ea(ei.run_current),children:["change the current to ",ei.run_current,"A"]})," ","to apply the preset automatically."]})]})]},e.printerRail.axis)})}},93095:function(e,t,r){r.d(t,{d:function(){return n.d},z:function(){return n.z}});var n=r(94809);(0,r(64929).h)(n.z,"Button")},64827:function(e,t,r){r.d(t,{$F:function(){return d},AW:function(){return f},Ju:function(){return h},VD:function(){return g},Xi:function(){return x},bO:function(){return m},h_:function(){return o}});var n=r(72612),a=r(39164),l=r(14176),i=r(90077),s=r(64929);let o=l.fC,d=l.xz;l.ZA,l.Uv,l.Tr,l.Ee;let c=a.forwardRef((e,t)=>{let{className:r,inset:a,children:o,...d}=e;return(0,n.jsxs)(l.fF,{ref:t,className:(0,s.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",a&&"pl-8",r),...d,children:[o,(0,n.jsx)(i.XCv,{className:"ml-auto h-4 w-4"})]})});(0,s.h)(c,l.fF.displayName);let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(l.tu,{ref:t,className:(0,s.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...a})});(0,s.h)(u,l.tu.displayName);let f=a.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,...i}=e;return(0,n.jsx)(l.Uv,{children:(0,n.jsx)(l.VY,{ref:t,sideOffset:a,className:(0,s.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})})});(0,s.h)(f,l.VY.displayName);let x=a.forwardRef((e,t)=>{let{className:r,inset:a,...i}=e;return(0,n.jsx)(l.ck,{ref:t,className:(0,s.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a&&"pl-8",r),...i})});(0,s.h)(x,l.ck.displayName);let m=a.forwardRef((e,t)=>{let{className:r,children:a,checked:o,...d}=e;return(0,n.jsxs)(l.oC,{ref:t,className:(0,s.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r),checked:o,...d,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(l.wU,{children:(0,n.jsx)(i.nQG,{className:"h-4 w-4"})})}),a]})});(0,s.h)(m,l.oC.displayName);let p=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,n.jsxs)(l.Rk,{ref:t,className:(0,s.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r),...o,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(l.wU,{children:(0,n.jsx)(i.jXb,{className:"h-4 w-4 fill-current"})})}),a]})});(0,s.h)(p,l.Rk.displayName);let h=a.forwardRef((e,t)=>{let{className:r,inset:a,...i}=e;return(0,n.jsx)(l.__,{ref:t,className:(0,s.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",r),...i})});(0,s.h)(h,l.__.displayName);let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(l.Z0,{ref:t,className:(0,s.cn)("-mx-1 my-1 h-px bg-muted",r),...a})});(0,s.h)(g,l.Z0.displayName)},66477:function(e,t,r){r.d(t,{I:function(){return useDelayedChangeEffect},S:function(){return useChangeEffect}});var n=r(39164);let useChangeEffect=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],[a,l]=(0,n.useState)(0),i=(0,n.useRef)([...e]);(0,n.useEffect)(()=>{let t=!1;i.current.forEach((r,n)=>{r!==e[n]&&(t=!0)}),t&&l(e=>r?e+1:1),i.current=[...e]},[...e]);let s=(0,n.useCallback)(()=>{l(0)},[]);return(0,n.useEffect)(()=>{if(null!=t&&a>0){let e=setTimeout(()=>{l(0)},t);return()=>{clearTimeout(e)}}},[t,a]),[a>0,s]},useDelayedChangeEffect=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],[l,i]=(0,n.useState)(0),s=(0,n.useRef)([...e]),o=(0,n.useRef)(null);(0,n.useEffect)(()=>{let r=!1;if(s.current.forEach((t,n)=>{t!==e[n]&&(r=!0)}),r){let trigger=()=>i(e=>a?e+1:1);o.current=window.setTimeout(()=>{trigger(),o.current=null},t)}s.current=[...e]},[...e]),(0,n.useEffect)(()=>()=>{o.current&&clearTimeout(o.current)},[]);let[d,c]=useChangeEffect([l],r,a);return[d,c]}},2750:function(e,t,r){r.d(t,{PF:function(){return useMainsailQuery}}),r(39164);var n=r(96886);let useMainsailQuery=(e,t)=>(0,n.A4)("mainsail",e,t)}}]);
//# sourceMappingURL=2948-7a6d0766f2ebf18d.js.map