"use strict";exports.id=6081,exports.ids=[6081],exports.modules={55309:(e,r,a)=>{a.d(r,{Z:()=>s});var l=a(82697);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l.Z)("CircleFadingPlus",[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75",key:"175t95"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3",key:"1vce0s"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4",key:"o3fkw4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857",key:"1szpfk"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38",key:"9yhvd4"}]])},36707:(e,r,a)=>{a.d(r,{Z:()=>s});var l=a(82697);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},41726:(e,r,a)=>{a.d(r,{OT:()=>PanelResizeHandle,eh:()=>L,s_:()=>A});var l=a(51495);let{createElement:s,createContext:u,createRef:d,forwardRef:c,useCallback:f,useContext:p,useEffect:g,useImperativeHandle:m,useLayoutEffect:y,useMemo:h,useRef:v,useState:b}=l,x=l["useId".toString()],_=u(null);_.displayName="PanelGroupContext";let V="function"==typeof x?x:()=>null,E=0;function useUniqueId(e=null){let r=V(),a=v(e||r||null);return null===a.current&&(a.current=""+E++),null!=e?e:a.current}function PanelWithForwardedRef({children:e,className:r="",collapsedSize:a,collapsible:l,defaultSize:u,forwardedRef:d,id:c,maxSize:f,minSize:g,onCollapse:y,onExpand:h,onResize:b,order:x,style:V,tagName:E="div",...A}){let F=p(_);if(null===F)throw Error("Panel components must be rendered within a PanelGroup container");let{collapsePanel:w,expandPanel:S,getPanelSize:z,getPanelStyle:D,groupId:k,isPanelCollapsed:C,reevaluatePanelConstraints:P,registerPanel:O,resizePanel:j,unregisterPanel:I}=F,M=useUniqueId(c),N=v({callbacks:{onCollapse:y,onExpand:h,onResize:b},constraints:{collapsedSize:a,collapsible:l,defaultSize:u,maxSize:f,minSize:g},id:M,idIsFromProps:void 0!==c,order:x});v({didLogMissingDefaultSizeWarning:!1}),m(d,()=>({collapse:()=>{w(N.current)},expand:()=>{S(N.current)},getId:()=>M,getSize:()=>z(N.current),isCollapsed:()=>C(N.current),isExpanded:()=>!C(N.current),resize:e=>{j(N.current,e)}}),[w,S,z,C,M,j]);let R=D(N.current,u);return s(E,{...A,children:e,className:r,id:c,style:{...R,...V},"data-panel":"","data-panel-collapsible":l||void 0,"data-panel-group-id":k,"data-panel-id":M,"data-panel-size":parseFloat(""+R.flexGrow).toFixed(1)})}let A=c((e,r)=>s(PanelWithForwardedRef,{...e,forwardedRef:r}));PanelWithForwardedRef.displayName="Panel",A.displayName="forwardRef(Panel)";let F=null,w=null;function setGlobalCursorStyle(e,r){let a=function(e,r){if(r){let e=(r&z)!=0,a=(r&D)!=0,l=(r&k)!=0,s=(r&C)!=0;if(e)return l?"se-resize":s?"ne-resize":"e-resize";if(a)return l?"sw-resize":s?"nw-resize":"w-resize";if(l)return"s-resize";if(s)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,r);F!==a&&(F=a,null===w&&(w=document.createElement("style"),document.head.appendChild(w)),w.innerHTML=`*{cursor: ${a}!important;}`)}function isKeyDown(e){return"keydown"===e.type}function isMouseEvent(e){return e.type.startsWith("mouse")}function isTouchEvent(e){return e.type.startsWith("touch")}function getResizeEventCoordinates(e){if(isMouseEvent(e))return{x:e.clientX,y:e.clientY};if(isTouchEvent(e)){let r=e.touches[0];if(r&&r.clientX&&r.clientY)return{x:r.clientX,y:r.clientY}}return{x:1/0,y:1/0}}let S=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function find_stacking_context(e){let r=e.length;for(;r--;){let a=e[r];if(assert(a,"Missing node"),function(e){let r=getComputedStyle(e);return!!("fixed"===r.position||"auto"!==r.zIndex&&("static"!==r.position||function(e){var r;let a=getComputedStyle(null!==(r=get_parent(e))&&void 0!==r?r:e).display;return"flex"===a||"inline-flex"===a}(e))||1>+r.opacity||"transform"in r&&"none"!==r.transform||"webkitTransform"in r&&"none"!==r.webkitTransform||"mixBlendMode"in r&&"normal"!==r.mixBlendMode||"filter"in r&&"none"!==r.filter||"webkitFilter"in r&&"none"!==r.webkitFilter||"isolation"in r&&"isolate"===r.isolation||S.test(r.willChange))||"touch"===r.webkitOverflowScrolling}(a))return a}return null}function get_z_index(e){return e&&Number(getComputedStyle(e).zIndex)||0}function get_ancestors(e){let r=[];for(;e;)r.push(e),e=get_parent(e);return r}function get_parent(e){let{parentNode:r}=e;return r&&r instanceof ShadowRoot?r.host:r}let z=1,D=2,k=4,C=8,P="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}(),O=[],j=!1,I=new Map,M=new Map,N=new Set;function handlePointerDown(e){let{target:r}=e,{x:a,y:l}=getResizeEventCoordinates(e);j=!0,recalculateIntersectingHandles({target:r,x:a,y:l}),updateListeners(),O.length>0&&(updateResizeHandlerStates("down",e),e.preventDefault())}function handlePointerMove(e){let{x:r,y:a}=getResizeEventCoordinates(e);if(!j){let{target:l}=e;recalculateIntersectingHandles({target:l,x:r,y:a})}updateResizeHandlerStates("move",e),updateCursor(),O.length>0&&e.preventDefault()}function handlePointerUp(e){let{target:r}=e,{x:a,y:l}=getResizeEventCoordinates(e);M.clear(),j=!1,O.length>0&&e.preventDefault(),updateResizeHandlerStates("up",e),recalculateIntersectingHandles({target:r,x:a,y:l}),updateCursor(),updateListeners()}function recalculateIntersectingHandles({target:e,x:r,y:a}){O.splice(0);let l=null;e instanceof HTMLElement&&(l=e),N.forEach(e=>{let{element:s,hitAreaMargins:u}=e,d=s.getBoundingClientRect(),{bottom:c,left:f,right:p,top:g}=d,m=P?u.coarse:u.fine;if(r>=f-m&&r<=p+m&&a>=g-m&&a<=c+m){if(null!==l&&s!==l&&!s.contains(l)&&!l.contains(s)&&function(e,r){let a;if(e===r)throw Error("Cannot compare node with itself");let l={a:get_ancestors(e),b:get_ancestors(r)};for(;l.a.at(-1)===l.b.at(-1);)e=l.a.pop(),r=l.b.pop(),a=e;assert(a,"Stacking order can only be calculated for elements with a common ancestor");let s={a:get_z_index(find_stacking_context(l.a)),b:get_z_index(find_stacking_context(l.b))};if(s.a===s.b){let e=a.childNodes,r={a:l.a.at(-1),b:l.b.at(-1)},s=e.length;for(;s--;){let a=e[s];if(a===r.a)return 1;if(a===r.b)return -1}}return Math.sign(s.a-s.b)}(l,s)>0){let e=l,r=!1;for(;e&&!e.contains(s);){var y;if((y=e.getBoundingClientRect()).x<d.x+d.width&&y.x+y.width>d.x&&y.y<d.y+d.height&&y.y+y.height>d.y){r=!0;break}e=e.parentElement}if(r)return}O.push(e)}})}function updateCursor(){let e=!1,r=!1;O.forEach(a=>{let{direction:l}=a;"horizontal"===l?e=!0:r=!0});let a=0;M.forEach(e=>{a|=e}),e&&r?setGlobalCursorStyle("intersection",a):e?setGlobalCursorStyle("horizontal",a):r?setGlobalCursorStyle("vertical",a):null!==w&&(document.head.removeChild(w),F=null,w=null)}function updateListeners(){I.forEach((e,r)=>{let{body:a}=r;a.removeEventListener("contextmenu",handlePointerUp),a.removeEventListener("mousedown",handlePointerDown),a.removeEventListener("mouseleave",handlePointerMove),a.removeEventListener("mousemove",handlePointerMove),a.removeEventListener("touchmove",handlePointerMove),a.removeEventListener("touchstart",handlePointerDown)}),window.removeEventListener("mouseup",handlePointerUp),window.removeEventListener("touchcancel",handlePointerUp),window.removeEventListener("touchend",handlePointerUp),N.size>0&&(j?(O.length>0&&I.forEach((e,r)=>{let{body:a}=r;e>0&&(a.addEventListener("contextmenu",handlePointerUp),a.addEventListener("mouseleave",handlePointerMove),a.addEventListener("mousemove",handlePointerMove),a.addEventListener("touchmove",handlePointerMove,{passive:!1}))}),window.addEventListener("mouseup",handlePointerUp),window.addEventListener("touchcancel",handlePointerUp),window.addEventListener("touchend",handlePointerUp)):I.forEach((e,r)=>{let{body:a}=r;e>0&&(a.addEventListener("mousedown",handlePointerDown),a.addEventListener("mousemove",handlePointerMove),a.addEventListener("touchmove",handlePointerMove,{passive:!1}),a.addEventListener("touchstart",handlePointerDown))}))}function updateResizeHandlerStates(e,r){N.forEach(a=>{let{setResizeHandlerState:l}=a,s=O.includes(a);l(e,s,r)})}function assert(e,r){if(!e)throw console.error(r),Error(r)}function fuzzyCompareNumbers(e,r,a=10){return e.toFixed(a)===r.toFixed(a)?0:e>r?1:-1}function fuzzyNumbersEqual$1(e,r,a=10){return 0===fuzzyCompareNumbers(e,r,a)}function fuzzyNumbersEqual(e,r,a){return 0===fuzzyCompareNumbers(e,r,a)}function resizePanel({panelConstraints:e,panelIndex:r,size:a}){let l=e[r];assert(null!=l,`Panel constraints not found for index ${r}`);let{collapsedSize:s=0,collapsible:u,maxSize:d=100,minSize:c=0}=l;if(0>fuzzyCompareNumbers(a,c)){if(u){let e=(s+c)/2;a=0>fuzzyCompareNumbers(a,e)?s:c}else a=c}return a=parseFloat((a=Math.min(d,a)).toFixed(10))}function adjustLayoutByDelta({delta:e,initialLayout:r,panelConstraints:a,pivotIndices:l,prevLayout:s,trigger:u}){if(fuzzyNumbersEqual(e,0))return r;let d=[...r],[c,f]=l;assert(null!=c,"Invalid first pivot index"),assert(null!=f,"Invalid second pivot index");let p=0;if("keyboard"===u){{let l=e<0?f:c,s=a[l];assert(s,`Panel constraints not found for index ${l}`);let{collapsedSize:u=0,collapsible:d,minSize:p=0}=s;if(d){let a=r[l];if(assert(null!=a,`Previous layout not found for panel index ${l}`),fuzzyNumbersEqual(a,u)){let r=p-a;fuzzyCompareNumbers(r,Math.abs(e))>0&&(e=e<0?0-r:r)}}}{let l=e<0?c:f,s=a[l];assert(s,`No panel constraints found for index ${l}`);let{collapsedSize:u=0,collapsible:d,minSize:p=0}=s;if(d){let a=r[l];if(assert(null!=a,`Previous layout not found for panel index ${l}`),fuzzyNumbersEqual(a,p)){let r=a-u;fuzzyCompareNumbers(r,Math.abs(e))>0&&(e=e<0?0-r:r)}}}}{let l=e<0?1:-1,s=e<0?f:c,u=0;for(;;){let e=r[s];assert(null!=e,`Previous layout not found for panel index ${s}`);let d=resizePanel({panelConstraints:a,panelIndex:s,size:100}),c=d-e;if(u+=c,(s+=l)<0||s>=a.length)break}let d=Math.min(Math.abs(e),Math.abs(u));e=e<0?0-d:d}{let l=e<0?c:f,s=l;for(;s>=0&&s<a.length;){let l=Math.abs(e)-Math.abs(p),u=r[s];assert(null!=u,`Previous layout not found for panel index ${s}`);let c=u-l,f=resizePanel({panelConstraints:a,panelIndex:s,size:c});if(!fuzzyNumbersEqual(u,f)&&(p+=u-f,d[s]=f,p.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?s--:s++}}if(function(e,r,a){if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++){let l=e[a],s=r[a];if(!fuzzyNumbersEqual(l,s,void 0))return!1}return!0}(s,d))return s;{let l=e<0?f:c,s=r[l];assert(null!=s,`Previous layout not found for panel index ${l}`);let u=s+p,g=resizePanel({panelConstraints:a,panelIndex:l,size:u});if(d[l]=g,!fuzzyNumbersEqual(g,u)){let r=u-g,l=e<0?f:c,s=l;for(;s>=0&&s<a.length;){let l=d[s];assert(null!=l,`Previous layout not found for panel index ${s}`);let u=l+r,c=resizePanel({panelConstraints:a,panelIndex:s,size:u});if(fuzzyNumbersEqual(l,c)||(r-=c-l,d[s]=c),fuzzyNumbersEqual(r,0))break;e>0?s--:s++}}}let g=d.reduce((e,r)=>r+e,0);return fuzzyNumbersEqual(g,100)?d:s}function getResizeHandleElementsForGroup(e,r=document){return Array.from(r.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function getResizeHandleElementIndex(e,r,a=document){let l=getResizeHandleElementsForGroup(e,a),s=l.findIndex(e=>e.getAttribute("data-panel-resize-handle-id")===r);return null!=s?s:null}function determinePivotIndices(e,r,a){let l=getResizeHandleElementIndex(e,r,a);return null!=l?[l,l+1]:[-1,-1]}function getPanelGroupElement(e,r=document){var a;if(r instanceof HTMLElement&&(null==r?void 0:null===(a=r.dataset)||void 0===a?void 0:a.panelGroupId)==e)return r;let l=r.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return l||null}function getResizeHandleElement(e,r=document){let a=r.querySelector(`[data-panel-resize-handle-id="${e}"]`);return a||null}function getResizeEventCursorPosition(e,r){let{x:a,y:l}=getResizeEventCoordinates(r);return"horizontal"===e?a:l}function callPanelCallbacks(e,r,a){r.forEach((r,l)=>{let s=e[l];assert(s,`Panel data not found for index ${l}`);let{callbacks:u,constraints:d,id:c}=s,{collapsedSize:f=0,collapsible:p}=d,g=a[c];if(null==g||r!==g){a[c]=r;let{onCollapse:e,onExpand:l,onResize:s}=u;s&&s(r,g),p&&(e||l)&&(l&&(null==g||fuzzyNumbersEqual$1(g,f))&&!fuzzyNumbersEqual$1(r,f)&&l(),e&&(null==g||!fuzzyNumbersEqual$1(g,f))&&fuzzyNumbersEqual$1(r,f)&&e())}})}function compareLayouts(e,r){if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!=r[a])return!1;return!0}function initializeDefaultStorage(e){try{if("undefined"!=typeof localStorage)e.getItem=e=>localStorage.getItem(e),e.setItem=(e,r)=>{localStorage.setItem(e,r)};else throw Error("localStorage not supported in this environment")}catch(r){console.error(r),e.getItem=()=>null,e.setItem=()=>{}}}function getPanelGroupKey(e){return`react-resizable-panels:${e}`}function savePanelGroupState(e,r,a,l,s){var u;let d=getPanelGroupKey(e),c=r.map(e=>{let{constraints:r,id:a,idIsFromProps:l,order:s}=e;return l?a:s?`${s}:${JSON.stringify(r)}`:JSON.stringify(r)}).sort((e,r)=>e.localeCompare(r)).join(","),f=null!==(u=function(e,r){try{let a=getPanelGroupKey(e),l=r.getItem(a);if(l){let e=JSON.parse(l);if("object"==typeof e&&null!=e)return e}}catch(e){}return null}(e,s))&&void 0!==u?u:{};f[c]={expandToSizes:Object.fromEntries(a.entries()),layout:l};try{s.setItem(d,JSON.stringify(f))}catch(e){console.error(e)}}let R={getItem:e=>(initializeDefaultStorage(R),R.getItem(e)),setItem:(e,r)=>{initializeDefaultStorage(R),R.setItem(e,r)}},U={};function PanelGroupWithForwardedRef({autoSaveId:e=null,children:r,className:a="",direction:l,forwardedRef:u,id:d=null,onLayout:c=null,keyboardResizeBy:p=null,storage:y=R,style:x,tagName:V="div",...E}){let A=useUniqueId(d),F=v(null),[w,S]=b(null),[P,O]=b([]),j=v({}),I=v(new Map),N=v(0),L=v({autoSaveId:e,direction:l,dragState:w,id:A,keyboardResizeBy:p,onLayout:c,storage:y}),T=v({layout:P,panelDataArray:[],panelDataArrayChanged:!1});v({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),m(u,()=>({getId:()=>L.current.id,getLayout:()=>{let{layout:e}=T.current;return e},setLayout:e=>{let{onLayout:r}=L.current,{layout:a,panelDataArray:l}=T.current,s=function({layout:e,panelConstraints:r}){let a=[...e],l=a.reduce((e,r)=>e+r,0);if(a.length!==r.length)throw Error(`Invalid ${r.length} panel layout: ${a.map(e=>`${e}%`).join(", ")}`);if(!fuzzyNumbersEqual(l,100))for(let e=0;e<r.length;e++){let r=a[e];assert(null!=r,`No layout data found for index ${e}`);let s=100/l*r;a[e]=s}let s=0;for(let e=0;e<r.length;e++){let l=a[e];assert(null!=l,`No layout data found for index ${e}`);let u=resizePanel({panelConstraints:r,panelIndex:e,size:l});l!=u&&(s+=l-u,a[e]=u)}if(!fuzzyNumbersEqual(s,0))for(let e=0;e<r.length;e++){let l=a[e];assert(null!=l,`No layout data found for index ${e}`);let u=l+s,d=resizePanel({panelConstraints:r,panelIndex:e,size:u});if(l!==d&&(s-=d-l,a[e]=d,fuzzyNumbersEqual(s,0)))break}return a}({layout:e,panelConstraints:l.map(e=>e.constraints)});!function(e,r){if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==r[a])return!1;return!0}(a,s)&&(O(s),T.current.layout=s,r&&r(s),callPanelCallbacks(l,s,j.current))}}),[]),function({committedValuesRef:e,eagerValuesRef:r,groupId:a,layout:l,panelDataArray:s,panelGroupElement:u,setLayout:d}){v({didWarnAboutMissingResizeHandle:!1}),g(()=>{if(!u)return;let e=r.current;assert(e,"Eager values not found");let{panelDataArray:s}=e,c=getPanelGroupElement(a,u);assert(null!=c,`No group found for id "${a}"`);let f=getResizeHandleElementsForGroup(a,u);assert(f,`No resize handles found for group id "${a}"`);let p=f.map(e=>{let r=e.getAttribute("data-panel-resize-handle-id");assert(r,"Resize handle element has no handle id attribute");let[c,f]=function(e,r,a,l=document){var s,u,d,c;let f=getResizeHandleElement(r,l),p=getResizeHandleElementsForGroup(e,l),g=f?p.indexOf(f):-1,m=null!==(s=null===(u=a[g])||void 0===u?void 0:u.id)&&void 0!==s?s:null,y=null!==(d=null===(c=a[g+1])||void 0===c?void 0:c.id)&&void 0!==d?d:null;return[m,y]}(a,r,s,u);if(null==c||null==f)return()=>{};let onKeyDown=e=>{if(!e.defaultPrevented&&"Enter"===e.key){e.preventDefault();let f=s.findIndex(e=>e.id===c);if(f>=0){let e=s[f];assert(e,`No panel data found for index ${f}`);let c=l[f],{collapsedSize:p=0,collapsible:g,minSize:m=0}=e.constraints;if(null!=c&&g){let e=adjustLayoutByDelta({delta:fuzzyNumbersEqual(c,p)?m-p:p-c,initialLayout:l,panelConstraints:s.map(e=>e.constraints),pivotIndices:determinePivotIndices(a,r,u),prevLayout:l,trigger:"keyboard"});l!==e&&d(e)}}}};return e.addEventListener("keydown",onKeyDown),()=>{e.removeEventListener("keydown",onKeyDown)}});return()=>{p.forEach(e=>e())}},[u,e,r,a,l,s,d])}({committedValuesRef:L,eagerValuesRef:T,groupId:A,layout:P,panelDataArray:T.current.panelDataArray,setLayout:O,panelGroupElement:F.current}),g(()=>{let{panelDataArray:r}=T.current;if(e){if(0===P.length||P.length!==r.length)return;let a=U[e];null==a&&(a=function(e,r=10){let a=null;return(...l)=>{null!==a&&clearTimeout(a),a=setTimeout(()=>{e(...l)},r)}}(savePanelGroupState,100),U[e]=a);let l=[...r],s=new Map(I.current);a(e,l,s,P,y)}},[e,P,y]),g(()=>{});let B=f(e=>{let{onLayout:r}=L.current,{layout:a,panelDataArray:l}=T.current;if(e.constraints.collapsible){let s=l.map(e=>e.constraints),{collapsedSize:u=0,panelSize:d,pivotIndices:c}=panelDataHelper(l,e,a);if(assert(null!=d,`Panel size not found for panel "${e.id}"`),!fuzzyNumbersEqual$1(d,u)){I.current.set(e.id,d);let f=findPanelDataIndex(l,e)===l.length-1,p=f?d-u:u-d,g=adjustLayoutByDelta({delta:p,initialLayout:a,panelConstraints:s,pivotIndices:c,prevLayout:a,trigger:"imperative-api"});compareLayouts(a,g)||(O(g),T.current.layout=g,r&&r(g),callPanelCallbacks(l,g,j.current))}}},[]),$=f(e=>{let{onLayout:r}=L.current,{layout:a,panelDataArray:l}=T.current;if(e.constraints.collapsible){let s=l.map(e=>e.constraints),{collapsedSize:u=0,panelSize:d=0,minSize:c=0,pivotIndices:f}=panelDataHelper(l,e,a);if(fuzzyNumbersEqual$1(d,u)){let u=I.current.get(e.id),p=null!=u&&u>=c?u:c,g=findPanelDataIndex(l,e)===l.length-1,m=g?d-p:p-d,y=adjustLayoutByDelta({delta:m,initialLayout:a,panelConstraints:s,pivotIndices:f,prevLayout:a,trigger:"imperative-api"});compareLayouts(a,y)||(O(y),T.current.layout=y,r&&r(y),callPanelCallbacks(l,y,j.current))}}},[]),H=f(e=>{let{layout:r,panelDataArray:a}=T.current,{panelSize:l}=panelDataHelper(a,e,r);return assert(null!=l,`Panel size not found for panel "${e.id}"`),l},[]),q=f((e,r)=>{let{panelDataArray:a}=T.current,l=findPanelDataIndex(a,e);return function({defaultSize:e,dragState:r,layout:a,panelData:l,panelIndex:s,precision:u=3}){let d=a[s];return{flexBasis:0,flexGrow:null==d?void 0!=e?e.toFixed(u):"1":1===l.length?"1":d.toFixed(u),flexShrink:1,overflow:"hidden",pointerEvents:null!==r?"none":void 0}}({defaultSize:r,dragState:w,layout:P,panelData:a,panelIndex:l})},[w,P]),G=f(e=>{let{layout:r,panelDataArray:a}=T.current,{collapsedSize:l=0,collapsible:s,panelSize:u}=panelDataHelper(a,e,r);return assert(null!=u,`Panel size not found for panel "${e.id}"`),!0===s&&fuzzyNumbersEqual$1(u,l)},[]),W=f(e=>{let{layout:r,panelDataArray:a}=T.current,{collapsedSize:l=0,collapsible:s,panelSize:u}=panelDataHelper(a,e,r);return assert(null!=u,`Panel size not found for panel "${e.id}"`),!s||fuzzyCompareNumbers(u,l)>0},[]),K=f(e=>{let{panelDataArray:r}=T.current;r.push(e),r.sort((e,r)=>{let a=e.order,l=r.order;return null==a&&null==l?0:null==a?-1:null==l?1:a-l}),T.current.panelDataArrayChanged=!0},[]),Z=f(e=>function(r){r.preventDefault();let a=F.current;if(!a)return()=>null;let{direction:l,dragState:s,id:u,keyboardResizeBy:d,onLayout:c}=L.current,{layout:f,panelDataArray:p}=T.current,{initialLayout:g}=null!=s?s:{},m=determinePivotIndices(u,e,a),y=function(e,r,a,l,s,u){if(isKeyDown(e)){let r="horizontal"===a,l=0;l=e.shiftKey?100:null!=s?s:10;let u=0;switch(e.key){case"ArrowDown":u=r?0:l;break;case"ArrowLeft":u=r?-l:0;break;case"ArrowRight":u=r?l:0;break;case"ArrowUp":u=r?0:-l;break;case"End":u=100;break;case"Home":u=-100}return u}return null==l?0:function(e,r,a,l,s){let u="horizontal"===a,d=getResizeHandleElement(r,s);assert(d,`No resize handle element found for id "${r}"`);let c=d.getAttribute("data-panel-group-id");assert(c,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=l,p=getResizeEventCursorPosition(a,e),g=getPanelGroupElement(c,s);assert(g,`No group element found for id "${c}"`);let m=g.getBoundingClientRect(),y=u?m.width:m.height;return(p-f)/y*100}(e,r,a,l,u)}(r,e,l,s,d,a);if(0===y)return;let h="horizontal"===l;"rtl"===document.dir&&h&&(y=-y);let v=p.map(e=>e.constraints),b=adjustLayoutByDelta({delta:y,initialLayout:null!=g?g:f,panelConstraints:v,pivotIndices:m,prevLayout:f,trigger:isKeyDown(r)?"keyboard":"mouse-or-touch"}),x=!compareLayouts(f,b);if((isMouseEvent(r)||isTouchEvent(r))&&N.current!=y){var _,V;(N.current=y,x)?M.set(e,0):h?(_=y<0?z:D,M.set(e,_)):(V=y<0?k:C,M.set(e,V))}x&&(O(b),T.current.layout=b,c&&c(b),callPanelCallbacks(p,b,j.current))},[]),X=f((e,r)=>{let{onLayout:a}=L.current,{layout:l,panelDataArray:s}=T.current,u=s.map(e=>e.constraints),{panelSize:d,pivotIndices:c}=panelDataHelper(s,e,l);assert(null!=d,`Panel size not found for panel "${e.id}"`);let f=findPanelDataIndex(s,e)===s.length-1,p=f?d-r:r-d,g=adjustLayoutByDelta({delta:p,initialLayout:l,panelConstraints:u,pivotIndices:c,prevLayout:l,trigger:"imperative-api"});compareLayouts(l,g)||(O(g),T.current.layout=g,a&&a(g),callPanelCallbacks(s,g,j.current))},[]),J=f((e,r)=>{let{layout:a,panelDataArray:l}=T.current,{collapsedSize:s=0,collapsible:u}=r,{collapsedSize:d=0,collapsible:c,maxSize:f=100,minSize:p=0}=e.constraints,{panelSize:g}=panelDataHelper(l,e,a);null!=g&&(u&&c&&fuzzyNumbersEqual$1(g,s)?fuzzyNumbersEqual$1(s,d)||X(e,d):g<p?X(e,p):g>f&&X(e,f))},[X]),Y=f((e,r)=>{let{direction:a}=L.current,{layout:l}=T.current;if(!F.current)return;let s=getResizeHandleElement(e,F.current);assert(s,`Drag handle element not found for id "${e}"`);let u=getResizeEventCursorPosition(a,r);S({dragHandleId:e,dragHandleRect:s.getBoundingClientRect(),initialCursorPosition:u,initialLayout:l})},[]),Q=f(()=>{S(null)},[]),ee=f(e=>{let{panelDataArray:r}=T.current,a=findPanelDataIndex(r,e);a>=0&&(r.splice(a,1),delete j.current[e.id],T.current.panelDataArrayChanged=!0)},[]),et=h(()=>({collapsePanel:B,direction:l,dragState:w,expandPanel:$,getPanelSize:H,getPanelStyle:q,groupId:A,isPanelCollapsed:G,isPanelExpanded:W,reevaluatePanelConstraints:J,registerPanel:K,registerResizeHandle:Z,resizePanel:X,startDragging:Y,stopDragging:Q,unregisterPanel:ee,panelGroupElement:F.current}),[B,w,l,$,H,q,A,G,W,J,K,Z,X,Y,Q,ee]);return s(_.Provider,{value:et},s(V,{...E,children:r,className:a,id:d,ref:F,style:{display:"flex",flexDirection:"horizontal"===l?"row":"column",height:"100%",overflow:"hidden",width:"100%",...x},"data-panel-group":"","data-panel-group-direction":l,"data-panel-group-id":A}))}let L=c((e,r)=>s(PanelGroupWithForwardedRef,{...e,forwardedRef:r}));function findPanelDataIndex(e,r){return e.findIndex(e=>e===r||e.id===r.id)}function panelDataHelper(e,r,a){let l=findPanelDataIndex(e,r),s=l===e.length-1,u=a[l];return{...r.constraints,panelSize:u,pivotIndices:s?[l-1,l]:[l,l+1]}}function PanelResizeHandle({children:e=null,className:r="",disabled:a=!1,hitAreaMargins:l,id:u,onDragging:d,style:c={},tabIndex:f=0,tagName:m="div",...y}){let h=v(null),x=v({onDragging:d});g(()=>{x.current.onDragging=d});let V=p(_);if(null===V)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");let{direction:E,groupId:A,registerResizeHandle:F,startDragging:w,stopDragging:S,panelGroupElement:z}=V,D=useUniqueId(u),[k,C]=b("inactive"),[P,O]=b(!1),[j,R]=b(null),U=v({state:k});return g(()=>{if(a)R(null);else{let e=F(D);R(()=>e)}},[a,D,F]),g(()=>{var e,r;if(a||null==j)return;let s=h.current;return assert(s,"Element ref not attached"),function(e,r,a,l,s){var u;let{ownerDocument:d}=r,c={direction:a,element:r,hitAreaMargins:l,setResizeHandlerState:s},f=null!==(u=I.get(d))&&void 0!==u?u:0;return I.set(d,f+1),N.add(c),updateListeners(),function(){var r;M.delete(e),N.delete(c);let a=null!==(r=I.get(d))&&void 0!==r?r:1;I.set(d,a-1),updateListeners(),1===a&&I.delete(d)}}(D,s,E,{coarse:null!==(e=null==l?void 0:l.coarse)&&void 0!==e?e:15,fine:null!==(r=null==l?void 0:l.fine)&&void 0!==r?r:5},(e,r,a)=>{if(r)switch(e){case"down":{C("drag"),w(D,a);let{onDragging:e}=x.current;e&&e(!0);break}case"move":{let{state:e}=U.current;"drag"!==e&&C("hover"),j(a);break}case"up":{C("hover"),S();let{onDragging:e}=x.current;e&&e(!1)}}else C("inactive")})},[E,a,l,F,D,j,w,S]),function({disabled:e,handleId:r,resizeHandler:a,panelGroupElement:l}){g(()=>{if(e||null==a||null==l)return;let s=getResizeHandleElement(r,l);if(null==s)return;let onKeyDown=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),a(e);break;case"F6":{e.preventDefault();let a=s.getAttribute("data-panel-group-id");assert(a,`No group element found for id "${a}"`);let u=getResizeHandleElementsForGroup(a,l),d=getResizeHandleElementIndex(a,r,l);assert(null!==d,`No resize element found for id "${r}"`);let c=e.shiftKey?d>0?d-1:u.length-1:d+1<u.length?d+1:0,f=u[c];f.focus()}}};return s.addEventListener("keydown",onKeyDown),()=>{s.removeEventListener("keydown",onKeyDown)}},[l,e,r,a])}({disabled:a,handleId:D,resizeHandler:j,panelGroupElement:z}),s(m,{...y,children:e,className:r,id:u,onBlur:()=>O(!1),onFocus:()=>O(!0),ref:h,role:"separator",style:{touchAction:"none",userSelect:"none",...c},tabIndex:f,"data-panel-group-direction":E,"data-panel-group-id":A,"data-resize-handle":"","data-resize-handle-active":"drag"===k?"pointer":P?"keyboard":void 0,"data-resize-handle-state":k,"data-panel-resize-handle-enabled":!a,"data-panel-resize-handle-id":D})}PanelGroupWithForwardedRef.displayName="PanelGroup",L.displayName="forwardRef(PanelGroup)",PanelResizeHandle.displayName="PanelResizeHandle"},43704:(e,r,a)=>{a.d(r,{F:()=>zod_t});var l=a(68567),t=function(e,r,a){if(e&&"reportValidity"in e){var s=(0,l.U2)(a,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},resolvers_i=function(e,r){var i=function(a){var l=r.fields[a];l&&l.ref&&"reportValidity"in l.ref?t(l.ref,a,e):l.refs&&l.refs.forEach(function(r){return t(r,a,e)})};for(var a in r.fields)i(a)},n=function(e,r){r.shouldUseNativeValidation&&resolvers_i(e,r);var a={};for(var s in e){var u=(0,l.U2)(r.fields,s),d=Object.assign(e[s]||{},{ref:u&&u.ref});if(o(r.names||Object.keys(e),s)){var c=Object.assign({},(0,l.U2)(a,s));(0,l.t8)(c,"root",d),(0,l.t8)(a,s,c)}else(0,l.t8)(a,s,d)}return a},o=function(e,r){return e.some(function(e){return e.startsWith(r+".")})},zod_n=function(e,r){for(var a={};e.length;){var s=e[0],u=s.code,d=s.message,c=s.path.join(".");if(!a[c]){if("unionErrors"in s){var f=s.unionErrors[0].errors[0];a[c]={message:f.message,type:f.code}}else a[c]={message:d,type:u}}if("unionErrors"in s&&s.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var p=a[c].types,g=p&&p[s.code];a[c]=(0,l.KN)(c,r,a,u,g?[].concat(g,s.message):s.message)}e.shift()}return a},zod_t=function(e,r,a){return void 0===a&&(a={}),function(l,s,u){try{return Promise.resolve(function(s,d){try{var c=Promise.resolve(e["sync"===a.mode?"parse":"parseAsync"](l,r)).then(function(e){return u.shouldUseNativeValidation&&resolvers_i({},u),{errors:{},values:a.raw?l:e}})}catch(e){return d(e)}return c&&c.then?c.then(void 0,d):c}(0,function(e){if(null!=e.errors)return{values:{},errors:n(zod_n(e.errors,!u.shouldUseNativeValidation&&"all"===u.criteriaMode),u)};throw e}))}catch(e){return Promise.reject(e)}}}},48182:(e,r,a)=>{a.d(r,{bU:()=>A,fC:()=>E});var l=a(51588),s=a(51495),u=a(14614),d=a(37993),c=a(36195),f=a(20743),p=a(27222),g=a(82643),m=a(5547);let y="Switch",[h,v]=(0,c.b)(y),[b,x]=h(y),_=(0,s.forwardRef)((e,r)=>{let{__scopeSwitch:a,name:c,checked:p,defaultChecked:g,required:y,disabled:h,value:v="on",onCheckedChange:x,..._}=e,[V,E]=(0,s.useState)(null),A=(0,d.e)(r,e=>E(e)),F=(0,s.useRef)(!1),w=!V||!!V.closest("form"),[S=!1,z]=(0,f.T)({prop:p,defaultProp:g,onChange:x});return(0,s.createElement)(b,{scope:a,checked:S,disabled:h},(0,s.createElement)(m.WV.button,(0,l.Z)({type:"button",role:"switch","aria-checked":S,"aria-required":y,"data-state":$6be4966fd9bbc698$var$getState(S),"data-disabled":h?"":void 0,disabled:h,value:v},_,{ref:A,onClick:(0,u.M)(e.onClick,e=>{z(e=>!e),w&&(F.current=e.isPropagationStopped(),F.current||e.stopPropagation())})})),w&&(0,s.createElement)($6be4966fd9bbc698$var$BubbleInput,{control:V,bubbles:!F.current,name:c,value:v,checked:S,required:y,disabled:h,style:{transform:"translateX(-100%)"}}))}),V=(0,s.forwardRef)((e,r)=>{let{__scopeSwitch:a,...u}=e,d=x("SwitchThumb",a);return(0,s.createElement)(m.WV.span,(0,l.Z)({"data-state":$6be4966fd9bbc698$var$getState(d.checked),"data-disabled":d.disabled?"":void 0},u,{ref:r}))}),$6be4966fd9bbc698$var$BubbleInput=e=>{let{control:r,checked:a,bubbles:u=!0,...d}=e,c=(0,s.useRef)(null),f=(0,p.D)(a),m=(0,g.t)(r);return(0,s.useEffect)(()=>{let e=c.current,r=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(r,"checked"),s=l.set;if(f!==a&&s){let r=new Event("click",{bubbles:u});s.call(e,a),e.dispatchEvent(r)}},[f,a,u]),(0,s.createElement)("input",(0,l.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:a},d,{tabIndex:-1,ref:c,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function $6be4966fd9bbc698$var$getState(e){return e?"checked":"unchecked"}let E=_,A=V},4097:(e,r,a)=>{a.d(r,{t:()=>E});var l=a(96603),s=a(20674),u=a(51495);let d=(0,u.createContext)(null);var c=a(39238),f=a(86979),p=a(91227),g=a(55103);let m=(0,u.forwardRef)(function({children:e,as:r="ul",axis:a="y",onReorder:m,values:y,...h},v){let b=(0,f.h)(()=>(0,c.E)(r)),x=[],_=(0,u.useRef)(!1);return(0,s.k)(!!y,"Reorder.Group must be provided a values prop"),(0,u.useEffect)(()=>{_.current=!1}),(0,l.jsx)(b,{...h,ref:v,ignoreStrict:!0,children:(0,l.jsx)(d.Provider,{value:{axis:a,registerItem:(e,r)=>{let l=x.findIndex(r=>e===r.value);-1!==l?x[l].layout=r[a]:x.push({value:e,layout:r[a]}),x.sort(compareMin)},updateOrder:(e,r,a)=>{if(_.current)return;let l=function(e,r,a,l){if(!l)return e;let s=e.findIndex(e=>e.value===r);if(-1===s)return e;let u=l>0?1:-1,d=e[s+u];if(!d)return e;let c=e[s],f=d.layout,m=(0,g.t)(f.min,f.max,.5);return 1===u&&c.layout.max+a>m||-1===u&&c.layout.min+a<m?(0,p.uo)(e,s,s+u):e}(x,e,r,a);x!==l&&(_.current=!0,m(l.map(getValue).filter(e=>-1!==y.indexOf(e))))}},children:e})})});function getValue(e){return e.value}function compareMin(e,r){return e.layout.min-r.layout.min}var y=a(16431),h=a(18978);function useMotionValue(e){let r=(0,f.h)(()=>(0,y.BX)(e)),{isStatic:a}=(0,u.useContext)(h._);if(a){let[,a]=(0,u.useState)(e);(0,u.useEffect)(()=>r.on("change",a),[])}return r}var v=a(70955);let isCustomValueType=e=>e&&"object"==typeof e&&e.mix,getMixer=e=>isCustomValueType(e)?e.mix:void 0;var b=a(36826),x=a(16233);function useCombineMotionValues(e,r){let a=useMotionValue(r()),updateValue=()=>a.set(r());return updateValue(),(0,b.L)(()=>{let scheduleUpdate=()=>x.Wi.preRender(updateValue,!1,!0),r=e.map(e=>e.on("change",scheduleUpdate));return()=>{r.forEach(e=>e()),(0,x.Pn)(updateValue)}}),a}function useListTransform(e,r){let a=(0,f.h)(()=>[]);return useCombineMotionValues(e,()=>{a.length=0;let l=e.length;for(let r=0;r<l;r++)a[r]=e[r].get();return r(a)})}var _=a(60213);function useDefaultMotionValue(e,r=0){return(0,_.i)(e)?e:useMotionValue(r)}let V=(0,u.forwardRef)(function({children:e,style:r={},value:a,as:p="li",onDrag:g,layout:m=!0,...h},b){let x=(0,f.h)(()=>(0,c.E)(p)),_=(0,u.useContext)(d),V={x:useDefaultMotionValue(r.x),y:useDefaultMotionValue(r.y)},E=function(e,r,a,l){if("function"==typeof e)return function(e){y.S1.current=[],e();let r=useCombineMotionValues(y.S1.current,e);return y.S1.current=void 0,r}(e);let s="function"==typeof r?r:function(...e){let r=!Array.isArray(e[0]),a=r?0:-1,l=e[0+a],s=e[1+a],u=e[2+a],d=e[3+a],c=(0,v.s)(s,u,{mixer:getMixer(u[0]),...d});return r?c(l):c}(r,void 0,void 0);return Array.isArray(e)?useListTransform(e,s):useListTransform([e],([e])=>s(e))}([V.x,V.y],([e,r])=>e||r?1:"unset");(0,s.k)(!!_,"Reorder.Item must be a child of Reorder.Group");let{axis:A,registerItem:F,updateOrder:w}=_;return(0,l.jsx)(x,{drag:A,...h,dragSnapToOrigin:!0,style:{...r,x:V.x,y:V.y,zIndex:E},layout:m,onDrag:(e,r)=>{let{velocity:l}=r;l[A]&&w(a,V[A].get(),l[A]),g&&g(e,r)},onLayoutMeasure:e=>F(a,e),ref:b,ignoreStrict:!0,children:e})}),E={Group:m,Item:V}},37832:(e,r,a)=>{a.d(r,{o:()=>useDragControls});var l=a(86979);let DragControls=class DragControls{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,r){this.componentControls.forEach(a=>{a.start(e.nativeEvent||e,r)})}};let createDragControls=()=>new DragControls;function useDragControls(){return(0,l.h)(createDragControls)}},68567:(e,r,a)=>{a.d(r,{Dq:()=>useFieldArray,Gc:()=>useFormContext,KN:()=>appendErrors,Qr:()=>Controller,RV:()=>FormProvider,U2:()=>get,cI:()=>useForm,qo:()=>useWatch,t8:()=>set});var l=a(51495),isCheckBoxInput=e=>"checkbox"===e.type,isDateObject=e=>e instanceof Date,isNullOrUndefined=e=>null==e;let isObjectType=e=>"object"==typeof e;var isObject=e=>!isNullOrUndefined(e)&&!Array.isArray(e)&&isObjectType(e)&&!isDateObject(e),getEventValue=e=>isObject(e)&&e.target?isCheckBoxInput(e.target)?e.target.checked:e.target.value:e,getNodeParentName=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,isNameInFieldArray=(e,r)=>e.has(getNodeParentName(r)),isPlainObject=e=>{let r=e.constructor&&e.constructor.prototype;return isObject(r)&&r.hasOwnProperty("isPrototypeOf")},s="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function cloneObject(e){let r;let a=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(!(s&&(e instanceof Blob||e instanceof FileList))&&(a||isObject(e))))return e;else if(r=a?[]:{},a||isPlainObject(e))for(let a in e)e.hasOwnProperty(a)&&(r[a]=cloneObject(e[a]));else r=e;return r}var compact=e=>Array.isArray(e)?e.filter(Boolean):[],isUndefined=e=>void 0===e,get=(e,r,a)=>{if(!r||!isObject(e))return a;let l=compact(r.split(/[,[\].]+?/)).reduce((e,r)=>isNullOrUndefined(e)?e:e[r],e);return isUndefined(l)||l===e?isUndefined(e[r])?a:e[r]:l},isBoolean=e=>"boolean"==typeof e;let u={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},d={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},c={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},f=l.createContext(null),useFormContext=()=>l.useContext(f),FormProvider=e=>{let{children:r,...a}=e;return l.createElement(f.Provider,{value:a},r)};var getProxyFormState=(e,r,a,l=!0)=>{let s={defaultValues:r._defaultValues};for(let u in e)Object.defineProperty(s,u,{get:()=>(r._proxyFormState[u]!==d.all&&(r._proxyFormState[u]=!l||d.all),a&&(a[u]=!0),e[u])});return s},isEmptyObject=e=>isObject(e)&&!Object.keys(e).length,shouldRenderFormState=(e,r,a,l)=>{a(e);let{name:s,...u}=e;return isEmptyObject(u)||Object.keys(u).length>=Object.keys(r).length||Object.keys(u).find(e=>r[e]===(!l||d.all))},convertToArrayPayload=e=>Array.isArray(e)?e:[e],shouldSubscribeByName=(e,r,a)=>!e||!r||e===r||convertToArrayPayload(e).some(e=>e&&(a?e===r:e.startsWith(r)||r.startsWith(e)));function useSubscribe(e){let r=l.useRef(e);r.current=e,l.useEffect(()=>{let a=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{a&&a.unsubscribe()}},[e.disabled])}var isString=e=>"string"==typeof e,generateWatchOutput=(e,r,a,l,s)=>isString(e)?(l&&r.watch.add(e),get(a,e,s)):Array.isArray(e)?e.map(e=>(l&&r.watch.add(e),get(a,e))):(l&&(r.watchAll=!0),a);function useWatch(e){let r=useFormContext(),{control:a=r.control,name:s,defaultValue:u,disabled:d,exact:c}=e||{},f=l.useRef(s);f.current=s,useSubscribe({disabled:d,subject:a._subjects.values,next:e=>{shouldSubscribeByName(f.current,e.name,c)&&g(cloneObject(generateWatchOutput(f.current,a._names,e.values||a._formValues,!1,u)))}});let[p,g]=l.useState(a._getWatch(s,u));return l.useEffect(()=>a._removeUnmounted()),p}var isKey=e=>/^\w*$/.test(e),stringToPath=e=>compact(e.replace(/["|']|\]/g,"").split(/\.|\[/)),set=(e,r,a)=>{let l=-1,s=isKey(r)?[r]:stringToPath(r),u=s.length,d=u-1;for(;++l<u;){let r=s[l],u=a;if(l!==d){let a=e[r];u=isObject(a)||Array.isArray(a)?a:isNaN(+s[l+1])?{}:[]}e[r]=u,e=e[r]}return e};let Controller=e=>e.render(function(e){let r=useFormContext(),{name:a,disabled:s,control:d=r.control,shouldUnregister:c}=e,f=isNameInFieldArray(d._names.array,a),p=useWatch({control:d,name:a,defaultValue:get(d._formValues,a,get(d._defaultValues,a,e.defaultValue)),exact:!0}),g=function(e){let r=useFormContext(),{control:a=r.control,disabled:s,name:u,exact:d}=e||{},[c,f]=l.useState(a._formState),p=l.useRef(!0),g=l.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=l.useRef(u);return m.current=u,useSubscribe({disabled:s,next:e=>p.current&&shouldSubscribeByName(m.current,e.name,d)&&shouldRenderFormState(e,g.current,a._updateFormState)&&f({...a._formState,...e}),subject:a._subjects.state}),l.useEffect(()=>(p.current=!0,g.current.isValid&&a._updateValid(!0),()=>{p.current=!1}),[a]),getProxyFormState(c,a,g.current,!1)}({control:d,name:a}),m=l.useRef(d.register(a,{...e.rules,value:p,...isBoolean(e.disabled)?{disabled:e.disabled}:{}}));return l.useEffect(()=>{let e=d._options.shouldUnregister||c,updateMounted=(e,r)=>{let a=get(d._fields,e);a&&(a._f.mount=r)};if(updateMounted(a,!0),e){let e=cloneObject(get(d._options.defaultValues,a));set(d._defaultValues,a,e),isUndefined(get(d._formValues,a))&&set(d._formValues,a,e)}return()=>{(f?e&&!d._state.action:e)?d.unregister(a):updateMounted(a,!1)}},[a,d,f,c]),l.useEffect(()=>{get(d._fields,a)&&d._updateDisabledField({disabled:s,fields:d._fields,name:a,value:get(d._fields,a)._f.value})},[s,a,d]),{field:{name:a,value:p,...isBoolean(s)||g.disabled?{disabled:g.disabled||s}:{},onChange:l.useCallback(e=>m.current.onChange({target:{value:getEventValue(e),name:a},type:u.CHANGE}),[a]),onBlur:l.useCallback(()=>m.current.onBlur({target:{value:get(d._formValues,a),name:a},type:u.BLUR}),[a,d]),ref:e=>{let r=get(d._fields,a);r&&e&&(r._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:r=>e.setCustomValidity(r),reportValidity:()=>e.reportValidity()})}},formState:g,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get(g.errors,a)},isDirty:{enumerable:!0,get:()=>!!get(g.dirtyFields,a)},isTouched:{enumerable:!0,get:()=>!!get(g.touchedFields,a)},isValidating:{enumerable:!0,get:()=>!!get(g.validatingFields,a)},error:{enumerable:!0,get:()=>get(g.errors,a)}})}}(e));var appendErrors=(e,r,a,l,s)=>r?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[l]:s||!0}}:{},generateId=()=>{let e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{let a=(16*Math.random()+e)%16|0;return("x"==r?a:3&a|8).toString(16)})},getFocusFieldName=(e,r,a={})=>a.shouldFocus||isUndefined(a.shouldFocus)?a.focusName||`${e}.${isUndefined(a.focusIndex)?r:a.focusIndex}.`:"",getValidationModes=e=>({isOnSubmit:!e||e===d.onSubmit,isOnBlur:e===d.onBlur,isOnChange:e===d.onChange,isOnAll:e===d.all,isOnTouch:e===d.onTouched}),isWatched=(e,r,a)=>!a&&(r.watchAll||r.watch.has(e)||[...r.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));let iterateFieldsByAction=(e,r,a,l)=>{for(let s of a||Object.keys(e)){let a=get(e,s);if(a){let{_f:e,...u}=a;if(e){if(e.refs&&e.refs[0]&&r(e.refs[0],s)&&!l||e.ref&&r(e.ref,e.name)&&!l)break;iterateFieldsByAction(u,r)}else isObject(u)&&iterateFieldsByAction(u,r)}}};var updateFieldArrayRootError=(e,r,a)=>{let l=compact(get(e,a));return set(l,"root",r[a]),set(e,a,l),e},isFileInput=e=>"file"===e.type,isFunction=e=>"function"==typeof e,isHTMLElement=e=>{if(!s)return!1;let r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},isMessage=e=>isString(e),isRadioInput=e=>"radio"===e.type,isRegex=e=>e instanceof RegExp;let p={value:!1,isValid:!1},g={value:!0,isValid:!0};var getCheckboxValue=e=>{if(Array.isArray(e)){if(e.length>1){let r=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!isUndefined(e[0].attributes.value)?isUndefined(e[0].value)||""===e[0].value?g:{value:e[0].value,isValid:!0}:g:p}return p};let m={isValid:!1,value:null};var getRadioValue=e=>Array.isArray(e)?e.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,m):m;function getValidateError(e,r,a="validate"){if(isMessage(e)||Array.isArray(e)&&e.every(isMessage)||isBoolean(e)&&!e)return{type:a,message:isMessage(e)?e:"",ref:r}}var getValueAndMessage=e=>isObject(e)&&!isRegex(e)?e:{value:e,message:""},validateField=async(e,r,a,l,s)=>{let{ref:u,refs:d,required:f,maxLength:p,minLength:g,min:m,max:y,pattern:h,validate:v,name:b,valueAsNumber:x,mount:_,disabled:V}=e._f,E=get(r,b);if(!_||V)return{};let A=d?d[0]:u,setCustomValidity=e=>{l&&A.reportValidity&&(A.setCustomValidity(isBoolean(e)?"":e||""),A.reportValidity())},F={},w=isRadioInput(u),S=isCheckBoxInput(u),z=(x||isFileInput(u))&&isUndefined(u.value)&&isUndefined(E)||isHTMLElement(u)&&""===u.value||""===E||Array.isArray(E)&&!E.length,D=appendErrors.bind(null,b,a,F),getMinMaxMessage=(e,r,a,l=c.maxLength,s=c.minLength)=>{let d=e?r:a;F[b]={type:e?l:s,message:d,ref:u,...D(e?l:s,d)}};if(s?!Array.isArray(E)||!E.length:f&&(!(w||S)&&(z||isNullOrUndefined(E))||isBoolean(E)&&!E||S&&!getCheckboxValue(d).isValid||w&&!getRadioValue(d).isValid)){let{value:e,message:r}=isMessage(f)?{value:!!f,message:f}:getValueAndMessage(f);if(e&&(F[b]={type:c.required,message:r,ref:A,...D(c.required,r)},!a))return setCustomValidity(r),F}if(!z&&(!isNullOrUndefined(m)||!isNullOrUndefined(y))){let e,r;let l=getValueAndMessage(y),s=getValueAndMessage(m);if(isNullOrUndefined(E)||isNaN(E)){let a=u.valueAsDate||new Date(E),convertTimeToDate=e=>new Date(new Date().toDateString()+" "+e),d="time"==u.type,c="week"==u.type;isString(l.value)&&E&&(e=d?convertTimeToDate(E)>convertTimeToDate(l.value):c?E>l.value:a>new Date(l.value)),isString(s.value)&&E&&(r=d?convertTimeToDate(E)<convertTimeToDate(s.value):c?E<s.value:a<new Date(s.value))}else{let a=u.valueAsNumber||(E?+E:E);isNullOrUndefined(l.value)||(e=a>l.value),isNullOrUndefined(s.value)||(r=a<s.value)}if((e||r)&&(getMinMaxMessage(!!e,l.message,s.message,c.max,c.min),!a))return setCustomValidity(F[b].message),F}if((p||g)&&!z&&(isString(E)||s&&Array.isArray(E))){let e=getValueAndMessage(p),r=getValueAndMessage(g),l=!isNullOrUndefined(e.value)&&E.length>+e.value,s=!isNullOrUndefined(r.value)&&E.length<+r.value;if((l||s)&&(getMinMaxMessage(l,e.message,r.message),!a))return setCustomValidity(F[b].message),F}if(h&&!z&&isString(E)){let{value:e,message:r}=getValueAndMessage(h);if(isRegex(e)&&!E.match(e)&&(F[b]={type:c.pattern,message:r,ref:u,...D(c.pattern,r)},!a))return setCustomValidity(r),F}if(v){if(isFunction(v)){let e=await v(E,r),l=getValidateError(e,A);if(l&&(F[b]={...l,...D(c.validate,l.message)},!a))return setCustomValidity(l.message),F}else if(isObject(v)){let e={};for(let l in v){if(!isEmptyObject(e)&&!a)break;let s=getValidateError(await v[l](E,r),A,l);s&&(e={...s,...D(l,s.message)},setCustomValidity(s.message),a&&(F[b]=e))}if(!isEmptyObject(e)&&(F[b]={ref:A,...e},!a))return F}}return setCustomValidity(!0),F},appendAt=(e,r)=>[...e,...convertToArrayPayload(r)],fillEmptyArray=e=>Array.isArray(e)?e.map(()=>void 0):void 0;function insert(e,r,a){return[...e.slice(0,r),...convertToArrayPayload(a),...e.slice(r)]}var moveArrayAt=(e,r,a)=>Array.isArray(e)?(isUndefined(e[a])&&(e[a]=void 0),e.splice(a,0,e.splice(r,1)[0]),e):[],prependAt=(e,r)=>[...convertToArrayPayload(r),...convertToArrayPayload(e)],removeArrayAt=(e,r)=>isUndefined(r)?[]:function(e,r){let a=0,l=[...e];for(let e of r)l.splice(e-a,1),a++;return compact(l).length?l:[]}(e,convertToArrayPayload(r).sort((e,r)=>e-r)),swapArrayAt=(e,r,a)=>{[e[r],e[a]]=[e[a],e[r]]};function unset(e,r){let a=Array.isArray(r)?r:isKey(r)?[r]:stringToPath(r),l=1===a.length?e:function(e,r){let a=r.slice(0,-1).length,l=0;for(;l<a;)e=isUndefined(e)?l++:e[r[l++]];return e}(e,a),s=a.length-1,u=a[s];return l&&delete l[u],0!==s&&(isObject(l)&&isEmptyObject(l)||Array.isArray(l)&&function(e){for(let r in e)if(e.hasOwnProperty(r)&&!isUndefined(e[r]))return!1;return!0}(l))&&unset(e,a.slice(0,-1)),e}var updateAt=(e,r,a)=>(e[r]=a,e);function useFieldArray(e){let r=useFormContext(),{control:a=r.control,name:s,keyName:u="id",shouldUnregister:c}=e,[f,p]=l.useState(a._getFieldArray(s)),g=l.useRef(a._getFieldArray(s).map(generateId)),m=l.useRef(f),y=l.useRef(s),h=l.useRef(!1);y.current=s,m.current=f,a._names.array.add(s),e.rules&&a.register(s,e.rules),useSubscribe({next:({values:e,name:r})=>{if(r===y.current||!r){let r=get(e,y.current);Array.isArray(r)&&(p(r),g.current=r.map(generateId))}},subject:a._subjects.array});let v=l.useCallback(e=>{h.current=!0,a._updateFieldArray(s,e)},[a,s]);return l.useEffect(()=>{if(a._state.action=!1,isWatched(s,a._names)&&a._subjects.state.next({...a._formState}),h.current&&(!getValidationModes(a._options.mode).isOnSubmit||a._formState.isSubmitted)){if(a._options.resolver)a._executeSchema([s]).then(e=>{let r=get(e.errors,s),l=get(a._formState.errors,s);(l?!r&&l.type||r&&(l.type!==r.type||l.message!==r.message):r&&r.type)&&(r?set(a._formState.errors,s,r):unset(a._formState.errors,s),a._subjects.state.next({errors:a._formState.errors}))});else{let e=get(a._fields,s);e&&e._f&&!(getValidationModes(a._options.reValidateMode).isOnSubmit&&getValidationModes(a._options.mode).isOnSubmit)&&validateField(e,a._formValues,a._options.criteriaMode===d.all,a._options.shouldUseNativeValidation,!0).then(e=>!isEmptyObject(e)&&a._subjects.state.next({errors:updateFieldArrayRootError(a._formState.errors,e,s)}))}}a._subjects.values.next({name:s,values:{...a._formValues}}),a._names.focus&&iterateFieldsByAction(a._fields,(e,r)=>{if(a._names.focus&&r.startsWith(a._names.focus)&&e.focus)return e.focus(),1}),a._names.focus="",a._updateValid(),h.current=!1},[f,s,a]),l.useEffect(()=>(get(a._formValues,s)||a._updateFieldArray(s),()=>{(a._options.shouldUnregister||c)&&a.unregister(s)}),[s,a,u,c]),{swap:l.useCallback((e,r)=>{let l=a._getFieldArray(s);swapArrayAt(l,e,r),swapArrayAt(g.current,e,r),v(l),p(l),a._updateFieldArray(s,l,swapArrayAt,{argA:e,argB:r},!1)},[v,s,a]),move:l.useCallback((e,r)=>{let l=a._getFieldArray(s);moveArrayAt(l,e,r),moveArrayAt(g.current,e,r),v(l),p(l),a._updateFieldArray(s,l,moveArrayAt,{argA:e,argB:r},!1)},[v,s,a]),prepend:l.useCallback((e,r)=>{let l=convertToArrayPayload(cloneObject(e)),u=prependAt(a._getFieldArray(s),l);a._names.focus=getFocusFieldName(s,0,r),g.current=prependAt(g.current,l.map(generateId)),v(u),p(u),a._updateFieldArray(s,u,prependAt,{argA:fillEmptyArray(e)})},[v,s,a]),append:l.useCallback((e,r)=>{let l=convertToArrayPayload(cloneObject(e)),u=appendAt(a._getFieldArray(s),l);a._names.focus=getFocusFieldName(s,u.length-1,r),g.current=appendAt(g.current,l.map(generateId)),v(u),p(u),a._updateFieldArray(s,u,appendAt,{argA:fillEmptyArray(e)})},[v,s,a]),remove:l.useCallback(e=>{let r=removeArrayAt(a._getFieldArray(s),e);g.current=removeArrayAt(g.current,e),v(r),p(r),a._updateFieldArray(s,r,removeArrayAt,{argA:e})},[v,s,a]),insert:l.useCallback((e,r,l)=>{let u=convertToArrayPayload(cloneObject(r)),d=insert(a._getFieldArray(s),e,u);a._names.focus=getFocusFieldName(s,e,l),g.current=insert(g.current,e,u.map(generateId)),v(d),p(d),a._updateFieldArray(s,d,insert,{argA:e,argB:fillEmptyArray(r)})},[v,s,a]),update:l.useCallback((e,r)=>{let l=cloneObject(r),u=updateAt(a._getFieldArray(s),e,l);g.current=[...u].map((r,a)=>r&&a!==e?g.current[a]:generateId()),v(u),p([...u]),a._updateFieldArray(s,u,updateAt,{argA:e,argB:l},!0,!1)},[v,s,a]),replace:l.useCallback(e=>{let r=convertToArrayPayload(cloneObject(e));g.current=r.map(generateId),v([...r]),p([...r]),a._updateFieldArray(s,[...r],e=>e,{},!0,!1)},[v,s,a]),fields:l.useMemo(()=>f.map((e,r)=>({...e,[u]:g.current[r]||generateId()})),[f,u])}}var createSubject=()=>{let e=[];return{get observers(){return e},next:r=>{for(let a of e)a.next&&a.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(e=>e!==r)}}),unsubscribe:()=>{e=[]}}},isPrimitive=e=>isNullOrUndefined(e)||!isObjectType(e);function deepEqual(e,r){if(isPrimitive(e)||isPrimitive(r))return e===r;if(isDateObject(e)&&isDateObject(r))return e.getTime()===r.getTime();let a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(let s of a){let a=e[s];if(!l.includes(s))return!1;if("ref"!==s){let e=r[s];if(isDateObject(a)&&isDateObject(e)||isObject(a)&&isObject(e)||Array.isArray(a)&&Array.isArray(e)?!deepEqual(a,e):a!==e)return!1}}return!0}var isMultipleSelect=e=>"select-multiple"===e.type,isRadioOrCheckbox=e=>isRadioInput(e)||isCheckBoxInput(e),live=e=>isHTMLElement(e)&&e.isConnected,objectHasFunction=e=>{for(let r in e)if(isFunction(e[r]))return!0;return!1};function markFieldsDirty(e,r={}){let a=Array.isArray(e);if(isObject(e)||a)for(let a in e)Array.isArray(e[a])||isObject(e[a])&&!objectHasFunction(e[a])?(r[a]=Array.isArray(e[a])?[]:{},markFieldsDirty(e[a],r[a])):isNullOrUndefined(e[a])||(r[a]=!0);return r}var getDirtyFields=(e,r)=>(function getDirtyFieldsFromDefaultValues(e,r,a){let l=Array.isArray(e);if(isObject(e)||l)for(let l in e)Array.isArray(e[l])||isObject(e[l])&&!objectHasFunction(e[l])?isUndefined(r)||isPrimitive(a[l])?a[l]=Array.isArray(e[l])?markFieldsDirty(e[l],[]):{...markFieldsDirty(e[l])}:getDirtyFieldsFromDefaultValues(e[l],isNullOrUndefined(r)?{}:r[l],a[l]):a[l]=!deepEqual(e[l],r[l]);return a})(e,r,markFieldsDirty(r)),getFieldValueAs=(e,{valueAsNumber:r,valueAsDate:a,setValueAs:l})=>isUndefined(e)?e:r?""===e?NaN:e?+e:e:a&&isString(e)?new Date(e):l?l(e):e;function getFieldValue(e){let r=e.ref;return(e.refs?e.refs.every(e=>e.disabled):r.disabled)?void 0:isFileInput(r)?r.files:isRadioInput(r)?getRadioValue(e.refs).value:isMultipleSelect(r)?[...r.selectedOptions].map(({value:e})=>e):isCheckBoxInput(r)?getCheckboxValue(e.refs).value:getFieldValueAs(isUndefined(r.value)?e.ref.value:r.value,e)}var getResolverOptions=(e,r,a,l)=>{let s={};for(let a of e){let e=get(r,a);e&&set(s,a,e._f)}return{criteriaMode:a,names:[...e],fields:s,shouldUseNativeValidation:l}},getRuleValue=e=>isUndefined(e)?e:isRegex(e)?e.source:isObject(e)?isRegex(e.value)?e.value.source:e.value:e,hasValidation=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function schemaErrorLookup(e,r,a){let l=get(e,a);if(l||isKey(a))return{error:l,name:a};let s=a.split(".");for(;s.length;){let l=s.join("."),u=get(r,l),d=get(e,l);if(u&&!Array.isArray(u)&&a!==l)break;if(d&&d.type)return{name:l,error:d};s.pop()}return{name:a}}var skipValidation=(e,r,a,l,s)=>!s.isOnAll&&(!a&&s.isOnTouch?!(r||e):(a?l.isOnBlur:s.isOnBlur)?!e:(a?!l.isOnChange:!s.isOnChange)||e),unsetEmptyArray=(e,r)=>!compact(get(e,r)).length&&unset(e,r);let y={mode:d.onSubmit,reValidateMode:d.onChange,shouldFocusError:!0};function useForm(e={}){let r=l.useRef(),a=l.useRef(),[c,f]=l.useState({isDirty:!1,isValidating:!1,isLoading:isFunction(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:isFunction(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...function(e={}){let r,a={...y,...e},l={submitCount:0,isDirty:!1,isLoading:isFunction(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:a.errors||{},disabled:a.disabled||!1},c={},f=(isObject(a.defaultValues)||isObject(a.values))&&cloneObject(a.defaultValues||a.values)||{},p=a.shouldUnregister?{}:cloneObject(f),g={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h=0,v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:createSubject(),array:createSubject(),state:createSubject()},x=getValidationModes(a.mode),_=getValidationModes(a.reValidateMode),V=a.criteriaMode===d.all,debounce=e=>r=>{clearTimeout(h),h=setTimeout(e,r)},_updateValid=async e=>{if(v.isValid||e){let e=a.resolver?isEmptyObject((await _executeSchema()).errors):await executeBuiltInValidation(c,!0);e!==l.isValid&&b.state.next({isValid:e})}},_updateIsValidating=(e,r)=>{(v.isValidating||v.validatingFields)&&((e||Array.from(m.mount)).forEach(e=>{e&&(r?set(l.validatingFields,e,r):unset(l.validatingFields,e))}),b.state.next({validatingFields:l.validatingFields,isValidating:!isEmptyObject(l.validatingFields)}))},updateErrors=(e,r)=>{set(l.errors,e,r),b.state.next({errors:l.errors})},updateValidAndValue=(e,r,a,l)=>{let s=get(c,e);if(s){let u=get(p,e,isUndefined(a)?get(f,e):a);isUndefined(u)||l&&l.defaultChecked||r?set(p,e,r?u:getFieldValue(s._f)):setFieldValue(e,u),g.mount&&_updateValid()}},updateTouchAndDirty=(e,r,a,s,u)=>{let d=!1,p=!1,g={name:e},m=!!(get(c,e)&&get(c,e)._f.disabled);if(!a||s){v.isDirty&&(p=l.isDirty,l.isDirty=g.isDirty=_getDirty(),d=p!==g.isDirty);let a=m||deepEqual(get(f,e),r);p=!!(!m&&get(l.dirtyFields,e)),a||m?unset(l.dirtyFields,e):set(l.dirtyFields,e,!0),g.dirtyFields=l.dirtyFields,d=d||v.dirtyFields&&!a!==p}if(a){let r=get(l.touchedFields,e);r||(set(l.touchedFields,e,a),g.touchedFields=l.touchedFields,d=d||v.touchedFields&&r!==a)}return d&&u&&b.state.next(g),d?g:{}},shouldRenderByError=(a,s,u,d)=>{let c=get(l.errors,a),f=v.isValid&&isBoolean(s)&&l.isValid!==s;if(e.delayError&&u?(r=debounce(()=>updateErrors(a,u)))(e.delayError):(clearTimeout(h),r=null,u?set(l.errors,a,u):unset(l.errors,a)),(u?!deepEqual(c,u):c)||!isEmptyObject(d)||f){let e={...d,...f&&isBoolean(s)?{isValid:s}:{},errors:l.errors,name:a};l={...l,...e},b.state.next(e)}},_executeSchema=async e=>{_updateIsValidating(e,!0);let r=await a.resolver(p,a.context,getResolverOptions(e||m.mount,c,a.criteriaMode,a.shouldUseNativeValidation));return _updateIsValidating(e),r},executeSchemaAndUpdateState=async e=>{let{errors:r}=await _executeSchema(e);if(e)for(let a of e){let e=get(r,a);e?set(l.errors,a,e):unset(l.errors,a)}else l.errors=r;return r},executeBuiltInValidation=async(e,r,s={valid:!0})=>{for(let u in e){let d=e[u];if(d){let{_f:e,...c}=d;if(e){let c=m.array.has(e.name);_updateIsValidating([u],!0);let f=await validateField(d,p,V,a.shouldUseNativeValidation&&!r,c);if(_updateIsValidating([u]),f[e.name]&&(s.valid=!1,r))break;r||(get(f,e.name)?c?updateFieldArrayRootError(l.errors,f,e.name):set(l.errors,e.name,f[e.name]):unset(l.errors,e.name))}c&&await executeBuiltInValidation(c,r,s)}}return s.valid},_getDirty=(e,r)=>(e&&r&&set(p,e,r),!deepEqual(getValues(),f)),_getWatch=(e,r,a)=>generateWatchOutput(e,m,{...g.mount?p:isUndefined(r)?f:isString(e)?{[e]:r}:r},a,r),setFieldValue=(e,r,a={})=>{let l=get(c,e),s=r;if(l){let a=l._f;a&&(a.disabled||set(p,e,getFieldValueAs(r,a)),s=isHTMLElement(a.ref)&&isNullOrUndefined(r)?"":r,isMultipleSelect(a.ref)?[...a.ref.options].forEach(e=>e.selected=s.includes(e.value)):a.refs?isCheckBoxInput(a.ref)?a.refs.length>1?a.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(s)?!!s.find(r=>r===e.value):s===e.value)):a.refs[0]&&(a.refs[0].checked=!!s):a.refs.forEach(e=>e.checked=e.value===s):isFileInput(a.ref)?a.ref.value="":(a.ref.value=s,a.ref.type||b.values.next({name:e,values:{...p}})))}(a.shouldDirty||a.shouldTouch)&&updateTouchAndDirty(e,s,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&trigger(e)},setValues=(e,r,a)=>{for(let l in r){let s=r[l],u=`${e}.${l}`,d=get(c,u);!m.array.has(e)&&isPrimitive(s)&&(!d||d._f)||isDateObject(s)?setFieldValue(u,s,a):setValues(u,s,a)}},setValue=(e,r,a={})=>{let s=get(c,e),u=m.array.has(e),d=cloneObject(r);set(p,e,d),u?(b.array.next({name:e,values:{...p}}),(v.isDirty||v.dirtyFields)&&a.shouldDirty&&b.state.next({name:e,dirtyFields:getDirtyFields(f,p),isDirty:_getDirty(e,d)})):!s||s._f||isNullOrUndefined(d)?setFieldValue(e,d,a):setValues(e,d,a),isWatched(e,m)&&b.state.next({...l}),b.values.next({name:g.mount?e:void 0,values:{...p}})},onChange=async e=>{let s=e.target,d=s.name,f=!0,g=get(c,d),_updateIsFieldValueUpdated=e=>{f=Number.isNaN(e)||e===get(p,d,e)};if(g){let y,h;let E=s.type?getFieldValue(g._f):getEventValue(e),A=e.type===u.BLUR||e.type===u.FOCUS_OUT,F=!hasValidation(g._f)&&!a.resolver&&!get(l.errors,d)&&!g._f.deps||skipValidation(A,get(l.touchedFields,d),l.isSubmitted,_,x),w=isWatched(d,m,A);set(p,d,E),A?(g._f.onBlur&&g._f.onBlur(e),r&&r(0)):g._f.onChange&&g._f.onChange(e);let S=updateTouchAndDirty(d,E,A,!1),z=!isEmptyObject(S)||w;if(A||b.values.next({name:d,type:e.type,values:{...p}}),F)return v.isValid&&_updateValid(),z&&b.state.next({name:d,...w?{}:S});if(!A&&w&&b.state.next({...l}),a.resolver){let{errors:e}=await _executeSchema([d]);if(_updateIsFieldValueUpdated(E),f){let r=schemaErrorLookup(l.errors,c,d),a=schemaErrorLookup(e,c,r.name||d);y=a.error,d=a.name,h=isEmptyObject(e)}}else _updateIsValidating([d],!0),y=(await validateField(g,p,V,a.shouldUseNativeValidation))[d],_updateIsValidating([d]),_updateIsFieldValueUpdated(E),f&&(y?h=!1:v.isValid&&(h=await executeBuiltInValidation(c,!0)));f&&(g._f.deps&&trigger(g._f.deps),shouldRenderByError(d,h,y,S))}},_focusInput=(e,r)=>{if(get(l.errors,r)&&e.focus)return e.focus(),1},trigger=async(e,r={})=>{let s,u;let d=convertToArrayPayload(e);if(a.resolver){let r=await executeSchemaAndUpdateState(isUndefined(e)?e:d);s=isEmptyObject(r),u=e?!d.some(e=>get(r,e)):s}else e?((u=(await Promise.all(d.map(async e=>{let r=get(c,e);return await executeBuiltInValidation(r&&r._f?{[e]:r}:r)}))).every(Boolean))||l.isValid)&&_updateValid():u=s=await executeBuiltInValidation(c);return b.state.next({...!isString(e)||v.isValid&&s!==l.isValid?{}:{name:e},...a.resolver||!e?{isValid:s}:{},errors:l.errors}),r.shouldFocus&&!u&&iterateFieldsByAction(c,_focusInput,e?d:m.mount),u},getValues=e=>{let r={...f,...g.mount?p:{}};return isUndefined(e)?r:isString(e)?get(r,e):e.map(e=>get(r,e))},getFieldState=(e,r)=>({invalid:!!get((r||l).errors,e),isDirty:!!get((r||l).dirtyFields,e),isTouched:!!get((r||l).touchedFields,e),isValidating:!!get((r||l).validatingFields,e),error:get((r||l).errors,e)}),setError=(e,r,a)=>{let s=(get(c,e,{_f:{}})._f||{}).ref;set(l.errors,e,{...r,ref:s}),b.state.next({name:e,errors:l.errors,isValid:!1}),a&&a.shouldFocus&&s&&s.focus&&s.focus()},unregister=(e,r={})=>{for(let s of e?convertToArrayPayload(e):m.mount)m.mount.delete(s),m.array.delete(s),r.keepValue||(unset(c,s),unset(p,s)),r.keepError||unset(l.errors,s),r.keepDirty||unset(l.dirtyFields,s),r.keepTouched||unset(l.touchedFields,s),r.keepIsValidating||unset(l.validatingFields,s),a.shouldUnregister||r.keepDefaultValue||unset(f,s);b.values.next({values:{...p}}),b.state.next({...l,...r.keepDirty?{isDirty:_getDirty()}:{}}),r.keepIsValid||_updateValid()},_updateDisabledField=({disabled:e,name:r,field:a,fields:l,value:s})=>{if(isBoolean(e)){let u=e?void 0:isUndefined(s)?getFieldValue(a?a._f:get(l,r)._f):s;set(p,r,u),updateTouchAndDirty(r,u,!1,!1,!0)}},register=(e,r={})=>{let l=get(c,e),s=isBoolean(r.disabled);return set(c,e,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:e}},name:e,mount:!0,...r}}),m.mount.add(e),l?_updateDisabledField({field:l,disabled:r.disabled,name:e,value:r.value}):updateValidAndValue(e,!0,r.value),{...s?{disabled:r.disabled}:{},...a.progressive?{required:!!r.required,min:getRuleValue(r.min),max:getRuleValue(r.max),minLength:getRuleValue(r.minLength),maxLength:getRuleValue(r.maxLength),pattern:getRuleValue(r.pattern)}:{},name:e,onChange,onBlur:onChange,ref:s=>{if(s){register(e,r),l=get(c,e);let a=isUndefined(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,u=isRadioOrCheckbox(a),d=l._f.refs||[];(u?d.find(e=>e===a):a===l._f.ref)||(set(c,e,{_f:{...l._f,...u?{refs:[...d.filter(live),a,...Array.isArray(get(f,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),updateValidAndValue(e,!1,void 0,a))}else(l=get(c,e,{}))._f&&(l._f.mount=!1),(a.shouldUnregister||r.shouldUnregister)&&!(isNameInFieldArray(m.array,e)&&g.action)&&m.unMount.add(e)}}},_focusError=()=>a.shouldFocusError&&iterateFieldsByAction(c,_focusInput,m.mount),handleSubmit=(e,r)=>async s=>{let u;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let d=cloneObject(p);if(b.state.next({isSubmitting:!0}),a.resolver){let{errors:e,values:r}=await _executeSchema();l.errors=e,d=r}else await executeBuiltInValidation(c);if(unset(l.errors,"root"),isEmptyObject(l.errors)){b.state.next({errors:{}});try{await e(d,s)}catch(e){u=e}}else r&&await r({...l.errors},s),_focusError(),setTimeout(_focusError);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(l.errors)&&!u,submitCount:l.submitCount+1,errors:l.errors}),u)throw u},_reset=(r,a={})=>{let u=r?cloneObject(r):f,d=cloneObject(u),y=isEmptyObject(r),h=y?f:d;if(a.keepDefaultValues||(f=u),!a.keepValues){if(a.keepDirtyValues)for(let e of m.mount)get(l.dirtyFields,e)?set(h,e,get(p,e)):setValue(e,get(h,e));else{if(s&&isUndefined(r))for(let e of m.mount){let r=get(c,e);if(r&&r._f){let e=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(isHTMLElement(e)){let r=e.closest("form");if(r){r.reset();break}}}}c={}}p=e.shouldUnregister?a.keepDefaultValues?cloneObject(f):{}:cloneObject(h),b.array.next({values:{...h}}),b.values.next({values:{...h}})}m={mount:a.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},g.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,g.watch=!!e.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?l.submitCount:0,isDirty:!y&&(a.keepDirty?l.isDirty:!!(a.keepDefaultValues&&!deepEqual(r,f))),isSubmitted:!!a.keepIsSubmitted&&l.isSubmitted,dirtyFields:y?[]:a.keepDirtyValues?a.keepDefaultValues&&p?getDirtyFields(f,p):l.dirtyFields:a.keepDefaultValues&&r?getDirtyFields(f,r):{},touchedFields:a.keepTouched?l.touchedFields:{},errors:a.keepErrors?l.errors:{},isSubmitSuccessful:!!a.keepIsSubmitSuccessful&&l.isSubmitSuccessful,isSubmitting:!1})},reset=(e,r)=>_reset(isFunction(e)?e(p):e,r);return{control:{register,unregister,getFieldState,handleSubmit,setError,_executeSchema,_getWatch,_getDirty,_updateValid,_removeUnmounted:()=>{for(let e of m.unMount){let r=get(c,e);r&&(r._f.refs?r._f.refs.every(e=>!live(e)):!live(r._f.ref))&&unregister(e)}m.unMount=new Set},_updateFieldArray:(e,r=[],a,s,u=!0,d=!0)=>{if(s&&a){if(g.action=!0,d&&Array.isArray(get(c,e))){let r=a(get(c,e),s.argA,s.argB);u&&set(c,e,r)}if(d&&Array.isArray(get(l.errors,e))){let r=a(get(l.errors,e),s.argA,s.argB);u&&set(l.errors,e,r),unsetEmptyArray(l.errors,e)}if(v.touchedFields&&d&&Array.isArray(get(l.touchedFields,e))){let r=a(get(l.touchedFields,e),s.argA,s.argB);u&&set(l.touchedFields,e,r)}v.dirtyFields&&(l.dirtyFields=getDirtyFields(f,p)),b.state.next({name:e,isDirty:_getDirty(e,r),dirtyFields:l.dirtyFields,errors:l.errors,isValid:l.isValid})}else set(p,e,r)},_updateDisabledField,_getFieldArray:r=>compact(get(g.mount?p:f,r,e.shouldUnregister?get(f,r,[]):[])),_reset,_resetDefaultValues:()=>isFunction(a.defaultValues)&&a.defaultValues().then(e=>{reset(e,a.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:e=>{l={...l,...e}},_disableForm:e=>{isBoolean(e)&&(b.state.next({disabled:e}),iterateFieldsByAction(c,(r,a)=>{let l=e,s=get(c,a);s&&isBoolean(s._f.disabled)&&(l||(l=s._f.disabled)),r.disabled=l},0,!1))},_subjects:b,_proxyFormState:v,_setErrors:e=>{l.errors=e,b.state.next({errors:l.errors,isValid:!1})},get _fields(){return c},get _formValues(){return p},get _state(){return g},set _state(value){g=value},get _defaultValues(){return f},get _names(){return m},set _names(value){m=value},get _formState(){return l},set _formState(value){l=value},get _options(){return a},set _options(value){a={...a,...value}}},trigger,register,handleSubmit,watch:(e,r)=>isFunction(e)?b.values.subscribe({next:a=>e(_getWatch(void 0,r),a)}):_getWatch(e,r,!0),setValue,getValues,reset,resetField:(e,r={})=>{get(c,e)&&(isUndefined(r.defaultValue)?setValue(e,cloneObject(get(f,e))):(setValue(e,r.defaultValue),set(f,e,cloneObject(r.defaultValue))),r.keepTouched||unset(l.touchedFields,e),r.keepDirty||(unset(l.dirtyFields,e),l.isDirty=r.defaultValue?_getDirty(e,cloneObject(get(f,e))):_getDirty()),!r.keepError&&(unset(l.errors,e),v.isValid&&_updateValid()),b.state.next({...l}))},clearErrors:e=>{e&&convertToArrayPayload(e).forEach(e=>unset(l.errors,e)),b.state.next({errors:e?l.errors:{}})},unregister,setError,setFocus:(e,r={})=>{let a=get(c,e),l=a&&a._f;if(l){let e=l.refs?l.refs[0]:l.ref;e.focus&&(e.focus(),r.shouldSelect&&e.select())}},getFieldState}}(e),formState:c});let p=r.current.control;return p._options=e,useSubscribe({subject:p._subjects.state,next:e=>{shouldRenderFormState(e,p._proxyFormState,p._updateFormState,!0)&&f({...p._formState})}}),l.useEffect(()=>p._disableForm(e.disabled),[p,e.disabled]),l.useEffect(()=>{if(p._proxyFormState.isDirty){let e=p._getDirty();e!==c.isDirty&&p._subjects.state.next({isDirty:e})}},[p,c.isDirty]),l.useEffect(()=>{e.values&&!deepEqual(e.values,a.current)?(p._reset(e.values,p._options.resetOptions),a.current=e.values,f(e=>({...e}))):p._resetDefaultValues()},[e.values,p]),l.useEffect(()=>{e.errors&&p._setErrors(e.errors)},[e.errors,p]),l.useEffect(()=>{p._state.mount||(p._updateValid(),p._state.mount=!0),p._state.watch&&(p._state.watch=!1,p._subjects.state.next({...p._formState})),p._removeUnmounted()}),l.useEffect(()=>{e.shouldUnregister&&p._subjects.values.next({values:p._getWatch()})},[e.shouldUnregister,p]),r.current.formState=getProxyFormState(c,p),r.current}}};