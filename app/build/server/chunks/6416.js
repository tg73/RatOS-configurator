"use strict";exports.id=6416,exports.ids=[6416],exports.modules={66416:(e,r,o)=>{o.d(r,{Y:()=>ToolheadSettings});var l=o(96603),s=o(51495),t=o(82251),n=o(79030),i=o(30006),a=o(24240),d=o(61418),c=o(67415),g=o(43700),u=o(55260),x=o(89909),h=o(47994),j=o(73367);let ToolheadSettings=e=>{let{toolhead:r,setToolhead:o}=(0,t.yk)(e.toolOrAxis),[m,b]=(0,s.useState)(null),p=(0,s.useCallback)((e,l)=>{let s=r.getChangeSet({[e]:l});if(s?.success&&s.data&&Object.keys(s.data).length>0){let e=o({...r.getConfig(),...s.data});e.then(e=>{e.success?null!=e.data&&b(null):b(e.error.formErrors)})}else s?.success?b(null):b(s?.error.formErrors??null)},[r,o]);return null==r?(0,l.jsxs)(h.Card,{className:(0,d.m6)("col-span-1"),children:[(0,l.jsxs)(j.Ol,{className:"border-b border-border",children:[l.jsx(j.ll,{children:"Toolhead..."}),l.jsx(j.SZ,{children:"Configure the hardware installed on your toolhead..."})]}),l.jsx(j.aY,{className:"grid grid-cols-1 gap-4 border-b border-border @xs:grid-cols-2",children:l.jsx("div",{className:"flex h-96 items-center justify-center",children:l.jsx(a.$,{})})})]}):(0,l.jsxs)(h.Card,{className:(0,d.m6)("col-span-1"),children:[(0,l.jsxs)(j.Ol,{className:"border-b border-border",children:[(0,l.jsxs)(j.ll,{children:["Toolhead ",r.getToolCommand()," Hardware"]}),(0,l.jsxs)(j.SZ,{children:["Configure the hardware installed on ",r.getDescription().toLocaleLowerCase()]})]}),(0,l.jsxs)(j.aY,{className:"grid grid-cols-1 gap-4 border-b border-border @xs:grid-cols-2",children:[l.jsx("div",{className:"cols w-full",children:l.jsx(i.LV,{query:"hotends",value:r.getHotend(),error:m?.fieldErrors.hotend?.join("\n"),label:"Hotend",onSelect:e=>p("hotend",e)})}),l.jsx("div",{children:l.jsx(i.LV,{label:"Hotend Thermistor",query:"thermistors",error:m?.fieldErrors.thermistor?.join("\n"),onSelect:e=>p("thermistor",e.id),value:(0,n.DX)(r.getThermistor())})}),l.jsx("div",{children:l.jsx(i.Lt,{label:"Nozzle Type",onSelect:e=>p("nozzle",{...r.getNozzle(),type:e.id}),error:m?.fieldErrors.nozzle?.join("\n"),options:Object.values(g.ow.shape.type.Values).map(n.DX),value:(0,n.DX)(r.getNozzle().type)})}),l.jsx("div",{children:l.jsx(u.o,{type:"number",label:"Nozzle Diameter",error:m?.fieldErrors.nozzle?.join("\n"),defaultValue:r.getNozzle().diameter,onBlur:e=>p("nozzle",{...r.getNozzle(),diameter:parseFloat(e.target.value)}),inputMode:"decimal",step:.1,min:.2,max:1.8})}),r.getToolboard()?.alternativePT1000Resistor&&"PT1000"===r.getThermistor()&&l.jsx("div",{className:"col-span-full",children:l.jsx(c.j,{title:"RatOS uses your toolboards alternate pullup resistor setting",children:"Your toolboard has an option to use a separate pullup resistor for PT1000 sensors. This is usually done by inserting a jumper. Make sure you read the documentation for your board on how to enable the alternative resistor or you'll get ADC temperature errors in klipper."})}),l.jsx("div",{children:l.jsx(i.LV,{label:"Extruder",query:"extruders",error:m?.fieldErrors.extruder?.join("\n"),onSelect:e=>p("extruder",e),value:r.getExtruder()})}),l.jsx("div",{children:l.jsx(i.LV,{label:"Probe",query:"probes",canClear:1===r.getTool(),error:m?.fieldErrors.probe?.join("\n"),onSelect:e=>p("probe",e??void 0),value:r.getProbe()})})]}),(0,l.jsxs)(j.aY,{className:"grid grid-cols-1 gap-4 border-b border-border @sm:grid-cols-2",children:[l.jsx("div",{children:l.jsx(i.LV,{vars:{toolOrAxis:r.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"X Endstop",error:m?.fieldErrors.xEndstop?.join("\n"),query:"xEndstops",onSelect:e=>p("xEndstop",e),value:r.getXEndstop()})}),l.jsx("div",{children:l.jsx(i.LV,{vars:{toolOrAxis:r.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"Y Endstop",error:m?.fieldErrors.yEndstop?.join("\n"),query:"yEndstops",onSelect:e=>p("yEndstop",e),value:r.getYEndstop()})})]}),(0,l.jsxs)(j.aY,{className:"grid grid-cols-1 gap-4 border-b border-border @sm:grid-cols-2",children:[l.jsx("div",{children:l.jsx(i.LV,{vars:{toolOrAxis:r.getTool(),config:{}},serializedPrinterConfiguration:"config",error:m?.fieldErrors.partFan?.join("\n"),label:"Part cooling fan",query:"partFanOptions",help:x.Ie,onSelect:e=>p("partFan",e),value:r.getPartFan()})}),l.jsx("div",{children:l.jsx(i.LV,{vars:{toolOrAxis:r.getTool(),config:{}},serializedPrinterConfiguration:"config",error:m?.fieldErrors.hotendFan?.join("\n"),label:"Hotend fan",query:"hotendFanOptions",help:x.Ie,onSelect:e=>p("hotendFan",e),value:r.getHotendFan()})})]}),(0,l.jsxs)(j.aY,{className:"border-b border-border",children:[l.jsx(j.ll,{className:"text-base font-medium",children:"Accelerometers"}),l.jsx(j.SZ,{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"You can use the same accelerometer for both axes. If you don't plan on using an accelerometer, you can skip this and come back later if you change your mind."})]}),(0,l.jsxs)(j.aY,{className:"grid grid-cols-1 gap-4 @sm:grid-cols-2",children:[l.jsx("div",{children:l.jsx(i.LV,{vars:{toolOrAxis:r.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"X axis accelerometer",error:m?.fieldErrors.xAccelerometer?.join("\n"),query:"xAccelerometerOptions",onSelect:e=>p("xAccelerometer",e),value:r.getXAccelerometer(),sort:!1})}),l.jsx("div",{children:l.jsx(i.LV,{vars:{toolOrAxis:r.getTool(),config:{}},serializedPrinterConfiguration:"config",label:"Y axis accelerometer",error:m?.fieldErrors.yAccelerometer?.join("\n"),query:"yAccelerometerOptions",onSelect:e=>p("yAccelerometer",e),value:r.getYAccelerometer(),sort:!1})})]})]})}},67415:(e,r,o)=>{o.d(r,{j:()=>WarningMessage});var l=o(96603),s=o(59);o(51495);var t=o(29340);let WarningMessage=e=>l.jsx(t.j,{color:"yellow",Icon:s,title:e.title?"Warning: "+e.title:"Warning",className:e.className,children:e.children})}};