"use strict";(()=>{var e={};e.id=118,e.ids=[118,2888],e.modules={62224:(e,r,t)=>{t.r(r),t.d(r,{register:()=>register});let register=async()=>{{let{getLogger:e}=await Promise.all([t.e(1115),t.e(6523)]).then(t.bind(t,36523)),{existsSync:r,mkdirSync:i}=await Promise.resolve().then(t.t.bind(t,57147,23)),{regenerateKlipperConfiguration:o}=await Promise.all([t.e(1115),t.e(3025),t.e(4851),t.e(1517),t.e(5599)]).then(t.bind(t,25599)),{serverSchema:s}=await t.e(1115).then(t.bind(t,81115)),{symlinkKlippyExtensions:a}=await Promise.all([t.e(1115),t.e(3025),t.e(2807),t.e(8241)]).then(t.bind(t,18241)),{symlinkMoonrakerExtensions:n}=await Promise.all([t.e(1115),t.e(3025),t.e(2807),t.e(1056)]).then(t.bind(t,21056)),{klipperRestart:p}=await Promise.all([t.e(1115),t.e(1517),t.e(2515)]).then(t.bind(t,51517)),l=await Promise.resolve().then(t.t.bind(t,9523,23));l.setDefaultResultOrder("ipv4first");let c=e(),u=s.parse(process.env),x=u.RATOS_DATA_DIR;r(x)||(c.info("Creating RatOS data directory.."),i(x));try{c.info("Symlinking klippy extensions..."),c.info((await a()).report)}catch(e){e instanceof Error&&c.error(`Failed to symlink klippy extensions: ${e.message}`)}try{c.info("Symlinking moonraker extensions..."),c.info((await n()).report)}catch(e){e instanceof Error&&c.error(`Failed to symlink moonraker extensions: ${e.message}`)}try{c.info("Regenerating last known config...");let e=await o();if(e.some(e=>"created"===e.action||"overwritten"===e.action)){e.forEach(e=>{("created"===e.action||"overwritten"===e.action)&&c.info(`File ${e.fileName} ${e.action}.`)}),c.info("Configuration changed, restarting klipper..");try{let e=await p();e?c.info("Klipper restarted!"):c.info("Klipper was in a busy state. Please restart manually.")}catch(e){e instanceof Error&&c.error(`Failed to restart klipper: ${e.message}`)}}else c.info("No configuration changes detected.")}catch(e){e instanceof Error&&c.error(`Failed to regenerate config: ${e.message}`);return}}}},18910:e=>{e.exports=require("@tanstack/react-query")},85337:e=>{e.exports=require("@trpc/client")},4129:e=>{e.exports=require("@trpc/next")},56368:e=>{e.exports=require("@trpc/server")},41169:e=>{e.exports=require("class-variance-authority")},68103:e=>{e.exports=require("clsx")},56988:e=>{e.exports=require("deep-equal")},54230:e=>{e.exports=require("glob")},24580:e=>{e.exports=require("node-cache")},71569:e=>{e.exports=require("object-hash")},58545:e=>{e.exports=require("pino")},16689:e=>{e.exports=require("react")},7636:e=>{e.exports=require("react-use-websocket")},20997:e=>{e.exports=require("react/jsx-runtime")},29755:e=>{e.exports=require("recoil")},44101:e=>{e.exports=require("recoil-sync")},5873:e=>{e.exports=require("tailwind-merge")},53489:e=>{e.exports=require("ts-deepmerge")},38316:e=>{e.exports=require("zod")},15140:e=>{e.exports=require("zod-refine")},32081:e=>{e.exports=require("child_process")},9523:e=>{e.exports=require("dns")},57147:e=>{e.exports=require("fs")},73292:e=>{e.exports=require("fs/promises")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},14521:e=>{e.exports=require("readline")},73837:e=>{e.exports=require("util")}};var r=require("./webpack-runtime.js");r.C(e);var t=r(r.s=62224);module.exports=t})();