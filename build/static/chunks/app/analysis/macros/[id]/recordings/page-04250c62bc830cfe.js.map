{"version":3,"file":"static/chunks/app/analysis/macros/[id]/recordings/page-04250c62bc830cfe.js","mappings":"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","sources":["webpack://_N_E/?a3be","webpack://_N_E/./app/analysis/macros/[id]/recordings/recordings-bulk-actions.tsx","webpack://_N_E/./app/analysis/macros/[id]/recordings/columns.tsx","webpack://_N_E/./node_modules/.pnpm/lucide-react@0.363.0_react@18.2.0/node_modules/lucide-react/dist/esm/icons/pencil.js","webpack://_N_E/./app/analysis/macros/[id]/recordings/recordings.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/app/analysis/macros/[id]/recordings/recordings.tsx\");\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/RatOS-configurator/RatOS-configurator/src/components/common/no-ssr.tsx\")","'use client';\n\nimport { DotsHorizontalIcon, DotsVerticalIcon } from '@radix-ui/react-icons';\nimport { Row, RowModel } from '@tanstack/react-table';\n\nimport { Button } from '@/components/common/button';\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport Link from 'next/link';\nimport { MacroRecordingWithoutSourcePSDs, macroRecordingSchema, macroSchema } from '@/zods/analysis';\nimport { z } from 'zod';\nimport { trpc } from '@/utils/trpc';\nimport {\n\tAlertDialogHeader,\n\tAlertDialogFooter,\n\tAlertDialog,\n\tAlertDialogAction,\n\tAlertDialogCancel,\n\tAlertDialogContent,\n\tAlertDialogDescription,\n\tAlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport { useState } from 'react';\nimport { toast } from 'sonner';\nimport { getLogger } from '@/app/_helpers/logger';\n\ninterface RecordingBulkActionsProps<TData extends MacroRecordingWithoutSourcePSDs = MacroRecordingWithoutSourcePSDs> {\n\tselection: RowModel<TData>;\n\tonUpdate?: () => void;\n}\n\nexport function RecordingBulkActions<TData extends MacroRecordingWithoutSourcePSDs = MacroRecordingWithoutSourcePSDs>({\n\tselection,\n\tonUpdate,\n}: RecordingBulkActionsProps<TData>) {\n\tconst [isAlertVisible, setIsAlertVisible] = useState(false);\n\n\tconst deleteRecordings = trpc.analysis.deleteRecordings.useMutation();\n\n\treturn (\n\t\t<div className=\"flex justify-end\">\n\t\t\t<DropdownMenu>\n\t\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t\t<Button variant=\"plain\" size=\"sm\" className=\"flex data-[state=open]:bg-muted\">\n\t\t\t\t\t\t<DotsVerticalIcon className=\"h-4 w-4\" />\n\t\t\t\t\t\t<span className=\"sr-only\">Open menu</span>\n\t\t\t\t\t</Button>\n\t\t\t\t</DropdownMenuTrigger>\n\t\t\t\t<DropdownMenuContent align=\"end\" className=\"w-[160px]\">\n\t\t\t\t\t<DropdownMenuItem onClick={() => setIsAlertVisible(true)} disabled={selection.rows.length === 0}>\n\t\t\t\t\t\tDelete {selection.rows.length > 0 ? selection.rows.length : ''}{' '}\n\t\t\t\t\t\t{selection.rows.length === 1 ? 'Recording' : 'Recordings'}\n\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t</DropdownMenuContent>\n\t\t\t</DropdownMenu>\n\t\t\t<AlertDialog open={isAlertVisible}>\n\t\t\t\t<AlertDialogContent>\n\t\t\t\t\t<AlertDialogHeader>\n\t\t\t\t\t\t<AlertDialogTitle>Are you sure?</AlertDialogTitle>\n\t\t\t\t\t\t<AlertDialogDescription>\n\t\t\t\t\t\t\tThis action cannot be undone. This will permanently delete the {selection.flatRows.length} selected\n\t\t\t\t\t\t\trecordings.\n\t\t\t\t\t\t</AlertDialogDescription>\n\t\t\t\t\t</AlertDialogHeader>\n\t\t\t\t\t<AlertDialogFooter>\n\t\t\t\t\t\t<AlertDialogCancel onClick={() => setIsAlertVisible(false)}>Cancel</AlertDialogCancel>\n\t\t\t\t\t\t<AlertDialogAction\n\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\tsetIsAlertVisible(false);\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst result = await deleteRecordings.mutateAsync({\n\t\t\t\t\t\t\t\t\t\tmacroId: selection.rows[0].original.macroId,\n\t\t\t\t\t\t\t\t\t\trecordingIds: selection.flatRows.map((row) => row.original.id),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\t\t\t\t\tif (result.recordingsRemoved !== selection.flatRows.length) {\n\t\t\t\t\t\t\t\t\t\t\tgetLogger().error(result, 'Failed to delete one or more macros');\n\t\t\t\t\t\t\t\t\t\t\ttoast.error('Failed to delete one or more macros', {\n\t\t\t\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"An unknown error occurred and some of the recordings you marked for deletion seem to have disappeared from the database. This shouldn't happen. Please contact support.\",\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttoast.success('Recordings deleted!', {\n\t\t\t\t\t\t\t\t\t\t\tdescription: `${result.recordingsRemoved} recording(s) were successfully deleted.`,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tgetLogger().error(result, 'Failed to delete recordings');\n\t\t\t\t\t\t\t\t\t\ttoast.error('Failed to delete recordings', {\n\t\t\t\t\t\t\t\t\t\t\tdescription: `\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>An error occurred while deleting the selected recordings.</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<pre class=\"text-wrap mt-4 text-rose-400 font-medium whitespace-pre-wrap\">${result.msg ?? 'Unknown error'}</pre>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tgetLogger().error(\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tids: selection.rows.map((row) => row.original.id),\n\t\t\t\t\t\t\t\t\t\t\tmacroId: selection.rows[0].original.macroId,\n\t\t\t\t\t\t\t\t\t\t\terror: e,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t'Failed to delete recordings',\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\ttoast.error('Failed to delete recordings', {\n\t\t\t\t\t\t\t\t\t\tdescription: `\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>An error occurred while deleting the recordings.</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<pre class=\"text-wrap mt-4 text-rose-400 font-medium whitespace-pre-wrap\">${e instanceof Error ? e.message : e instanceof String ? e : 'Unknown error'}</pre>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t`,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonUpdate?.();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tContinue\n\t\t\t\t\t\t</AlertDialogAction>\n\t\t\t\t\t</AlertDialogFooter>\n\t\t\t\t</AlertDialogContent>\n\t\t\t</AlertDialog>\n\t\t</div>\n\t);\n}\n","'use client';\n\nimport { ColumnDef } from '@tanstack/react-table';\n\nimport { Checkbox } from '@/components/ui/checkbox';\n\nimport { DataTableColumnHeader } from '@/app/analysis/macros/components/data-table-column-header';\nimport { MacroRecordingWithoutSourcePSDs } from '@/zods/analysis';\nimport { Badge, BadgeProps } from '@/components/common/badge';\nimport React from 'react';\nimport { ColumnCapabilities } from '@/app/analysis/macros/components/data-table-toolbar';\nimport * as luxon from 'luxon';\nimport { MacroRecordingDataTableRowActions } from '@/app/analysis/macros/[id]/recordings/recording-row-actions';\nimport { ArrowDownToDot, Cpu, Server, Target } from 'lucide-react';\nimport { KlipperAccelSensorName } from '@/zods/hardware';\nimport { RecordingBulkActions } from '@/app/analysis/macros/[id]/recordings/recordings-bulk-actions';\nimport Link from 'next/link';\nluxon.Settings.defaultLocale = 'en-GB';\nconst userLocale = luxon.DateTime.local().locale;\n\nexport const columns: (ColumnDef<MacroRecordingWithoutSourcePSDs> & ColumnCapabilities)[] = [\n\t{\n\t\tid: 'select',\n\t\tsize: 30,\n\t\tminSize: 30,\n\t\theader: ({ table }) => (\n\t\t\t<Checkbox\n\t\t\t\tchecked={table.getIsAllPageRowsSelected() || (table.getIsSomePageRowsSelected() && 'indeterminate')}\n\t\t\t\tonCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n\t\t\t\taria-label=\"Select all\"\n\t\t\t/>\n\t\t),\n\t\tcell: ({ row }) => (\n\t\t\t<Checkbox\n\t\t\t\tchecked={row.getIsSelected()}\n\t\t\t\tonCheckedChange={(value) => row.toggleSelected(!!value)}\n\t\t\t\taria-label=\"Select row\"\n\t\t\t/>\n\t\t),\n\t\tenableSorting: false,\n\t\tenableHiding: false,\n\t},\n\t{\n\t\taccessorKey: 'macroRecordingRunId',\n\t\theader: 'Macro Run ID',\n\t\tenableGrouping: true,\n\t\tenableHiding: false,\n\t\tenableSorting: false,\n\t},\n\t{\n\t\tid: 'date',\n\t\tsize: 200,\n\t\taccessorKey: 'startTimeStamp',\n\t\theader: ({ column }) => <DataTableColumnHeader column={column} title=\"Date\" />,\n\t\tcell: ({ row }) => {\n\t\t\tlet leafRows = row.getLeafRows();\n\t\t\tif (leafRows.length === 0) {\n\t\t\t\tleafRows = [row];\n\t\t\t}\n\t\t\tconst start = luxon.DateTime.fromMillis(leafRows[0].original.startTimeStamp);\n\t\t\tconst end = luxon.DateTime.fromMillis(leafRows[leafRows.length - 1].original.endTimeStamp);\n\t\t\tconst date = start.equals(end)\n\t\t\t\t? start.toFormat('yyyy-MM-dd HH:mm')\n\t\t\t\t: `${start.toFormat('yyyy-MM-dd HH:mm')} - ${end.toFormat('HH:mm')}`;\n\t\t\tconst human = luxon.DateTime.fromMillis(row.original.startTimeStamp)\n\t\t\t\t.setLocale(userLocale)\n\t\t\t\t.toLocaleString({ dateStyle: 'long', timeStyle: 'short' });\n\t\t\treturn (\n\t\t\t\t<div className=\"flex min-w-0\">\n\t\t\t\t\t<span title={date} className=\"min-w-0 truncate\">\n\t\t\t\t\t\t{human}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tenableSorting: true,\n\t\tsortingFn: (a, b) => a.original.startTimeStamp - b.original.startTimeStamp,\n\t\tsortDescFirst: true,\n\t},\n\t{\n\t\taccessorKey: 'name',\n\t\tsize: 600,\n\t\theader: ({ column }) => <DataTableColumnHeader column={column} title=\"Recording\" />,\n\t\tcell: ({ row }) => {\n\t\t\tlet labels: {\n\t\t\t\taccel: KlipperAccelSensorName;\n\t\t\t\tlabel: string;\n\t\t\t\tcolor: BadgeProps['color'];\n\t\t\t\ticon: React.ComponentType;\n\t\t\t}[] = [];\n\t\t\tconst name: string[] = [];\n\n\t\t\tlet leafRows = row.getLeafRows();\n\t\t\tif (leafRows.length === 0) {\n\t\t\t\tleafRows = [row];\n\t\t\t}\n\t\t\tleafRows.forEach((r) => {\n\t\t\t\tname.push(r.original.name);\n\t\t\t\tif (labels.find((l) => l.accel === r.original.accelerometer)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (r.original.accelerometer) {\n\t\t\t\t\tcase 'controlboard':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: r.original.recordingHardwareName,\n\t\t\t\t\t\t\tcolor: 'purple',\n\t\t\t\t\t\t\ticon: Cpu,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'rpi':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: r.original.recordingHardwareName,\n\t\t\t\t\t\t\tcolor: 'gray',\n\t\t\t\t\t\t\ticon: Server,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'toolboard_t0':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: `${r.original.recordingHardwareName} T0`,\n\t\t\t\t\t\t\tcolor: 'sky',\n\t\t\t\t\t\t\ticon: ArrowDownToDot,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'toolboard_t1':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: `${r.original.recordingHardwareName} T1`,\n\t\t\t\t\t\t\tcolor: 'pink',\n\t\t\t\t\t\t\ticon: ArrowDownToDot,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'beacon':\n\t\t\t\t\t\tlabels.push({\n\t\t\t\t\t\t\taccel: r.original.accelerometer,\n\t\t\t\t\t\t\tlabel: r.original.recordingHardwareName,\n\t\t\t\t\t\t\tcolor: 'green',\n\t\t\t\t\t\t\ticon: Target,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn (\n\t\t\t\t<div className=\"flex min-w-0 max-w-fit items-center gap-2 truncate font-medium\">\n\t\t\t\t\t{labels.map((l) => (\n\t\t\t\t\t\t<Badge color={l.color} key={l.label}>\n\t\t\t\t\t\t\t{l.label}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t))}\n\t\t\t\t\t<Link\n\t\t\t\t\t\thref={`/analysis/macros/${row.original.macroId}/recordings/${row.original.macroRecordingRunId}`}\n\t\t\t\t\t\tclassName=\"truncate font-medium hover:text-brand-400\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{name.length > 1 ? name.slice(0, -1).join(', ') + ' & ' + name.slice(-1) : name[0]}\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tfilterFn: (row, id, filterValues) => {\n\t\t\tconst searchString = `${row.original.name} ${row.original.accelerometer} ${row.original.recordingHardwareName}`;\n\t\t\treturn (\n\t\t\t\tArray.isArray(filterValues) &&\n\t\t\t\tfilterValues.flat().some((filterValue: any) => searchString.includes(filterValue))\n\t\t\t);\n\t\t},\n\t\tgetFacetedOptions: () => {\n\t\t\treturn [\n\t\t\t\t{ label: 'Control Board', value: 'controlboard', icon: Cpu },\n\t\t\t\t{ label: 'Host', value: 'rpi', icon: Server },\n\t\t\t\t{ label: 'Tool Board T0', value: 'toolboard_t0', icon: ArrowDownToDot },\n\t\t\t\t{ label: 'Tool Board T1', value: 'toolboard_t1', icon: ArrowDownToDot },\n\t\t\t\t{ label: 'Beacon', value: 'beacon', icon: Target },\n\t\t\t];\n\t\t},\n\t},\n\t{\n\t\tid: 'duration',\n\t\tsize: 200,\n\t\theader: ({ column }) => <DataTableColumnHeader column={column} title=\"Duration\" />,\n\t\tcell: ({ row }) => {\n\t\t\tlet leafRows = row.getLeafRows();\n\t\t\tif (leafRows.length === 0) {\n\t\t\t\tleafRows = [row];\n\t\t\t}\n\t\t\tconst duration = luxon.Duration.fromMillis(\n\t\t\t\tleafRows[leafRows.length - 1].original.endTimeStamp - leafRows[0].original.startTimeStamp,\n\t\t\t)\n\t\t\t\t.shiftTo('minutes', 'seconds')\n\t\t\t\t.toHuman({ unitDisplay: 'short', maximumSignificantDigits: 2 });\n\t\t\treturn (\n\t\t\t\t<div className=\"flex min-w-0\">\n\t\t\t\t\t<span className=\"min-w-0 truncate\">{duration}</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tid: 'actions',\n\t\tsize: 25,\n\t\theader: ({ table }) => <RecordingBulkActions selection={table.getSelectedRowModel()} />,\n\t\tcell: ({ row }) => null,\n\t},\n];\n","/**\n * @license lucide-react v0.363.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pencil = createLucideIcon(\"Pencil\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n]);\n\nexport { Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","'use client';\nimport { Metadata } from 'next';\n\nimport { columns } from '@/app/analysis/macros/[id]/recordings/columns';\nimport { DataTable } from '@/app/analysis/macros/components/data-table';\nimport { trpc } from '@/utils/trpc';\nimport { useTopMenu } from '@/app/topmenu';\nimport { ChevronLeft, Pencil } from 'lucide-react';\nimport Link from 'next/link';\nimport { useCallback } from 'react';\n\nexport const metadata: Metadata = {\n\ttitle: 'Macros',\n\tdescription: 'User-modifiable macros for resonance analysis',\n};\n\nexport default function MacroRecordings({ id }: { id: string }) {\n\tconst [macroRecordingsQuery] = trpc.analysis.getRecordings.useSuspenseQuery({ macroId: id });\n\tconst [macro] = trpc.analysis.findMacro.useSuspenseQuery({ id: id });\n\n\tuseTopMenu(\n\t\t'Analysis Recordings',\n\t\tuseCallback(\n\t\t\t(Menu) => {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Menu.MenubarMenu>\n\t\t\t\t\t\t\t<Menu.MenubarTrigger className=\"cursor-pointer\" asChild>\n\t\t\t\t\t\t\t\t<span onClick={() => window.history.back()}>\n\t\t\t\t\t\t\t\t\t<Menu.MenubarIcon Icon={ChevronLeft} />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:inline\">Back</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Menu.MenubarTrigger>\n\t\t\t\t\t\t\t<Menu.MenubarContent className=\"hidden\" />\n\t\t\t\t\t\t</Menu.MenubarMenu>\n\t\t\t\t\t\t<Menu.MenubarMenu>\n\t\t\t\t\t\t\t<Menu.MenubarTrigger asChild className=\"cursor-pointer\">\n\t\t\t\t\t\t\t\t<Link href={`/analysis/macros/${id}/edit`}>\n\t\t\t\t\t\t\t\t\t<Menu.MenubarIcon Icon={Pencil} />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:inline\">Edit</span>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Menu.MenubarTrigger>\n\t\t\t\t\t\t\t<Menu.MenubarContent className=\"hidden\" />\n\t\t\t\t\t\t</Menu.MenubarMenu>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t},\n\t\t\t[id],\n\t\t),\n\t);\n\n\tconst runs = macroRecordingsQuery.result\n\t\t.map((recording) => recording.macroRecordingRunId)\n\t\t.filter((value, index, self) => self.indexOf(value) === index);\n\n\treturn (\n\t\t<div className=\"flex h-full flex-1 flex-col space-y-8 p-8\">\n\t\t\t<div className=\"flex items-center justify-between space-y-2\">\n\t\t\t\t<div>\n\t\t\t\t\t<h2 className=\"text-2xl font-bold tracking-tight\">Recordings for {macro.name}</h2>\n\t\t\t\t\t<p className=\"text-base font-medium text-muted-foreground\">\n\t\t\t\t\t\tYou have recorded {macroRecordingsQuery.result.length} sequence(s) over a total of {runs.length} run\n\t\t\t\t\t\t{runs.length === 1 ? '' : 's'} for this macro so far.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<DataTable\n\t\t\t\tdata={macroRecordingsQuery.result ?? []}\n\t\t\t\tcolumns={columns}\n\t\t\t\tinitialGrouping={['macroRecordingRunId']}\n\t\t\t\tinitialColumnVisibility={{ macroRecordingRunId: false }}\n\t\t\t\tinitialSorting={[{ desc: true, id: 'date' }]}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"names":["Promise","resolve","then","__webpack_require__","bind","RecordingBulkActions","param","selection","onUpdate","isAlertVisible","setIsAlertVisible","useState","deleteRecordings","trpc","analysis","useMutation","jsx_runtime","jsxs","div","className","DropdownMenu","jsx","DropdownMenuTrigger","asChild","Button","variant","size","DotsVerticalIcon","span","DropdownMenuContent","align","DropdownMenuItem","onClick","disabled","rows","length","AlertDialog","open","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","flatRows","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","result","mutateAsync","macroId","original","recordingIds","map","row","id","success","recordingsRemoved","getLogger","error","toast","description","concat","msg","e","ids","Error","message","String","luxon","defaultLocale","userLocale","local","locale","columns","minSize","header","table","Checkbox","checked","getIsAllPageRowsSelected","getIsSomePageRowsSelected","onCheckedChange","toggleAllPageRowsSelected","value","aria-label","cell","getIsSelected","toggleSelected","enableSorting","enableHiding","accessorKey","enableGrouping","column","DataTableColumnHeader","title","leafRows","getLeafRows","start","fromMillis","startTimeStamp","end","endTimeStamp","date","equals","toFormat","human","setLocale","toLocaleString","dateStyle","timeStyle","sortingFn","a","b","sortDescFirst","labels","name","forEach","push","r","find","l","accel","accelerometer","label","recordingHardwareName","color","icon","Cpu","Server","ArrowDownToDot","Target","Badge","Link","href","macroRecordingRunId","slice","join","filterFn","filterValues","searchString","Array","isArray","flat","some","includes","filterValue","getFacetedOptions","duration","shiftTo","toHuman","unitDisplay","maximumSignificantDigits","getSelectedRowModel","Pencil","createLucideIcon","Z","d","key","metadata","MacroRecordings","macroRecordingsQuery","getRecordings","useSuspenseQuery","macro","findMacro","useTopMenu","useCallback","Fragment","Menu","MenubarMenu","MenubarTrigger","window","history","back","MenubarIcon","Icon","ChevronLeft","MenubarContent","runs","recording","filter","index","self","indexOf","h2","p","DataTable","data","initialGrouping","initialColumnVisibility","initialSorting","desc"],"sourceRoot":""}